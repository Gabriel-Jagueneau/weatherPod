var hv=Object.defineProperty;var fv=(e,t,n)=>t in e?hv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lg=(e,t,n)=>fv(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G_={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.transitional.element"),mv=Symbol.for("react.fragment");function F_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:gv,type:e,key:i,ref:t!==void 0?t:null,props:n}}Su.Fragment=mv;Su.jsx=F_;Su.jsxs=F_;G_.exports=Su;var w=G_.exports,U_={exports:{}},k={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.transitional.element"),_v=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),Ev=Symbol.for("react.consumer"),Sv=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Cv=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),Rv=Symbol.for("react.activity"),ag=Symbol.iterator;function bv(e){return e===null||typeof e!="object"?null:(e=ag&&e[ag]||e["@@iterator"],typeof e=="function"?e:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j_=Object.assign,B_={};function Zl(e,t,n){this.props=e,this.context=t,this.refs=B_,this.updater=n||X_}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H_(){}H_.prototype=Zl.prototype;function vf(e,t,n){this.props=e,this.context=t,this.refs=B_,this.updater=n||X_}var Ef=vf.prototype=new H_;Ef.constructor=vf;j_(Ef,Zl.prototype);Ef.isPureReactComponent=!0;var rg=Array.isArray;function ah(){}var xt={H:null,A:null,T:null,S:null},Z_=Object.prototype.hasOwnProperty;function Sf(e,t,n){var i=n.ref;return{$$typeof:pf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Av(e,t){return Sf(e.type,t,e.props)}function xf(e){return typeof e=="object"&&e!==null&&e.$$typeof===pf}function Mv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var og=/\/+/g;function rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mv(""+e.key):t.toString(36)}function wv(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ah,ah):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Vs(e,t,n,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case pf:case _v:a=!0;break;case Y_:return a=e._init,Vs(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+rc(e,0):i,rg(s)?(n="",a!=null&&(n=a.replace(og,"$&/")+"/"),Vs(s,t,n,"",function(u){return u})):s!=null&&(xf(s)&&(s=Av(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(og,"$&/")+"/")+a)),t.push(s)),1;a=0;var r=i===""?".":i+":";if(rg(e))for(var o=0;o<e.length;o++)i=e[o],l=r+rc(i,o),a+=Vs(i,t,n,l,s);else if(o=bv(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+rc(i,o++),a+=Vs(i,t,n,l,s);else if(l==="object"){if(typeof e.then=="function")return Vs(wv(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Br(e,t,n){if(e==null)return e;var i=[],s=0;return Vs(e,i,"","",function(l){return t.call(n,l,s++)}),i}function Ov(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ug=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dv={map:Br,forEach:function(e,t,n){Br(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Br(e,function(){t++}),t},toArray:function(e){return Br(e,function(t){return t})||[]},only:function(e){if(!xf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};k.Activity=Rv;k.Children=Dv;k.Component=Zl;k.Fragment=yv;k.Profiler=vv;k.PureComponent=vf;k.StrictMode=pv;k.Suspense=Tv;k.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;k.__COMPILER_RUNTIME={__proto__:null,c:function(e){return xt.H.useMemoCache(e)}};k.cache=function(e){return function(){return e.apply(null,arguments)}};k.cacheSignal=function(){return null};k.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=j_({},e.props),s=e.key;if(t!=null)for(l in t.key!==void 0&&(s=""+t.key),t)!Z_.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),r=0;r<l;r++)a[r]=arguments[r+2];i.children=a}return Sf(e.type,s,i)};k.createContext=function(e){return e={$$typeof:Sv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ev,_context:e},e};k.createElement=function(e,t,n){var i,s={},l=null;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)Z_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];s.children=r}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Sf(e,l,s)};k.createRef=function(){return{current:null}};k.forwardRef=function(e){return{$$typeof:xv,render:e}};k.isValidElement=xf;k.lazy=function(e){return{$$typeof:Y_,_payload:{_status:-1,_result:e},_init:Ov}};k.memo=function(e,t){return{$$typeof:Cv,type:e,compare:t===void 0?null:t}};k.startTransition=function(e){var t=xt.T,n={};xt.T=n;try{var i=e(),s=xt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ah,ug)}catch(l){ug(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),xt.T=t}};k.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()};k.use=function(e){return xt.H.use(e)};k.useActionState=function(e,t,n){return xt.H.useActionState(e,t,n)};k.useCallback=function(e,t){return xt.H.useCallback(e,t)};k.useContext=function(e){return xt.H.useContext(e)};k.useDebugValue=function(){};k.useDeferredValue=function(e,t){return xt.H.useDeferredValue(e,t)};k.useEffect=function(e,t){return xt.H.useEffect(e,t)};k.useEffectEvent=function(e){return xt.H.useEffectEvent(e)};k.useId=function(){return xt.H.useId()};k.useImperativeHandle=function(e,t,n){return xt.H.useImperativeHandle(e,t,n)};k.useInsertionEffect=function(e,t){return xt.H.useInsertionEffect(e,t)};k.useLayoutEffect=function(e,t){return xt.H.useLayoutEffect(e,t)};k.useMemo=function(e,t){return xt.H.useMemo(e,t)};k.useOptimistic=function(e,t){return xt.H.useOptimistic(e,t)};k.useReducer=function(e,t,n){return xt.H.useReducer(e,t,n)};k.useRef=function(e){return xt.H.useRef(e)};k.useState=function(e){return xt.H.useState(e)};k.useSyncExternalStore=function(e,t,n){return xt.H.useSyncExternalStore(e,t,n)};k.useTransition=function(){return xt.H.useTransition()};k.version="19.2.0";U_.exports=k;var Xt=U_.exports,q_={exports:{}},xu={},k_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,z){var L=T.length;T.push(z);t:for(;0<L;){var Z=L-1>>>1,G=T[Z];if(0<s(G,z))T[Z]=z,T[L]=G,L=Z;else break t}}function n(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var z=T[0],L=T.pop();if(L!==z){T[0]=L;t:for(var Z=0,G=T.length,Q=G>>>1;Z<Q;){var P=2*(Z+1)-1,ct=T[P],O=P+1,zt=T[O];if(0>s(ct,L))O<G&&0>s(zt,ct)?(T[Z]=zt,T[O]=L,Z=O):(T[Z]=ct,T[P]=L,Z=P);else if(O<G&&0>s(zt,L))T[Z]=zt,T[O]=L,Z=O;else break t}}return z}function s(T,z){var L=T.sortIndex-z.sortIndex;return L!==0?L:T.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,r=a.now();e.unstable_now=function(){return a.now()-r}}var o=[],u=[],c=1,h=null,f=3,d=!1,_=!1,p=!1,E=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function v(T){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=T)i(u),z.sortIndex=z.expirationTime,t(o,z);else break;z=n(u)}}function S(T){if(p=!1,v(T),!_)if(n(o)!==null)_=!0,b||(b=!0,I());else{var z=n(u);z!==null&&H(S,z.startTime-T)}}var b=!1,x=-1,C=5,R=-1;function D(){return E?!0:!(e.unstable_now()-R<C)}function N(){if(E=!1,b){var T=e.unstable_now();R=T;var z=!0;try{t:{_=!1,p&&(p=!1,g(x),x=-1),d=!0;var L=f;try{e:{for(v(T),h=n(o);h!==null&&!(h.expirationTime>T&&D());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var G=Z(h.expirationTime<=T);if(T=e.unstable_now(),typeof G=="function"){h.callback=G,v(T),z=!0;break e}h===n(o)&&i(o),v(T)}else i(o);h=n(o)}if(h!==null)z=!0;else{var Q=n(u);Q!==null&&H(S,Q.startTime-T),z=!1}}break t}finally{h=null,f=L,d=!1}z=void 0}}finally{z?I():b=!1}}}var I;if(typeof y=="function")I=function(){y(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=N,I=function(){j.postMessage(null)}}else I=function(){m(N,0)};function H(T,z){x=m(function(){T(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var L=f;f=z;try{return T()}finally{f=L}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return z()}finally{f=L}},e.unstable_scheduleCallback=function(T,z,L){var Z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,T={id:c++,callback:z,priorityLevel:T,startTime:L,expirationTime:G,sortIndex:-1},L>Z?(T.sortIndex=L,t(u,T),n(o)===null&&T===n(u)&&(p?(g(x),x=-1):p=!0,H(S,L-Z))):(T.sortIndex=G,t(o,T),_||d||(_=!0,b||(b=!0,I()))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var z=f;return function(){var L=f;f=z;try{return T.apply(this,arguments)}finally{f=L}}}})(V_);k_.exports=V_;var Lv=k_.exports,K_={exports:{}},me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=Xt;function P_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gi(){}var de={d:{f:gi,r:function(){throw Error(P_(522))},D:gi,C:gi,L:gi,m:gi,X:gi,S:gi,M:gi},p:0,findDOMNode:null},Nv=Symbol.for("react.portal");function Iv(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nv,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var wa=zv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Tu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de;me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(P_(299));return Iv(e,t,null,n)};me.flushSync=function(e){var t=wa.T,n=de.p;try{if(wa.T=null,de.p=2,e)return e()}finally{wa.T=t,de.p=n,de.d.f()}};me.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,de.d.C(e,t))};me.prefetchDNS=function(e){typeof e=="string"&&de.d.D(e)};me.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Tu(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?de.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:l}):n==="script"&&de.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};me.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Tu(t.as,t.crossOrigin);de.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&de.d.M(e)};me.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Tu(n,t.crossOrigin);de.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};me.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Tu(t.as,t.crossOrigin);de.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else de.d.m(e)};me.requestFormReset=function(e){de.d.r(e)};me.unstable_batchedUpdates=function(e,t){return e(t)};me.useFormState=function(e,t,n){return wa.H.useFormState(e,t,n)};me.useFormStatus=function(){return wa.H.useHostTransitionStatus()};me.version="19.2.0";function W_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W_)}catch(e){console.error(e)}}W_(),K_.exports=me;var Gv=K_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=Lv,Q_=Xt,Fv=Gv;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function J_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function t0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cg(e){if(Er(e)!==e)throw Error(M(188))}function Uv(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return cg(s),e;if(l===i)return cg(s),t;l=l.sibling}throw Error(M(188))}if(n.return!==i.return)n=s,i=l;else{for(var a=!1,r=s.child;r;){if(r===n){a=!0,n=s,i=l;break}if(r===i){a=!0,i=s,n=l;break}r=r.sibling}if(!a){for(r=l.child;r;){if(r===n){a=!0,n=l,i=s;break}if(r===i){a=!0,i=l,n=s;break}r=r.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function e0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=e0(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,Yv=Symbol.for("react.element"),Hr=Symbol.for("react.transitional.element"),Sa=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),i0=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),ch=Symbol.for("react.activity"),Xv=Symbol.for("react.memo_cache_sentinel"),hg=Symbol.iterator;function ua(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var jv=Symbol.for("react.client.reference");function hh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===jv?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case el:return"Fragment";case rh:return"Profiler";case n0:return"StrictMode";case oh:return"Suspense";case uh:return"SuspenseList";case ch:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Sa:return"Portal";case Vn:return e.displayName||"Context";case i0:return(e._context.displayName||"Context")+".Consumer";case Tf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cf:return t=e.displayName||null,t!==null?t:hh(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return hh(e(t))}catch{}}return null}var xa=Array.isArray,X=Q_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=Fv.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ps={pending:!1,data:null,method:null,action:null},fh=[],nl=-1;function An(e){return{current:e}}function Kt(e){0>nl||(e.current=fh[nl],fh[nl]=null,nl--)}function vt(e,t){nl++,fh[nl]=e.current,e.current=t}var Cn=An(null),ka=An(null),Ii=An(null),zo=An(null);function No(e,t){switch(vt(Ii,t),vt(ka,e),vt(Cn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ym(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ym(t),e=T1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt(Cn),vt(Cn,e)}function Al(){Kt(Cn),Kt(ka),Kt(Ii)}function dh(e){e.memoizedState!==null&&vt(zo,e);var t=Cn.current,n=T1(t,e.type);t!==n&&(vt(ka,e),vt(Cn,n))}function Io(e){ka.current===e&&(Kt(Cn),Kt(ka)),zo.current===e&&(Kt(zo),ir._currentValue=ps)}var oc,fg;function os(e){if(oc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oc=t&&t[1]||"",fg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oc+e+fg}var uc=!1;function cc(e,t){if(!e||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(d){var f=d}Reflect.construct(e,[],h)}else{try{h.call()}catch(d){f=d}e.call(h.prototype)}}else{try{throw Error()}catch(d){f=d}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(d){if(d&&f&&typeof d.stack=="string")return[d.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),a=l[0],r=l[1];if(a&&r){var o=a.split(`
`),u=r.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===u.length)for(i=o.length-1,s=u.length-1;1<=i&&0<=s&&o[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==u[s]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=s);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?os(n):""}function Bv(e,t){switch(e.tag){case 26:case 27:case 5:return os(e.type);case 16:return os("Lazy");case 13:return e.child!==t&&t!==null?os("Suspense Fallback"):os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return cc(e.type,!1);case 11:return cc(e.type.render,!1);case 1:return cc(e.type,!0);case 31:return os("Activity");default:return""}}function dg(e){try{var t="",n=null;do t+=Bv(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var gh=Object.prototype.hasOwnProperty,Rf=Bt.unstable_scheduleCallback,hc=Bt.unstable_cancelCallback,Hv=Bt.unstable_shouldYield,Zv=Bt.unstable_requestPaint,Le=Bt.unstable_now,qv=Bt.unstable_getCurrentPriorityLevel,s0=Bt.unstable_ImmediatePriority,l0=Bt.unstable_UserBlockingPriority,Go=Bt.unstable_NormalPriority,kv=Bt.unstable_LowPriority,a0=Bt.unstable_IdlePriority,Vv=Bt.log,Kv=Bt.unstable_setDisableYieldValue,Sr=null,ze=null;function Mi(e){if(typeof Vv=="function"&&Kv(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Sr,e)}catch{}}var Ne=Math.clz32?Math.clz32:Qv,Pv=Math.log,Wv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(Pv(e)/Wv|0)|0}var Zr=256,qr=262144,kr=4194304;function us(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?s=us(i):(a&=r,a!==0?s=us(a):n||(n=r&~e,n!==0&&(s=us(n))))):(r=i&~l,r!==0?s=us(r):a!==0?s=us(a):n||(n=i&~e,n!==0&&(s=us(n)))),s===0?0:t!==0&&t!==s&&!(t&l)&&(l=s&-s,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:s}function xr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r0(){var e=kr;return kr<<=1,!(kr&62914560)&&(kr=4194304),e}function fc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $v(e,t,n,i,s,l){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-Ne(n),h=1<<c;r[c]=0,o[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var d=f[c];d!==null&&(d.lane&=-536870913)}n&=~h}i!==0&&o0(e,i,0),l!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=l&~(a&~t))}function o0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ne(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function u0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ne(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function c0(e,t){var n=t&-t;return n=n&42?1:bf(n),n&(e.suspendedLanes|t)?0:n}function bf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Af(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function h0(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:N1(e.type))}function gg(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Qi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Qi,Ce="__reactProps$"+Qi,ql="__reactContainer$"+Qi,mh="__reactEvents$"+Qi,tE="__reactListeners$"+Qi,eE="__reactHandles$"+Qi,mg="__reactResources$"+Qi,Cr="__reactMarker$"+Qi;function Mf(e){delete e[Jt],delete e[Ce],delete e[mh],delete e[tE],delete e[eE]}function il(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ql]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xm(e);e!==null;){if(n=e[Jt])return n;e=xm(e)}return t}e=n,n=e.parentNode}return null}function kl(e){if(e=e[Jt]||e[ql]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ta(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function _l(e){var t=e[mg];return t||(t=e[mg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function kt(e){e[Cr]=!0}var f0=new Set,d0={};function Ls(e,t){Ml(e,t),Ml(e+"Capture",t)}function Ml(e,t){for(d0[e]=t,e=0;e<t.length;e++)f0.add(t[e])}var nE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_g={},yg={};function iE(e){return gh.call(yg,e)?!0:gh.call(_g,e)?!1:nE.test(e)?yg[e]=!0:(_g[e]=!0,!1)}function yo(e,t,n){if(iE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Nn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _h(e){if(!e._valueTracker){var t=g0(e)?"checked":"value";e._valueTracker=sE(e,t,""+e[t])}}function m0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=g0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lE=/[\n"\\]/g;function Pe(e){return e.replace(lE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yh(e,t,n,i,s,l,a,r){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qe(t)):e.value!==""+qe(t)&&(e.value=""+qe(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ph(e,a,qe(t)):n!=null?ph(e,a,qe(n)):i!=null&&e.removeAttribute("value"),s==null&&l!=null&&(e.defaultChecked=!!l),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+qe(r):e.removeAttribute("name")}function _0(e,t,n,i,s,l,a,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){_h(e);return}n=n!=null?""+qe(n):"",t=t!=null?""+qe(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),_h(e)}function ph(e,t,n){t==="number"&&Fo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yl(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+qe(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function y0(e,t,n){if(t!=null&&(t=""+qe(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qe(n):""}function p0(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(M(92));if(xa(i)){if(1<i.length)throw Error(M(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=qe(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),_h(e)}function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||aE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function v0(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&pg(e,s,i)}else for(var l in t)t.hasOwnProperty(l)&&pg(e,l,t[l])}function wf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(e){return oE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var vh=null;function Of(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,pl=null;function vg(e){var t=kl(e);if(t&&(e=t.stateNode)){var n=e[Ce]||null;t:switch(e=t.stateNode,t.type){case"input":if(yh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Ce]||null;if(!s)throw Error(M(90));yh(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&m0(i)}break t;case"textarea":y0(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&yl(e,!!n.multiple,t,!1)}}}var dc=!1;function E0(e,t,n){if(dc)return e(t,n);dc=!0;try{var i=e(t);return i}finally{if(dc=!1,(sl!==null||pl!==null)&&(Gu(),sl&&(t=sl,e=pl,pl=sl=null,vg(t),e)))for(t=0;t<e.length;t++)vg(e[t])}}function Va(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ce]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=!1;if(ni)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Eh=!1}var wi=null,Df=null,vo=null;function S0(){if(vo)return vo;var e,t=Df,n=t.length,i,s="value"in wi?wi.value:wi.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[l-i];i++);return vo=s.slice(e,1<i?1-i:void 0)}function Eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Eg(){return!1}function Re(e){function t(n,i,s,l,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Kr:Eg,this.isPropagationStopped=Eg,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=Re(zs),Rr=Ct({},zs,{view:0,detail:0}),uE=Re(Rr),gc,mc,ha,bu=Ct({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(gc=e.screenX-ha.screenX,mc=e.screenY-ha.screenY):mc=gc=0,ha=e),gc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Sg=Re(bu),cE=Ct({},bu,{dataTransfer:0}),hE=Re(cE),fE=Ct({},Rr,{relatedTarget:0}),_c=Re(fE),dE=Ct({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=Re(dE),mE=Ct({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_E=Re(mE),yE=Ct({},zs,{data:0}),xg=Re(yE),pE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EE[e])?!!t[e]:!1}function Lf(){return SE}var xE=Ct({},Rr,{key:function(e){if(e.key){var t=pE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TE=Re(xE),CE=Ct({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tg=Re(CE),RE=Ct({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),bE=Re(RE),AE=Ct({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ME=Re(AE),wE=Ct({},bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OE=Re(wE),DE=Ct({},zs,{newState:0,oldState:0}),LE=Re(DE),zE=[9,13,27,32],zf=ni&&"CompositionEvent"in window,Oa=null;ni&&"documentMode"in document&&(Oa=document.documentMode);var NE=ni&&"TextEvent"in window&&!Oa,x0=ni&&(!zf||Oa&&8<Oa&&11>=Oa),Cg=" ",Rg=!1;function T0(e,t){switch(e){case"keyup":return zE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function IE(e,t){switch(e){case"compositionend":return C0(t);case"keypress":return t.which!==32?null:(Rg=!0,Cg);case"textInput":return e=t.data,e===Cg&&Rg?null:e;default:return null}}function GE(e,t){if(ll)return e==="compositionend"||!zf&&T0(e,t)?(e=S0(),vo=Df=wi=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x0&&t.locale!=="ko"?null:t.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FE[e.type]:t==="textarea"}function R0(e,t,n,i){sl?pl?pl.push(i):pl=[i]:sl=i,t=eu(t,"onChange"),0<t.length&&(n=new Ru("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Da=null,Ka=null;function UE(e){E1(e,0)}function Au(e){var t=Ta(e);if(m0(t))return e}function Ag(e,t){if(e==="change")return t}var b0=!1;if(ni){var yc;if(ni){var pc="oninput"in document;if(!pc){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),pc=typeof Mg.oninput=="function"}yc=pc}else yc=!1;b0=yc&&(!document.documentMode||9<document.documentMode)}function wg(){Da&&(Da.detachEvent("onpropertychange",A0),Ka=Da=null)}function A0(e){if(e.propertyName==="value"&&Au(Ka)){var t=[];R0(t,Ka,e,Of(e)),E0(UE,t)}}function YE(e,t,n){e==="focusin"?(wg(),Da=t,Ka=n,Da.attachEvent("onpropertychange",A0)):e==="focusout"&&wg()}function XE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ka)}function jE(e,t){if(e==="click")return Au(t)}function BE(e,t){if(e==="input"||e==="change")return Au(t)}function HE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ge=typeof Object.is=="function"?Object.is:HE;function Pa(e,t){if(Ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!gh.call(t,s)||!Ge(e[s],t[s]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,t){var n=Og(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Og(n)}}function M0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fo(e.document)}return t}function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ZE=ni&&"documentMode"in document&&11>=document.documentMode,al=null,Sh=null,La=null,xh=!1;function Lg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xh||al==null||al!==Fo(i)||(i=al,"selectionStart"in i&&Nf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),La&&Pa(La,i)||(La=i,i=eu(Sh,"onSelect"),0<i.length&&(t=new Ru("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=al)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rl={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},vc={},O0={};ni&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Ns(e){if(vc[e])return vc[e];if(!rl[e])return e;var t=rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in O0)return vc[e]=t[n];return e}var D0=Ns("animationend"),L0=Ns("animationiteration"),z0=Ns("animationstart"),qE=Ns("transitionrun"),kE=Ns("transitionstart"),VE=Ns("transitioncancel"),N0=Ns("transitionend"),I0=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function gn(e,t){I0.set(e,t),Ls(t,[e])}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},He=[],ol=0,If=0;function Mu(){for(var e=ol,t=If=ol=0;t<e;){var n=He[t];He[t++]=null;var i=He[t];He[t++]=null;var s=He[t];He[t++]=null;var l=He[t];if(He[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}l!==0&&G0(n,s,l)}}function wu(e,t,n,i){He[ol++]=e,He[ol++]=t,He[ol++]=n,He[ol++]=i,If|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Gf(e,t,n,i){return wu(e,t,n,i),Yo(e)}function Is(e,t){return wu(e,null,null,t),Yo(e)}function G0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,l=e.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(s=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,s&&t!==null&&(s=31-Ne(n),e=l.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),l):null}function Yo(e){if(50<ja)throw ja=0,Zh=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ul={};function KE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function we(e,t,n,i){return new KE(e,t,n,i)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var n=e.alternate;return n===null?(n=we(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function F0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function So(e,t,n,i,s,l){var a=0;if(i=e,typeof e=="function")Ff(e)&&(a=1);else if(typeof e=="string")a=$2(e,n,Cn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case ch:return e=we(31,n,t,s),e.elementType=ch,e.lanes=l,e;case el:return vs(n.children,s,l,t);case n0:a=8,s|=24;break;case rh:return e=we(12,n,t,s|2),e.elementType=rh,e.lanes=l,e;case oh:return e=we(13,n,t,s),e.elementType=oh,e.lanes=l,e;case uh:return e=we(19,n,t,s),e.elementType=uh,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vn:a=10;break t;case i0:a=9;break t;case Tf:a=11;break t;case Cf:a=14;break t;case Si:a=16,i=null;break t}a=29,n=Error(M(130,e===null?"null":typeof e,"")),i=null}return t=we(a,n,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function vs(e,t,n,i){return e=we(7,e,i,t),e.lanes=n,e}function Ec(e,t,n){return e=we(6,e,null,t),e.lanes=n,e}function U0(e){var t=we(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,n){return t=we(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zg=new WeakMap;function We(e,t){if(typeof e=="object"&&e!==null){var n=zg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dg(t)},zg.set(e,t),t)}return{value:e,source:t,stack:dg(t)}}var cl=[],hl=0,Xo=null,Wa=0,ke=[],Ve=0,qi=null,vn=1,En="";function Zn(e,t){cl[hl++]=Wa,cl[hl++]=Xo,Xo=e,Wa=t}function Y0(e,t,n){ke[Ve++]=vn,ke[Ve++]=En,ke[Ve++]=qi,qi=e;var i=vn;e=En;var s=32-Ne(i)-1;i&=~(1<<s),n+=1;var l=32-Ne(t)+s;if(30<l){var a=s-s%5;l=(i&(1<<a)-1).toString(32),i>>=a,s-=a,vn=1<<32-Ne(t)+s|n<<s|i,En=l+e}else vn=1<<l|n<<s|i,En=e}function Uf(e){e.return!==null&&(Zn(e,1),Y0(e,1,0))}function Yf(e){for(;e===Xo;)Xo=cl[--hl],cl[hl]=null,Wa=cl[--hl],cl[hl]=null;for(;e===qi;)qi=ke[--Ve],ke[Ve]=null,En=ke[--Ve],ke[Ve]=null,vn=ke[--Ve],ke[Ve]=null}function X0(e,t){ke[Ve++]=vn,ke[Ve++]=En,ke[Ve++]=qi,vn=t.id,En=t.overflow,qi=e}var $t=null,St=null,nt=!1,Gi=null,Qe=!1,Ch=Error(M(519));function ki(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qa(We(t,e)),Ch}function Ng(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Jt]=e,t[Ce]=i,n){case"dialog":$("cancel",t),$("close",t);break;case"iframe":case"object":case"embed":$("load",t);break;case"video":case"audio":for(n=0;n<er.length;n++)$(er[n],t);break;case"source":$("error",t);break;case"img":case"image":case"link":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"input":$("invalid",t),_0(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":$("invalid",t);break;case"textarea":$("invalid",t),p0(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||x1(t.textContent,n)?(i.popover!=null&&($("beforetoggle",t),$("toggle",t)),i.onScroll!=null&&$("scroll",t),i.onScrollEnd!=null&&$("scrollend",t),i.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||ki(e,!0)}function Ig(e){for($t=e.return;$t;)switch($t.tag){case 5:case 31:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:$t=$t.return}}function Xs(e){if(e!==$t)return!1;if(!nt)return Ig(e),nt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ph(e.type,e.memoizedProps)),n=!n),n&&St&&ki(e),Ig(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));St=Sm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));St=Sm(e)}else t===27?(t=St,Ji(e.type)?(e=$h,$h=null,St=e):St=t):St=$t?en(e.stateNode.nextSibling):null;return!0}function Cs(){St=$t=null,nt=!1}function xc(){var e=Gi;return e!==null&&(ve===null?ve=e:ve.push.apply(ve,e),Gi=null),e}function Qa(e){Gi===null?Gi=[e]:Gi.push(e)}var Rh=An(null),Gs=null,Pn=null;function Ci(e,t,n){vt(Rh,t._currentValue),t._currentValue=n}function Qn(e){e._currentValue=Rh.current,Kt(Rh)}function bh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ah(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){var a=s.child;l=l.firstContext;t:for(;l!==null;){var r=l;l=s;for(var o=0;o<t.length;o++)if(r.context===t[o]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),bh(l.return,n,e),i||(a=null);break t}l=r.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),bh(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Vl(e,t,n,i){e=null;for(var s=t,l=!1;s!==null;){if(!l){if(s.flags&524288)l=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(M(387));if(a=a.memoizedProps,a!==null){var r=s.type;Ge(s.pendingProps.value,a.value)||(e!==null?e.push(r):e=[r])}}else if(s===zo.current){if(a=s.alternate,a===null)throw Error(M(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}s=s.return}e!==null&&Ah(t,e,n,i),t.flags|=262144}function jo(e){for(e=e.firstContext;e!==null;){if(!Ge(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){Gs=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function te(e){return j0(Gs,e)}function Pr(e,t){return Gs===null&&Rs(e),j0(e,t)}function j0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pn===null){if(e===null)throw Error(M(308));Pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pn=Pn.next=t;return n}var PE=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},WE=Bt.unstable_scheduleCallback,QE=Bt.unstable_NormalPriority,Ft={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new PE,data:new Map,refCount:0}}function br(e){e.refCount--,e.refCount===0&&WE(QE,function(){e.controller.abort()})}var za=null,Mh=0,Ol=0,vl=null;function JE(e,t){if(za===null){var n=za=[];Mh=0,Ol=hd(),vl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Mh++,t.then(Gg,Gg),t}function Gg(){if(--Mh===0&&za!==null){vl!==null&&(vl.status="fulfilled");var e=za;za=null,Ol=0,vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $E(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Fg=X.S;X.S=function(e,t){e1=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&JE(e,t),Fg!==null&&Fg(e,t)};var Es=An(null);function jf(){var e=Es.current;return e!==null?e:pt.pooledCache}function xo(e,t){t===null?vt(Es,Es.current):vt(Es,t.pool)}function B0(){var e=jf();return e===null?null:{parent:Ft._currentValue,pool:e}}var Kl=Error(M(460)),Bf=Error(M(474)),Ou=Error(M(542)),Bo={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function H0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Kn,Kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xg(e),e;default:if(typeof t.status=="string")t.then(Kn,Kn);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xg(e),e}throw Ss=t,Kl}}function cs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ss=n,Kl):n}}var Ss=null;function Yg(){if(Ss===null)throw Error(M(459));var e=Ss;return Ss=null,e}function Xg(e){if(e===Kl||e===Ou)throw Error(M(483))}var El=null,Ja=0;function Wr(e){var t=Ja;return Ja+=1,El===null&&(El=[]),H0(El,e,t)}function fa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qr(e,t){throw t.$$typeof===Yv?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Z0(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function i(m){for(var g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(m,g){return m=Wn(m,g),m.index=0,m.sibling=null,m}function l(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=67108866,g):y):(m.flags|=67108866,g)):(m.flags|=1048576,g)}function a(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function r(m,g,y,v){return g===null||g.tag!==6?(g=Ec(y,m.mode,v),g.return=m,g):(g=s(g,y),g.return=m,g)}function o(m,g,y,v){var S=y.type;return S===el?c(m,g,y.props.children,v,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Si&&cs(S)===g.type)?(g=s(g,y.props),fa(g,y),g.return=m,g):(g=So(y.type,y.key,y.props,null,m.mode,v),fa(g,y),g.return=m,g)}function u(m,g,y,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Sc(y,m.mode,v),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function c(m,g,y,v,S){return g===null||g.tag!==7?(g=vs(y,m.mode,v,S),g.return=m,g):(g=s(g,y),g.return=m,g)}function h(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ec(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hr:return y=So(g.type,g.key,g.props,null,m.mode,y),fa(y,g),y.return=m,y;case Sa:return g=Sc(g,m.mode,y),g.return=m,g;case Si:return g=cs(g),h(m,g,y)}if(xa(g)||ua(g))return g=vs(g,m.mode,y,null),g.return=m,g;if(typeof g.then=="function")return h(m,Wr(g),y);if(g.$$typeof===Vn)return h(m,Pr(m,g),y);Qr(m,g)}return null}function f(m,g,y,v){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return S!==null?null:r(m,g,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hr:return y.key===S?o(m,g,y,v):null;case Sa:return y.key===S?u(m,g,y,v):null;case Si:return y=cs(y),f(m,g,y,v)}if(xa(y)||ua(y))return S!==null?null:c(m,g,y,v,null);if(typeof y.then=="function")return f(m,g,Wr(y),v);if(y.$$typeof===Vn)return f(m,g,Pr(m,y),v);Qr(m,y)}return null}function d(m,g,y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(y)||null,r(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hr:return m=m.get(v.key===null?y:v.key)||null,o(g,m,v,S);case Sa:return m=m.get(v.key===null?y:v.key)||null,u(g,m,v,S);case Si:return v=cs(v),d(m,g,y,v,S)}if(xa(v)||ua(v))return m=m.get(y)||null,c(g,m,v,S,null);if(typeof v.then=="function")return d(m,g,y,Wr(v),S);if(v.$$typeof===Vn)return d(m,g,y,Pr(g,v),S);Qr(g,v)}return null}function _(m,g,y,v){for(var S=null,b=null,x=g,C=g=0,R=null;x!==null&&C<y.length;C++){x.index>C?(R=x,x=null):R=x.sibling;var D=f(m,x,y[C],v);if(D===null){x===null&&(x=R);break}e&&x&&D.alternate===null&&t(m,x),g=l(D,g,C),b===null?S=D:b.sibling=D,b=D,x=R}if(C===y.length)return n(m,x),nt&&Zn(m,C),S;if(x===null){for(;C<y.length;C++)x=h(m,y[C],v),x!==null&&(g=l(x,g,C),b===null?S=x:b.sibling=x,b=x);return nt&&Zn(m,C),S}for(x=i(x);C<y.length;C++)R=d(x,m,C,y[C],v),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?C:R.key),g=l(R,g,C),b===null?S=R:b.sibling=R,b=R);return e&&x.forEach(function(N){return t(m,N)}),nt&&Zn(m,C),S}function p(m,g,y,v){if(y==null)throw Error(M(151));for(var S=null,b=null,x=g,C=g=0,R=null,D=y.next();x!==null&&!D.done;C++,D=y.next()){x.index>C?(R=x,x=null):R=x.sibling;var N=f(m,x,D.value,v);if(N===null){x===null&&(x=R);break}e&&x&&N.alternate===null&&t(m,x),g=l(N,g,C),b===null?S=N:b.sibling=N,b=N,x=R}if(D.done)return n(m,x),nt&&Zn(m,C),S;if(x===null){for(;!D.done;C++,D=y.next())D=h(m,D.value,v),D!==null&&(g=l(D,g,C),b===null?S=D:b.sibling=D,b=D);return nt&&Zn(m,C),S}for(x=i(x);!D.done;C++,D=y.next())D=d(x,m,C,D.value,v),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?C:D.key),g=l(D,g,C),b===null?S=D:b.sibling=D,b=D);return e&&x.forEach(function(I){return t(m,I)}),nt&&Zn(m,C),S}function E(m,g,y,v){if(typeof y=="object"&&y!==null&&y.type===el&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hr:t:{for(var S=y.key;g!==null;){if(g.key===S){if(S=y.type,S===el){if(g.tag===7){n(m,g.sibling),v=s(g,y.props.children),v.return=m,m=v;break t}}else if(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Si&&cs(S)===g.type){n(m,g.sibling),v=s(g,y.props),fa(v,y),v.return=m,m=v;break t}n(m,g);break}else t(m,g);g=g.sibling}y.type===el?(v=vs(y.props.children,m.mode,v,y.key),v.return=m,m=v):(v=So(y.type,y.key,y.props,null,m.mode,v),fa(v,y),v.return=m,m=v)}return a(m);case Sa:t:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),v=s(g,y.children||[]),v.return=m,m=v;break t}else{n(m,g);break}else t(m,g);g=g.sibling}v=Sc(y,m.mode,v),v.return=m,m=v}return a(m);case Si:return y=cs(y),E(m,g,y,v)}if(xa(y))return _(m,g,y,v);if(ua(y)){if(S=ua(y),typeof S!="function")throw Error(M(150));return y=S.call(y),p(m,g,y,v)}if(typeof y.then=="function")return E(m,g,Wr(y),v);if(y.$$typeof===Vn)return E(m,g,Pr(m,y),v);Qr(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),v=s(g,y),v.return=m,m=v):(n(m,g),v=Ec(y,m.mode,v),v.return=m,m=v),a(m)):n(m,g)}return function(m,g,y,v){try{Ja=0;var S=E(m,g,y,v);return El=null,S}catch(x){if(x===Kl||x===Ou)throw x;var b=we(29,x,null,m.mode);return b.lanes=v,b.return=m,b}finally{}}}var bs=Z0(!0),q0=Z0(!1),xi=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ot&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Yo(e),G0(e,null,n),t}return wu(e,i,t,n),Yo(e)}function Na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,u0(e,n)}}function Tc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oh=!1;function Ia(){if(Oh){var e=vl;if(e!==null)throw e}}function Ga(e,t,n,i){Oh=!1;var s=e.updateQueue;xi=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,r=s.shared.pending;if(r!==null){s.shared.pending=null;var o=r,u=o.next;o.next=null,a===null?l=u:a.next=u,a=o;var c=e.alternate;c!==null&&(c=c.updateQueue,r=c.lastBaseUpdate,r!==a&&(r===null?c.firstBaseUpdate=u:r.next=u,c.lastBaseUpdate=o))}if(l!==null){var h=s.baseState;a=0,c=u=o=null,r=l;do{var f=r.lane&-536870913,d=f!==r.lane;if(d?(et&f)===f:(i&f)===f){f!==0&&f===Ol&&(Oh=!0),c!==null&&(c=c.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});t:{var _=e,p=r;f=t;var E=n;switch(p.tag){case 1:if(_=p.payload,typeof _=="function"){h=_.call(E,h,f);break t}h=_;break t;case 3:_.flags=_.flags&-65537|128;case 0:if(_=p.payload,f=typeof _=="function"?_.call(E,h,f):_,f==null)break t;h=Ct({},h,f);break t;case 2:xi=!0}}f=r.callback,f!==null&&(e.flags|=64,d&&(e.flags|=8192),d=s.callbacks,d===null?s.callbacks=[f]:d.push(f))}else d={lane:f,tag:r.tag,payload:r.payload,callback:r.callback,next:null},c===null?(u=c=d,o=h):c=c.next=d,a|=f;if(r=r.next,r===null){if(r=s.shared.pending,r===null)break;d=r,r=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);c===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=c,l===null&&(s.shared.lanes=0),Ki|=a,e.lanes=a,e.memoizedState=h}}function k0(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function V0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)k0(n[e],t)}var Dl=An(null),Ho=An(0);function jg(e,t){e=ai,vt(Ho,e),vt(Dl,t),ai=e|t.baseLanes}function Dh(){vt(Ho,ai),vt(Dl,Dl.current)}function Zf(){ai=Ho.current,Kt(Dl),Kt(Ho)}var Fe=An(null),tn=null;function Ri(e){var t=e.alternate;vt(Dt,Dt.current&1),vt(Fe,e),tn===null&&(t===null||Dl.current!==null||t.memoizedState!==null)&&(tn=e)}function Lh(e){vt(Dt,Dt.current),vt(Fe,e),tn===null&&(tn=e)}function K0(e){e.tag===22?(vt(Dt,Dt.current),vt(Fe,e),tn===null&&(tn=e)):bi()}function bi(){vt(Dt,Dt.current),vt(Fe,Fe.current)}function Ae(e){Kt(Fe),tn===e&&(tn=null),Kt(Dt)}var Dt=An(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qh(n)||Jh(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ii=0,K=null,yt=null,It=null,qo=!1,Sl=!1,As=!1,ko=0,$a=0,xl=null,t2=0;function Mt(){throw Error(M(321))}function qf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ge(e[n],t[n]))return!1;return!0}function kf(e,t,n,i,s,l){return ii=l,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?Ry:id,As=!1,l=n(i,s),As=!1,Sl&&(l=W0(t,n,i,s)),P0(e),l}function P0(e){X.H=tr;var t=yt!==null&&yt.next!==null;if(ii=0,It=yt=K=null,qo=!1,$a=0,xl=null,t)throw Error(M(300));e===null||Ut||(e=e.dependencies,e!==null&&jo(e)&&(Ut=!0))}function W0(e,t,n,i){K=e;var s=0;do{if(Sl&&(xl=null),$a=0,Sl=!1,25<=s)throw Error(M(301));if(s+=1,It=yt=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}X.H=by,l=t(n,i)}while(Sl);return l}function e2(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?Ar(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(K.flags|=1024),t}function Vf(){var e=ko!==0;return ko=0,e}function Kf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pf(e){if(qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qo=!1}ii=0,It=yt=K=null,Sl=!1,$a=ko=0,xl=null}function fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?K.memoizedState=It=e:It=It.next=e,It}function Lt(){if(yt===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=It===null?K.memoizedState:It.next;if(t!==null)It=t,yt=e;else{if(e===null)throw K.alternate===null?Error(M(467)):Error(M(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?K.memoizedState=It=e:It=It.next=e}return It}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ar(e){var t=$a;return $a+=1,xl===null&&(xl=[]),e=H0(xl,e,t),t=K,(It===null?t.memoizedState:It.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?Ry:id),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ar(e);if(e.$$typeof===Vn)return te(e)}throw Error(M(438,String(e)))}function Wf(e){var t=null,n=K.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=K.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Du(),K.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Xv;return t.index++,n}function si(e,t){return typeof t=="function"?t(e):t}function To(e){var t=Lt();return Qf(t,yt,e)}function Qf(e,t,n){var i=e.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=n;var s=e.baseQueue,l=i.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}t.baseQueue=s=l,i.pending=null}if(l=e.baseState,s===null)e.memoizedState=l;else{t=s.next;var r=a=null,o=null,u=t,c=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(et&h)===h:(ii&h)===h){var f=u.revertLane;if(f===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ol&&(c=!0);else if((ii&f)===f){u=u.next,f===Ol&&(c=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=h,a=l):o=o.next=h,K.lanes|=f,Ki|=f;h=u.action,As&&n(l,h),l=u.hasEagerState?u.eagerState:n(l,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(r=o=f,a=l):o=o.next=f,K.lanes|=h,Ki|=h;u=u.next}while(u!==null&&u!==t);if(o===null?a=l:o.next=r,!Ge(l,e.memoizedState)&&(Ut=!0,c&&(n=vl,n!==null)))throw n;e.memoizedState=l,e.baseState=a,e.baseQueue=o,i.lastRenderedState=l}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Cc(e){var t=Lt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);Ge(l,t.memoizedState)||(Ut=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Q0(e,t,n){var i=K,s=Lt(),l=nt;if(l){if(n===void 0)throw Error(M(407));n=n()}else n=t();var a=!Ge((yt||s).memoizedState,n);if(a&&(s.memoizedState=n,Ut=!0),s=s.queue,Jf(ty.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||It!==null&&It.memoizedState.tag&1){if(i.flags|=2048,Ll(9,{destroy:void 0},$0.bind(null,i,s,n,t),null),pt===null)throw Error(M(349));l||ii&127||J0(i,t,n)}return n}function J0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t=Du(),K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $0(e,t,n,i){t.value=n,t.getSnapshot=i,ey(t)&&ny(e)}function ty(e,t,n){return n(function(){ey(t)&&ny(e)})}function ey(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ge(e,n)}catch{return!0}}function ny(e){var t=Is(e,2);t!==null&&Te(t,e,2)}function zh(e){var t=fe();if(typeof e=="function"){var n=e;if(e=n(),As){Mi(!0);try{n()}finally{Mi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},t}function iy(e,t,n,i){return e.baseState=n,Qf(e,yt,typeof i=="function"?i:si)}function n2(e,t,n,i,s){if(Nu(e))throw Error(M(485));if(e=t.action,e!==null){var l={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){l.listeners.push(a)}};X.T!==null?n(!0):l.isTransition=!1,i(l),n=t.pending,n===null?(l.next=t.pending=l,sy(t,l)):(l.next=n.next,t.pending=n.next=l)}}function sy(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var l=X.T,a={};X.T=a;try{var r=n(s,i),o=X.S;o!==null&&o(a,r),Bg(e,t,r)}catch(u){Nh(e,t,u)}finally{l!==null&&a.types!==null&&(l.types=a.types),X.T=l}}else try{l=n(s,i),Bg(e,t,l)}catch(u){Nh(e,t,u)}}function Bg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Hg(e,t,i)},function(i){return Nh(e,t,i)}):Hg(e,t,n)}function Hg(e,t,n){t.status="fulfilled",t.value=n,ly(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,sy(e,n)))}function Nh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ly(t),t=t.next;while(t!==i)}e.action=null}function ly(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ay(e,t){return t}function Zg(e,t){if(nt){var n=pt.formState;if(n!==null){t:{var i=K;if(nt){if(St){e:{for(var s=St,l=Qe;s.nodeType!==8;){if(!l){s=null;break e}if(s=en(s.nextSibling),s===null){s=null;break e}}l=s.data,s=l==="F!"||l==="F"?s:null}if(s){St=en(s.nextSibling),i=s.data==="F!";break t}}ki(i)}i=!1}i&&(t=n[0])}}return n=fe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:t},n.queue=i,n=xy.bind(null,K,i),i.dispatch=n,i=zh(!1),l=nd.bind(null,K,!1,i.queue),i=fe(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=n2.bind(null,K,s,l,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function qg(e){var t=Lt();return ry(t,yt,e)}function ry(e,t,n){if(t=Qf(e,t,ay)[0],e=To(si)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ar(t)}catch(a){throw a===Kl?Ou:a}else i=t;t=Lt();var s=t.queue,l=s.dispatch;return n!==t.memoizedState&&(K.flags|=2048,Ll(9,{destroy:void 0},i2.bind(null,s,n),null)),[i,l,e]}function i2(e,t){e.action=t}function kg(e){var t=Lt(),n=yt;if(n!==null)return ry(t,n,e);Lt(),t=t.memoizedState,n=Lt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ll(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=K.updateQueue,t===null&&(t=Du(),K.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function oy(){return Lt().memoizedState}function Co(e,t,n,i){var s=fe();K.flags|=e,s.memoizedState=Ll(1|t,{destroy:void 0},n,i===void 0?null:i)}function zu(e,t,n,i){var s=Lt();i=i===void 0?null:i;var l=s.memoizedState.inst;yt!==null&&i!==null&&qf(i,yt.memoizedState.deps)?s.memoizedState=Ll(t,l,n,i):(K.flags|=e,s.memoizedState=Ll(1|t,l,n,i))}function Vg(e,t){Co(8390656,8,e,t)}function Jf(e,t){zu(2048,8,e,t)}function s2(e){K.flags|=4;var t=K.updateQueue;if(t===null)t=Du(),K.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function uy(e){var t=Lt().memoizedState;return s2({ref:t,nextImpl:e}),function(){if(ot&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function cy(e,t){return zu(4,2,e,t)}function hy(e,t){return zu(4,4,e,t)}function fy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dy(e,t,n){n=n!=null?n.concat([e]):null,zu(4,4,fy.bind(null,t,e),n)}function $f(){}function gy(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&qf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function my(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&qf(t,i[1]))return i[0];if(i=e(),As){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[i,t],i}function td(e,t,n){return n===void 0||ii&1073741824&&!(et&261930)?e.memoizedState=t:(e.memoizedState=n,e=i1(),K.lanes|=e,Ki|=e,n)}function _y(e,t,n,i){return Ge(n,t)?n:Dl.current!==null?(e=td(e,n,i),Ge(e,t)||(Ut=!0),e):!(ii&42)||ii&1073741824&&!(et&261930)?(Ut=!0,e.memoizedState=n):(e=i1(),K.lanes|=e,Ki|=e,t)}function yy(e,t,n,i,s){var l=ut.p;ut.p=l!==0&&8>l?l:8;var a=X.T,r={};X.T=r,nd(e,!1,t,n);try{var o=s(),u=X.S;if(u!==null&&u(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=$E(o,i);Fa(e,t,c,Ie(e))}else Fa(e,t,i,Ie(e))}catch(h){Fa(e,t,{then:function(){},status:"rejected",reason:h},Ie())}finally{ut.p=l,a!==null&&r.types!==null&&(a.types=r.types),X.T=a}}function l2(){}function Ih(e,t,n,i){if(e.tag!==5)throw Error(M(476));var s=py(e).queue;yy(e,s,t,ps,n===null?l2:function(){return vy(e),n(i)})}function py(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ps,baseState:ps,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:ps},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vy(e){var t=py(e);t.next===null&&(t=e.alternate.memoizedState),Fa(e,t.next.queue,{},Ie())}function ed(){return te(ir)}function Ey(){return Lt().memoizedState}function Sy(){return Lt().memoizedState}function a2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ie();e=Fi(n);var i=Ui(t,e,n);i!==null&&(Te(i,t,n),Na(i,t,n)),t={cache:Xf()},e.payload=t;return}t=t.return}}function r2(e,t,n){var i=Ie();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nu(e)?Ty(t,n):(n=Gf(e,t,n,i),n!==null&&(Te(n,e,i),Cy(n,t,i)))}function xy(e,t,n){var i=Ie();Fa(e,t,n,i)}function Fa(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))Ty(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,r=l(a,n);if(s.hasEagerState=!0,s.eagerState=r,Ge(r,a))return wu(e,t,s,0),pt===null&&Mu(),!1}catch{}finally{}if(n=Gf(e,t,s,i),n!==null)return Te(n,e,i),Cy(n,t,i),!0}return!1}function nd(e,t,n,i){if(i={lane:2,revertLane:hd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(t)throw Error(M(479))}else t=Gf(e,n,i,2),t!==null&&Te(t,e,2)}function Nu(e){var t=e.alternate;return e===K||t!==null&&t===K}function Ty(e,t){Sl=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cy(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,u0(e,n)}}var tr={readContext:te,use:Lu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};tr.useEffectEvent=Mt;var Ry={readContext:te,use:Lu,useCallback:function(e,t){return fe().memoizedState=[e,t===void 0?null:t],e},useContext:te,useEffect:Vg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Co(4194308,4,fy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){Co(4,2,e,t)},useMemo:function(e,t){var n=fe();t=t===void 0?null:t;var i=e();if(As){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=fe();if(n!==void 0){var s=n(t);if(As){Mi(!0);try{n(t)}finally{Mi(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=r2.bind(null,K,e),[i.memoizedState,e]},useRef:function(e){var t=fe();return e={current:e},t.memoizedState=e},useState:function(e){e=zh(e);var t=e.queue,n=xy.bind(null,K,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$f,useDeferredValue:function(e,t){var n=fe();return td(n,e,t)},useTransition:function(){var e=zh(!1);return e=yy.bind(null,K,e.queue,!0,!1),fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=K,s=fe();if(nt){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),pt===null)throw Error(M(349));et&127||J0(i,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Vg(ty.bind(null,i,l,e),[e]),i.flags|=2048,Ll(9,{destroy:void 0},$0.bind(null,i,l,n,t),null),n},useId:function(){var e=fe(),t=pt.identifierPrefix;if(nt){var n=En,i=vn;n=(i&~(1<<32-Ne(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=t2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ed,useFormState:Zg,useActionState:Zg,useOptimistic:function(e){var t=fe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nd.bind(null,K,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wf,useCacheRefresh:function(){return fe().memoizedState=a2.bind(null,K)},useEffectEvent:function(e){var t=fe(),n={impl:e};return t.memoizedState=n,function(){if(ot&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},id={readContext:te,use:Lu,useCallback:gy,useContext:te,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:To,useRef:oy,useState:function(){return To(si)},useDebugValue:$f,useDeferredValue:function(e,t){var n=Lt();return _y(n,yt.memoizedState,e,t)},useTransition:function(){var e=To(si)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Ar(e),t]},useSyncExternalStore:Q0,useId:Ey,useHostTransitionStatus:ed,useFormState:qg,useActionState:qg,useOptimistic:function(e,t){var n=Lt();return iy(n,yt,e,t)},useMemoCache:Wf,useCacheRefresh:Sy};id.useEffectEvent=uy;var by={readContext:te,use:Lu,useCallback:gy,useContext:te,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Cc,useRef:oy,useState:function(){return Cc(si)},useDebugValue:$f,useDeferredValue:function(e,t){var n=Lt();return yt===null?td(n,e,t):_y(n,yt.memoizedState,e,t)},useTransition:function(){var e=Cc(si)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Ar(e),t]},useSyncExternalStore:Q0,useId:Ey,useHostTransitionStatus:ed,useFormState:kg,useActionState:kg,useOptimistic:function(e,t){var n=Lt();return yt!==null?iy(n,yt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Sy};by.useEffectEvent=uy;function Rc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ie(),s=Fi(i);s.payload=t,n!=null&&(s.callback=n),t=Ui(e,s,i),t!==null&&(Te(t,e,i),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ie(),s=Fi(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ui(e,s,i),t!==null&&(Te(t,e,i),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),i=Fi(n);i.tag=2,t!=null&&(i.callback=t),t=Ui(e,i,n),t!==null&&(Te(t,e,n),Na(t,e,n))}};function Kg(e,t,n,i,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,a):t.prototype&&t.prototype.isPureReactComponent?!Pa(n,i)||!Pa(s,l):!0}function Pg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function Ms(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function Ay(e){Uo(e)}function My(e){console.error(e)}function wy(e){Uo(e)}function Vo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Wg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Fh(e,t,n){return n=Fi(n),n.tag=3,n.payload={element:null},n.callback=function(){Vo(e,t)},n}function Oy(e){return e=Fi(e),e.tag=3,e}function Dy(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var l=i.value;e.payload=function(){return s(l)},e.callback=function(){Wg(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Wg(t,n,i),typeof s!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function o2(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Vl(t,n,s,!0),n=Fe.current,n!==null){switch(n.tag){case 31:case 13:return tn===null?Jo():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Bo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Gc(e,i,s)),!1;case 22:return n.flags|=65536,i===Bo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Gc(e,i,s)),!1}throw Error(M(435,n.tag))}return Gc(e,i,s),Jo(),!1}if(nt)return t=Fe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Ch&&(e=Error(M(422),{cause:i}),Qa(We(e,n)))):(i!==Ch&&(t=Error(M(423),{cause:i}),Qa(We(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=We(i,n),s=Fh(e.stateNode,i,s),Tc(e,s),Ot!==4&&(Ot=2)),!1;var l=Error(M(520),{cause:i});if(l=We(l,n),Xa===null?Xa=[l]:Xa.push(l),Ot!==4&&(Ot=2),t===null)return!0;i=We(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Fh(n.stateNode,i,e),Tc(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Oy(s),Dy(s,e,n,i),Tc(n,s),!1}n=n.return}while(n!==null);return!1}var sd=Error(M(461)),Ut=!1;function Wt(e,t,n,i){t.child=e===null?q0(t,null,n,i):bs(t,e.child,n,i)}function Qg(e,t,n,i,s){n=n.render;var l=t.ref;if("ref"in i){var a={};for(var r in i)r!=="ref"&&(a[r]=i[r])}else a=i;return Rs(t),i=kf(e,t,n,a,l,s),r=Vf(),e!==null&&!Ut?(Kf(e,t,s),li(e,t,s)):(nt&&r&&Uf(t),t.flags|=1,Wt(e,t,i,s),t.child)}function Jg(e,t,n,i,s){if(e===null){var l=n.type;return typeof l=="function"&&!Ff(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,Ly(e,t,l,i,s)):(e=So(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!ld(e,s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(a,i)&&e.ref===t.ref)return li(e,t,s)}return t.flags|=1,e=Wn(l,i),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,n,i,s){if(e!==null){var l=e.memoizedProps;if(Pa(l,i)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=i=l,ld(e,s))e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,li(e,t,s)}return Uh(e,t,n,i,s)}function zy(e,t,n,i){var s=i.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~l}else i=0,t.child=null;return $g(e,t,l,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xo(t,l!==null?l.cachePool:null),l!==null?jg(t,l):Dh(),K0(t);else return i=t.lanes=536870912,$g(e,t,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(xo(t,l.cachePool),jg(t,l),bi(),t.memoizedState=null):(e!==null&&xo(t,null),Dh(),bi());return Wt(e,t,s,n),t.child}function Ca(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $g(e,t,n,i,s){var l=jf();return l=l===null?null:{parent:Ft._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&xo(t,null),Dh(),K0(t),e!==null&&Vl(e,t,i,!0),t.childLanes=s,null}function Ro(e,t){return t=Ko({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tm(e,t,n){return bs(t,e.child,null,n),e=Ro(t,t.pendingProps),e.flags|=2,Ae(t),t.memoizedState=null,e}function u2(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(nt){if(i.mode==="hidden")return e=Ro(t,i),t.lanes=536870912,Ca(null,e);if(Lh(t),(e=St)?(e=R1(e,Qe),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:vn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},n=U0(e),n.return=t,t.child=n,$t=t,St=null)):e=null,e===null)throw ki(t);return t.lanes=536870912,null}return Ro(t,i)}var l=e.memoizedState;if(l!==null){var a=l.dehydrated;if(Lh(t),s)if(t.flags&256)t.flags&=-257,t=tm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(Ut||Vl(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(i=pt,i!==null&&(a=c0(i,n),a!==0&&a!==l.retryLane))throw l.retryLane=a,Is(e,a),Te(i,e,a),sd;Jo(),t=tm(e,t,n)}else e=l.treeContext,St=en(a.nextSibling),$t=t,nt=!0,Gi=null,Qe=!1,e!==null&&X0(t,e),t=Ro(t,i),t.flags|=4096;return t}return e=Wn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Uh(e,t,n,i,s){return Rs(t),n=kf(e,t,n,i,void 0,s),i=Vf(),e!==null&&!Ut?(Kf(e,t,s),li(e,t,s)):(nt&&i&&Uf(t),t.flags|=1,Wt(e,t,n,s),t.child)}function em(e,t,n,i,s,l){return Rs(t),t.updateQueue=null,n=W0(t,i,n,s),P0(e),i=Vf(),e!==null&&!Ut?(Kf(e,t,l),li(e,t,l)):(nt&&i&&Uf(t),t.flags|=1,Wt(e,t,n,l),t.child)}function nm(e,t,n,i,s){if(Rs(t),t.stateNode===null){var l=ul,a=n.contextType;typeof a=="object"&&a!==null&&(l=te(a)),l=new n(i,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Gh,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=i,l.state=t.memoizedState,l.refs={},Hf(t),a=n.contextType,l.context=typeof a=="object"&&a!==null?te(a):ul,l.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Rc(t,n,a,i),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(a=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),a!==l.state&&Gh.enqueueReplaceState(l,l.state,null),Ga(t,i,l,s),Ia(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,o=Ms(n,r);l.props=o;var u=l.context,c=n.contextType;a=ul,typeof c=="object"&&c!==null&&(a=te(c));var h=n.getDerivedStateFromProps;c=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||u!==a)&&Pg(t,l,i,a),xi=!1;var f=t.memoizedState;l.state=f,Ga(t,i,l,s),Ia(),u=t.memoizedState,r||f!==u||xi?(typeof h=="function"&&(Rc(t,n,h,i),u=t.memoizedState),(o=xi||Kg(t,n,o,i,f,u,a))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),l.props=i,l.state=u,l.context=a,i=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,wh(e,t),a=t.memoizedProps,c=Ms(n,a),l.props=c,h=t.pendingProps,f=l.context,u=n.contextType,o=ul,typeof u=="object"&&u!==null&&(o=te(u)),r=n.getDerivedStateFromProps,(u=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==h||f!==o)&&Pg(t,l,i,o),xi=!1,f=t.memoizedState,l.state=f,Ga(t,i,l,s),Ia();var d=t.memoizedState;a!==h||f!==d||xi||e!==null&&e.dependencies!==null&&jo(e.dependencies)?(typeof r=="function"&&(Rc(t,n,r,i),d=t.memoizedState),(c=xi||Kg(t,n,c,i,f,d,o)||e!==null&&e.dependencies!==null&&jo(e.dependencies))?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,d,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,d,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=d),l.props=i,l.state=d,l.context=o,i=c):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return l=i,bo(e,t),i=(t.flags&128)!==0,l||i?(l=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,n,s)):Wt(e,t,n,s),t.memoizedState=l.state,e=t.child):e=li(e,t,s),e}function im(e,t,n,i){return Cs(),t.flags|=256,Wt(e,t,n,i),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:B0()}}function Mc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Oe),e}function Ny(e,t,n){var i=t.pendingProps,s=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(nt){if(s?Ri(t):bi(),(e=St)?(e=R1(e,Qe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:vn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},n=U0(e),n.return=t,t.child=n,$t=t,St=null)):e=null,e===null)throw ki(t);return Jh(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,s?(bi(),s=t.mode,r=Ko({mode:"hidden",children:r},s),i=vs(i,s,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Ac(n),i.childLanes=Mc(e,a,n),t.memoizedState=bc,Ca(null,i)):(Ri(t),Yh(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(l)t.flags&256?(Ri(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState!==null?(bi(),t.child=e.child,t.flags|=128,t=null):(bi(),r=i.fallback,s=t.mode,i=Ko({mode:"visible",children:i.children},s),r=vs(r,s,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,bs(t,e.child,null,n),i=t.child,i.memoizedState=Ac(n),i.childLanes=Mc(e,a,n),t.memoizedState=bc,t=Ca(null,i));else if(Ri(t),Jh(r)){if(a=r.nextSibling&&r.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(M(419)),i.stack="",i.digest=a,Qa({value:i,source:null,stack:null}),t=wc(e,t,n)}else if(Ut||Vl(e,t,n,!1),a=(n&e.childLanes)!==0,Ut||a){if(a=pt,a!==null&&(i=c0(a,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Is(e,i),Te(a,e,i),sd;Qh(r)||Jo(),t=wc(e,t,n)}else Qh(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,St=en(r.nextSibling),$t=t,nt=!0,Gi=null,Qe=!1,e!==null&&X0(t,e),t=Yh(t,i.children),t.flags|=4096);return t}return s?(bi(),r=i.fallback,s=t.mode,o=e.child,u=o.sibling,i=Wn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=Wn(u,r):(r=vs(r,s,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Ca(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Ac(n):(s=r.cachePool,s!==null?(o=Ft._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=B0(),r={baseLanes:r.baseLanes|n,cachePool:s}),i.memoizedState=r,i.childLanes=Mc(e,a,n),t.memoizedState=bc,Ca(e.child,i)):(Ri(t),n=e.child,e=n.sibling,n=Wn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Yh(e,t){return t=Ko({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ko(e,t){return e=we(22,e,null,t),e.lanes=0,e}function wc(e,t,n){return bs(t,e.child,null,n),e=Yh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),bh(e.return,t,n)}function Oc(e,t,n,i,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=l)}function Iy(e,t,n){var i=t.pendingProps,s=i.revealOrder,l=i.tail;i=i.children;var a=Dt.current,r=(a&2)!==0;if(r?(a=a&1|2,t.flags|=128):a&=1,vt(Dt,a),Wt(e,t,i,n),i=nt?Wa:0,!r&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sm(e,n,t);else if(e.tag===19)sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oc(t,!1,s,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oc(t,!0,n,null,l,i);break;case"together":Oc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(n&t.childLanes))if(e!==null){if(Vl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ld(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&jo(e)))}function c2(e,t,n){switch(t.tag){case 3:No(t,t.stateNode.containerInfo),Ci(t,Ft,e.memoizedState.cache),Cs();break;case 27:case 5:dh(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:Ci(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ri(t),t.flags|=128,null):n&t.child.childLanes?Ny(e,t,n):(Ri(t),e=li(e,t,n),e!==null?e.sibling:null);Ri(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Vl(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return Iy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Dt,Dt.current),i)break;return null;case 22:return t.lanes=0,zy(e,t,n,t.pendingProps);case 24:Ci(t,Ft,e.memoizedState.cache)}return li(e,t,n)}function Gy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!ld(e,n)&&!(t.flags&128))return Ut=!1,c2(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,nt&&t.flags&1048576&&Y0(t,Wa,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=cs(t.elementType),t.type=e,typeof e=="function")Ff(e)?(i=Ms(e,i),t.tag=1,t=nm(null,t,e,i,n)):(t.tag=0,t=Uh(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Tf){t.tag=11,t=Qg(null,t,e,i,n);break t}else if(s===Cf){t.tag=14,t=Jg(null,t,e,i,n);break t}}throw t=hh(e)||e,Error(M(306,t,""))}}return t;case 0:return Uh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=Ms(i,t.pendingProps),nm(e,t,i,s,n);case 3:t:{if(No(t,t.stateNode.containerInfo),e===null)throw Error(M(387));i=t.pendingProps;var l=t.memoizedState;s=l.element,wh(e,t),Ga(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ci(t,Ft,i),i!==l.cache&&Ah(t,[Ft],n,!0),Ia(),i=a.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=im(e,t,i,n);break t}else if(i!==s){s=We(Error(M(424)),t),Qa(s),t=im(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=en(e.firstChild),$t=t,nt=!0,Gi=null,Qe=!0,n=q0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Cs(),i===s){t=li(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return bo(e,t),e===null?(n=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=n:nt||(n=t.type,e=t.pendingProps,i=nu(Ii.current).createElement(n),i[Jt]=t,i[Ce]=e,ee(i,n,e),kt(i),t.stateNode=i):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return dh(t),e===null&&nt&&(i=t.stateNode=b1(t.type,t.pendingProps,Ii.current),$t=t,Qe=!0,s=St,Ji(t.type)?($h=s,St=en(i.firstChild)):St=s),Wt(e,t,t.pendingProps.children,n),bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&nt&&((s=i=St)&&(i=X2(i,t.type,t.pendingProps,Qe),i!==null?(t.stateNode=i,$t=t,St=en(i.firstChild),Qe=!1,s=!0):s=!1),s||ki(t)),dh(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Ph(s,l)?i=null:a!==null&&Ph(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=kf(e,t,e2,null,null,n),ir._currentValue=s),bo(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&nt&&((e=n=St)&&(n=j2(n,t.pendingProps,Qe),n!==null?(t.stateNode=n,$t=t,St=null,e=!0):e=!1),e||ki(t)),null;case 13:return Ny(e,t,n);case 4:return No(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=bs(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return Qg(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ci(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Rs(t),s=te(s),i=i(s),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return Jg(e,t,t.type,t.pendingProps,n);case 15:return Ly(e,t,t.type,t.pendingProps,n);case 19:return Iy(e,t,n);case 31:return u2(e,t,n);case 22:return zy(e,t,n,t.pendingProps);case 24:return Rs(t),i=te(Ft),e===null?(s=jf(),s===null&&(s=pt,l=Xf(),s.pooledCache=l,l.refCount++,l!==null&&(s.pooledCacheLanes|=n),s=l),t.memoizedState={parent:i,cache:s},Hf(t),Ci(t,Ft,s)):(e.lanes&n&&(wh(e,t),Ga(t,null,null,n),Ia()),s=e.memoizedState,l=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ci(t,Ft,i)):(i=l.cache,Ci(t,Ft,i),i!==s.cache&&Ah(t,[Ft],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function In(e){e.flags|=4}function Dc(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(a1())e.flags|=8192;else throw Ss=Bo,Bf}else e.flags&=-16777217}function lm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!w1(t))if(a1())e.flags|=8192;else throw Ss=Bo,Bf}function Jr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?r0():536870912,e.lanes|=t,zl|=t)}function da(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function h2(e,t,n){var i=t.pendingProps;switch(Yf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Et(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Qn(Ft),Al(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?In(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xc())),Et(t),null;case 26:var s=t.type,l=t.memoizedState;return e===null?(In(t),l!==null?(Et(t),lm(t,l)):(Et(t),Dc(t,s,null,i,n))):l?l!==e.memoizedState?(In(t),Et(t),lm(t,l)):(Et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&In(t),Et(t),Dc(t,s,e,i,n)),null;case 27:if(Io(t),n=Ii.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return Et(t),null}e=Cn.current,Xs(t)?Ng(t):(e=b1(s,i,n),t.stateNode=e,In(t))}return Et(t),null;case 5:if(Io(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return Et(t),null}if(l=Cn.current,Xs(t))Ng(t);else{var a=nu(Ii.current);switch(l){case 1:l=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:l=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":l=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":l=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":l=a.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}l[Jt]=t,l[Ce]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)l.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=l;t:switch(ee(l,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&In(t)}}return Et(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(M(166));if(e=Ii.current,Xs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=$t,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Jt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||x1(e.nodeValue,n)),e||ki(t,!0)}else e=nu(e).createTextNode(i),e[Jt]=t,t.stateNode=e}return Et(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Xs(t),n!==null){if(e===null){if(!i)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[Jt]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),e=!1}else n=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ae(t),t):(Ae(t),null);if(t.flags&128)throw Error(M(558))}return Et(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Xs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Jt]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else s=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ae(t),t):(Ae(t),null)}return Ae(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Jr(t,t.updateQueue),Et(t),null);case 4:return Al(),e===null&&fd(t.stateNode.containerInfo),Et(t),null;case 10:return Qn(t.type),Et(t),null;case 19:if(Kt(Dt),i=t.memoizedState,i===null)return Et(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)da(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Zo(e),l!==null){for(t.flags|=128,da(i,!1),e=l.updateQueue,t.updateQueue=e,Jr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)F0(n,e),n=n.sibling;return vt(Dt,Dt.current&1|2),nt&&Zn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Le()>Wo&&(t.flags|=128,s=!0,da(i,!1),t.lanes=4194304)}else{if(!s)if(e=Zo(l),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Jr(t,e),da(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!nt)return Et(t),null}else 2*Le()-i.renderingStartTime>Wo&&n!==536870912&&(t.flags|=128,s=!0,da(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(e=i.last,e!==null?e.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Dt.current,vt(Dt,s?n&1|2:n&1),nt&&Zn(t,i.treeForkCount),e):(Et(t),null);case 22:case 23:return Ae(t),Zf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),n=t.updateQueue,n!==null&&Jr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Kt(Es),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qn(Ft),Et(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function f2(e,t){switch(Yf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(Ft),Al(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Io(t),null;case 31:if(t.memoizedState!==null){if(Ae(t),t.alternate===null)throw Error(M(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ae(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(Dt),null;case 4:return Al(),null;case 10:return Qn(t.type),null;case 22:case 23:return Ae(t),Zf(),e!==null&&Kt(Es),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qn(Ft),null;case 25:return null;default:return null}}function Fy(e,t){switch(Yf(t),t.tag){case 3:Qn(Ft),Al();break;case 26:case 27:case 5:Io(t);break;case 4:Al();break;case 31:t.memoizedState!==null&&Ae(t);break;case 13:Ae(t);break;case 19:Kt(Dt);break;case 10:Qn(t.type);break;case 22:case 23:Ae(t),Zf(),e!==null&&Kt(Es);break;case 24:Qn(Ft)}}function Mr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var l=n.create,a=n.inst;i=l(),a.destroy=i}n=n.next}while(n!==s)}}catch(r){gt(t,t.return,r)}}function Vi(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var l=s.next;i=l;do{if((i.tag&e)===e){var a=i.inst,r=a.destroy;if(r!==void 0){a.destroy=void 0,s=t;var o=n,u=r;try{u()}catch(c){gt(s,o,c)}}}i=i.next}while(i!==l)}}catch(c){gt(t,t.return,c)}}function Uy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{V0(t,n)}catch(i){gt(e,e.return,i)}}}function Yy(e,t,n){n.props=Ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){gt(e,t,i)}}function Ua(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){gt(e,t,s)}}function Sn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){gt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){gt(e,t,s)}else n.current=null}function Xy(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){gt(e,e.return,s)}}function Lc(e,t,n){try{var i=e.stateNode;N2(i,e.type,n,t),i[Ce]=t}catch(s){gt(e,e.return,s)}}function jy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function zc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kn));else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xh(e,t,n),e=e.sibling;e!==null;)Xh(e,t,n),e=e.sibling}function Po(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function By(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ee(t,i,n),t[Jt]=e,t[Ce]=n}catch(l){gt(e,e.return,l)}}var kn=!1,Gt=!1,Nc=!1,am=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function d2(e,t){if(e=e.containerInfo,Vh=au,e=w0(e),Nf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break t}var a=0,r=-1,o=-1,u=0,c=0,h=e,f=null;e:for(;;){for(var d;h!==n||s!==0&&h.nodeType!==3||(r=a+s),h!==l||i!==0&&h.nodeType!==3||(o=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break e;if(f===n&&++u===s&&(r=a),f===l&&++c===i&&(o=a),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=r===-1||o===-1?null:{start:r,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kh={focusedElem:e,selectionRange:n},au=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,s=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var _=Ms(n.type,s);e=i.getSnapshotBeforeUpdate(_,l),i.__reactInternalSnapshotBeforeUpdate=e}catch(p){gt(n,n.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wh(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function Hy(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n),i&4&&Mr(5,n);break;case 1:if(Fn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){gt(n,n.return,a)}else{var s=Ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){gt(n,n.return,a)}}i&64&&Uy(n),i&512&&Ua(n,n.return);break;case 3:if(Fn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{V0(e,t)}catch(a){gt(n,n.return,a)}}break;case 27:t===null&&i&4&&By(n);case 26:case 5:Fn(e,n),t===null&&i&4&&Xy(n),i&512&&Ua(n,n.return);break;case 12:Fn(e,n);break;case 31:Fn(e,n),i&4&&ky(e,n);break;case 13:Fn(e,n),i&4&&Vy(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=x2.bind(null,n),B2(e,n))));break;case 22:if(i=n.memoizedState!==null||kn,!i){t=t!==null&&t.memoizedState!==null||Gt,s=kn;var l=Gt;kn=i,(Gt=t)&&!l?Xn(e,n,(n.subtreeFlags&8772)!==0):Fn(e,n),kn=s,Gt=l}break;case 30:break;default:Fn(e,n)}}function Zy(e){var t=e.alternate;t!==null&&(e.alternate=null,Zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,pe=!1;function Gn(e,t,n){for(n=n.child;n!==null;)qy(e,t,n),n=n.sibling}function qy(e,t,n){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Sr,n)}catch{}switch(n.tag){case 26:Gt||Sn(n,t),Gn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||Sn(n,t);var i=Rt,s=pe;Ji(n.type)&&(Rt=n.stateNode,pe=!1),Gn(e,t,n),Ba(n.stateNode),Rt=i,pe=s;break;case 5:Gt||Sn(n,t);case 6:if(i=Rt,s=pe,Rt=null,Gn(e,t,n),Rt=i,pe=s,Rt!==null)if(pe)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(l){gt(n,t,l)}else try{Rt.removeChild(n.stateNode)}catch(l){gt(n,t,l)}break;case 18:Rt!==null&&(pe?(e=Rt,vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Fl(e)):vm(Rt,n.stateNode));break;case 4:i=Rt,s=pe,Rt=n.stateNode.containerInfo,pe=!0,Gn(e,t,n),Rt=i,pe=s;break;case 0:case 11:case 14:case 15:Vi(2,n,t),Gt||Vi(4,n,t),Gn(e,t,n);break;case 1:Gt||(Sn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Yy(n,t,i)),Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:Gt=(i=Gt)||n.memoizedState!==null,Gn(e,t,n),Gt=i;break;default:Gn(e,t,n)}}function ky(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fl(e)}catch(n){gt(t,t.return,n)}}}function Vy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fl(e)}catch(n){gt(t,t.return,n)}}function g2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new am),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new am),t;default:throw Error(M(435,e.tag))}}function $r(e,t){var n=g2(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=T2.bind(null,e,i);i.then(s,s)}})}function _e(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],l=e,a=t,r=a;t:for(;r!==null;){switch(r.tag){case 27:if(Ji(r.type)){Rt=r.stateNode,pe=!1;break t}break;case 5:Rt=r.stateNode,pe=!1;break t;case 3:case 4:Rt=r.stateNode.containerInfo,pe=!0;break t}r=r.return}if(Rt===null)throw Error(M(160));qy(l,a,s),Rt=null,pe=!1,l=s.alternate,l!==null&&(l.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ky(t,e),t=t.sibling}var cn=null;function Ky(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_e(t,e),ye(e),i&4&&(Vi(3,e,e.return),Mr(3,e),Vi(5,e,e.return));break;case 1:_e(t,e),ye(e),i&512&&(Gt||n===null||Sn(n,n.return)),i&64&&kn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=cn;if(_e(t,e),ye(e),i&512&&(Gt||n===null||Sn(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":l=s.getElementsByTagName("title")[0],(!l||l[Cr]||l[Jt]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=s.createElement(i),s.head.insertBefore(l,s.querySelector("head > title"))),ee(l,i,n),l[Jt]=e,kt(l),i=l;break t;case"link":var a=bm("link","href",s).get(i+(n.href||""));if(a){for(var r=0;r<a.length;r++)if(l=a[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(r,1);break e}}l=s.createElement(i),ee(l,i,n),s.head.appendChild(l);break;case"meta":if(a=bm("meta","content",s).get(i+(n.content||""))){for(r=0;r<a.length;r++)if(l=a[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(r,1);break e}}l=s.createElement(i),ee(l,i,n),s.head.appendChild(l);break;default:throw Error(M(468,i))}l[Jt]=e,kt(l),i=l}e.stateNode=i}else Am(s,e.type,e.stateNode);else e.stateNode=Rm(s,i,e.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?Am(s,e.type,e.stateNode):Rm(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,n.memoizedProps)}break;case 27:_e(t,e),ye(e),i&512&&(Gt||n===null||Sn(n,n.return)),n!==null&&i&4&&Lc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_e(t,e),ye(e),i&512&&(Gt||n===null||Sn(n,n.return)),e.flags&32){s=e.stateNode;try{wl(s,"")}catch(_){gt(e,e.return,_)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Lc(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Nc=!0);break;case 6:if(_e(t,e),ye(e),i&4){if(e.stateNode===null)throw Error(M(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){gt(e,e.return,_)}}break;case 3:if(wo=null,s=cn,cn=iu(t.containerInfo),_e(t,e),cn=s,ye(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(_){gt(e,e.return,_)}Nc&&(Nc=!1,Py(e));break;case 4:i=cn,cn=iu(e.stateNode.containerInfo),_e(t,e),ye(e),cn=i;break;case 12:_e(t,e),ye(e);break;case 31:_e(t,e),ye(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$r(e,i)));break;case 13:_e(t,e),ye(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Iu=Le()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$r(e,i)));break;case 22:s=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=kn,c=Gt;if(kn=u||s,Gt=c||o,_e(t,e),Gt=c,kn=u,ye(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||o||kn||Gt||hs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(l=o.stateNode,s)a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=o.stateNode;var h=o.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;r.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(_){gt(o,o.return,_)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){gt(o,o.return,_)}}}else if(t.tag===18){if(n===null){o=t;try{var d=o.stateNode;s?Em(d,!0):Em(o.stateNode,!1)}catch(_){gt(o,o.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,$r(e,n))));break;case 19:_e(t,e),ye(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$r(e,i)));break;case 30:break;case 21:break;default:_e(t,e),ye(e)}}function ye(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(jy(i)){n=i;break}i=i.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var s=n.stateNode,l=zc(e);Po(e,l,s);break;case 5:var a=n.stateNode;n.flags&32&&(wl(a,""),n.flags&=-33);var r=zc(e);Po(e,r,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=zc(e);Xh(e,u,o);break;default:throw Error(M(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Py(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hy(e,t.alternate,t),t=t.sibling}function hs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vi(4,t,t.return),hs(t);break;case 1:Sn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Yy(t,t.return,n),hs(t);break;case 27:Ba(t.stateNode);case 26:case 5:Sn(t,t.return),hs(t);break;case 22:t.memoizedState===null&&hs(t);break;case 30:hs(t);break;default:hs(t)}e=e.sibling}}function Xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,l=t,a=l.flags;switch(l.tag){case 0:case 11:case 15:Xn(s,l,n),Mr(4,l);break;case 1:if(Xn(s,l,n),i=l,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){gt(i,i.return,u)}if(i=l,s=i.updateQueue,s!==null){var r=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)k0(o[s],r)}catch(u){gt(i,i.return,u)}}n&&a&64&&Uy(l),Ua(l,l.return);break;case 27:By(l);case 26:case 5:Xn(s,l,n),n&&i===null&&a&4&&Xy(l),Ua(l,l.return);break;case 12:Xn(s,l,n);break;case 31:Xn(s,l,n),n&&a&4&&ky(s,l);break;case 13:Xn(s,l,n),n&&a&4&&Vy(s,l);break;case 22:l.memoizedState===null&&Xn(s,l,n),Ua(l,l.return);break;case 30:break;default:Xn(s,l,n)}t=t.sibling}}function ad(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&br(n))}function rd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&br(e))}function on(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(e,t,n,i),t=t.sibling}function Wy(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:on(e,t,n,i),s&2048&&Mr(9,t);break;case 1:on(e,t,n,i);break;case 3:on(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&br(e)));break;case 12:if(s&2048){on(e,t,n,i),e=t.stateNode;try{var l=t.memoizedProps,a=l.id,r=l.onPostCommit;typeof r=="function"&&r(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){gt(t,t.return,o)}}else on(e,t,n,i);break;case 31:on(e,t,n,i);break;case 13:on(e,t,n,i);break;case 23:break;case 22:l=t.stateNode,a=t.alternate,t.memoizedState!==null?l._visibility&2?on(e,t,n,i):Ya(e,t):l._visibility&2?on(e,t,n,i):(l._visibility|=2,Ks(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&ad(a,t);break;case 24:on(e,t,n,i),s&2048&&rd(t.alternate,t);break;default:on(e,t,n,i)}}function Ks(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,a=t,r=n,o=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:Ks(l,a,r,o,s),Mr(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?Ks(l,a,r,o,s):Ya(l,a):(c._visibility|=2,Ks(l,a,r,o,s)),s&&u&2048&&ad(a.alternate,a);break;case 24:Ks(l,a,r,o,s),s&&u&2048&&rd(a.alternate,a);break;default:Ks(l,a,r,o,s)}t=t.sibling}}function Ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Ya(n,i),s&2048&&ad(i.alternate,i);break;case 24:Ya(n,i),s&2048&&rd(i.alternate,i);break;default:Ya(n,i)}t=t.sibling}}var Ra=8192;function js(e,t,n){if(e.subtreeFlags&Ra)for(e=e.child;e!==null;)Qy(e,t,n),e=e.sibling}function Qy(e,t,n){switch(e.tag){case 26:js(e,t,n),e.flags&Ra&&e.memoizedState!==null&&tS(n,cn,e.memoizedState,e.memoizedProps);break;case 5:js(e,t,n);break;case 3:case 4:var i=cn;cn=iu(e.stateNode.containerInfo),js(e,t,n),cn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ra,Ra=16777216,js(e,t,n),Ra=i):js(e,t,n));break;default:js(e,t,n)}}function Jy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ga(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,t1(i,e)}Jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$y(e),e=e.sibling}function $y(e){switch(e.tag){case 0:case 11:case 15:ga(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:ga(e);break;case 12:ga(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ao(e)):ga(e);break;default:ga(e)}}function Ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,t1(i,e)}Jy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vi(8,t,t.return),Ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ao(t));break;default:Ao(t)}e=e.sibling}}function t1(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Vi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:br(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var s=i.sibling,l=i.return;if(Zy(i),i===n){Zt=null;break t}if(s!==null){s.return=l,Zt=s;break t}Zt=l}}}var m2={getCacheForType:function(e){var t=te(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return te(Ft).controller.signal}},_2=typeof WeakMap=="function"?WeakMap:Map,ot=0,pt=null,tt=null,et=0,dt=0,be=null,Oi=!1,Pl=!1,od=!1,ai=0,Ot=0,Ki=0,xs=0,ud=0,Oe=0,zl=0,Xa=null,ve=null,jh=!1,Iu=0,e1=0,Wo=1/0,Qo=null,Yi=null,jt=0,Xi=null,Nl=null,Jn=0,Bh=0,Hh=null,n1=null,ja=0,Zh=null;function Ie(){return ot&2&&et!==0?et&-et:X.T!==null?hd():h0()}function i1(){if(Oe===0)if(!(et&536870912)||nt){var e=qr;qr<<=1,!(qr&3932160)&&(qr=262144),Oe=e}else Oe=536870912;return e=Fe.current,e!==null&&(e.flags|=32),Oe}function Te(e,t,n){(e===pt&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(Il(e,0),Di(e,et,Oe,!1)),Tr(e,n),(!(ot&2)||e!==pt)&&(e===pt&&(!(ot&2)&&(xs|=n),Ot===4&&Di(e,et,Oe,!1)),Mn(e))}function s1(e,t,n){if(ot&6)throw Error(M(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||xr(e,t),s=i?v2(e,t):Ic(e,t,!0),l=i;do{if(s===0){Pl&&!i&&Di(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!y2(n)){s=Ic(e,t,!1),l=!1;continue}if(s===2){if(l=t,e.errorRecoveryDisabledLanes&l)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var r=e;s=Xa;var o=r.current.memoizedState.isDehydrated;if(o&&(Il(r,a).flags|=256),a=Ic(r,a,!1),a!==2){if(od&&!o){r.errorRecoveryDisabledLanes|=l,xs|=l,s=4;break t}l=ve,ve=s,l!==null&&(ve===null?ve=l:ve.push.apply(ve,l))}s=a}if(l=!1,s!==2)continue}}if(s===1){Il(e,0),Di(e,t,0,!0);break}t:{switch(i=e,l=s,l){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:Di(i,t,Oe,!Oi);break t;case 2:ve=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(s=Iu+300-Le(),10<s)){if(Di(i,t,Oe,!Oi),Cu(i,0,!0)!==0)break t;Jn=t,i.timeoutHandle=C1(rm.bind(null,i,n,ve,Qo,jh,t,Oe,xs,zl,Oi,l,"Throttled",-0,0),s);break t}rm(i,n,ve,Qo,jh,t,Oe,xs,zl,Oi,l,null,-0,0)}}break}while(!0);Mn(e)}function rm(e,t,n,i,s,l,a,r,o,u,c,h,f,d){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Qy(t,l,h);var _=(l&62914560)===l?Iu-Le():(l&4194048)===l?e1-Le():0;if(_=eS(h,_),_!==null){Jn=l,e.cancelPendingCommit=_(um.bind(null,e,t,l,n,i,s,a,r,o,c,h,null,f,d)),Di(e,l,a,!u);return}}um(e,t,l,n,i,s,a,r,o)}function y2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],l=s.getSnapshot;s=s.value;try{if(!Ge(l(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t,n,i){t&=~ud,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var l=31-Ne(s),a=1<<l;i[l]=-1,s&=~a}n!==0&&o0(e,n,t)}function Gu(){return ot&6?!0:(wr(0),!1)}function cd(){if(tt!==null){if(dt===0)var e=tt.return;else e=tt,Pn=Gs=null,Pf(e),El=null,Ja=0,e=tt;for(;e!==null;)Fy(e.alternate,e),e=e.return;tt=null}}function Il(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,F2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Jn=0,cd(),pt=e,tt=n=Wn(e.current,null),et=t,dt=0,be=null,Oi=!1,Pl=xr(e,t),od=!1,zl=Oe=ud=xs=Ki=Ot=0,ve=Xa=null,jh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Ne(i),l=1<<s;t|=e[s],i&=~l}return ai=t,Mu(),n}function l1(e,t){K=null,X.H=tr,t===Kl||t===Ou?(t=Yg(),dt=3):t===Bf?(t=Yg(),dt=4):dt=t===sd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,be=t,tt===null&&(Ot=1,Vo(e,We(t,e.current)))}function a1(){var e=Fe.current;return e===null?!0:(et&4194048)===et?tn===null:(et&62914560)===et||et&536870912?e===tn:!1}function r1(){var e=X.H;return X.H=tr,e===null?tr:e}function o1(){var e=X.A;return X.A=m2,e}function Jo(){Ot=4,Oi||(et&4194048)!==et&&Fe.current!==null||(Pl=!0),!(Ki&134217727)&&!(xs&134217727)||pt===null||Di(pt,et,Oe,!1)}function Ic(e,t,n){var i=ot;ot|=2;var s=r1(),l=o1();(pt!==e||et!==t)&&(Qo=null,Il(e,t)),t=!1;var a=Ot;t:do try{if(dt!==0&&tt!==null){var r=tt,o=be;switch(dt){case 8:cd(),a=6;break t;case 3:case 2:case 9:case 6:Fe.current===null&&(t=!0);var u=dt;if(dt=0,be=null,fl(e,r,o,u),n&&Pl){a=0;break t}break;default:u=dt,dt=0,be=null,fl(e,r,o,u)}}p2(),a=Ot;break}catch(c){l1(e,c)}while(!0);return t&&e.shellSuspendCounter++,Pn=Gs=null,ot=i,X.H=s,X.A=l,tt===null&&(pt=null,et=0,Mu()),a}function p2(){for(;tt!==null;)u1(tt)}function v2(e,t){var n=ot;ot|=2;var i=r1(),s=o1();pt!==e||et!==t?(Qo=null,Wo=Le()+500,Il(e,t)):Pl=xr(e,t);t:do try{if(dt!==0&&tt!==null){t=tt;var l=be;e:switch(dt){case 1:dt=0,be=null,fl(e,t,l,1);break;case 2:case 9:if(Ug(l)){dt=0,be=null,om(t);break}t=function(){dt!==2&&dt!==9||pt!==e||(dt=7),Mn(e)},l.then(t,t);break t;case 3:dt=7;break t;case 4:dt=5;break t;case 7:Ug(l)?(dt=0,be=null,om(t)):(dt=0,be=null,fl(e,t,l,7));break;case 5:var a=null;switch(tt.tag){case 26:a=tt.memoizedState;case 5:case 27:var r=tt;if(a?w1(a):r.stateNode.complete){dt=0,be=null;var o=r.sibling;if(o!==null)tt=o;else{var u=r.return;u!==null?(tt=u,Fu(u)):tt=null}break e}}dt=0,be=null,fl(e,t,l,5);break;case 6:dt=0,be=null,fl(e,t,l,6);break;case 8:cd(),Ot=6;break t;default:throw Error(M(462))}}E2();break}catch(c){l1(e,c)}while(!0);return Pn=Gs=null,X.H=i,X.A=s,ot=n,tt!==null?0:(pt=null,et=0,Mu(),Ot)}function E2(){for(;tt!==null&&!Hv();)u1(tt)}function u1(e){var t=Gy(e.alternate,e,ai);e.memoizedProps=e.pendingProps,t===null?Fu(e):tt=t}function om(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=em(n,t,t.pendingProps,t.type,void 0,et);break;case 11:t=em(n,t,t.pendingProps,t.type.render,t.ref,et);break;case 5:Pf(t);default:Fy(n,t),t=tt=F0(t,ai),t=Gy(n,t,ai)}e.memoizedProps=e.pendingProps,t===null?Fu(e):tt=t}function fl(e,t,n,i){Pn=Gs=null,Pf(t),El=null,Ja=0;var s=t.return;try{if(o2(e,s,t,n,et)){Ot=1,Vo(e,We(n,e.current)),tt=null;return}}catch(l){if(s!==null)throw tt=s,l;Ot=1,Vo(e,We(n,e.current)),tt=null;return}t.flags&32768?(nt||i===1?e=!0:Pl||et&536870912?e=!1:(Oi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Fe.current,i!==null&&i.tag===13&&(i.flags|=16384))),c1(t,e)):Fu(t)}function Fu(e){var t=e;do{if(t.flags&32768){c1(t,Oi);return}e=t.return;var n=h2(t.alternate,t,ai);if(n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Ot===0&&(Ot=5)}function c1(e,t){do{var n=f2(e.alternate,e);if(n!==null){n.flags&=32767,tt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=n}while(e!==null);Ot=6,tt=null}function um(e,t,n,i,s,l,a,r,o){e.cancelPendingCommit=null;do Uu();while(jt!==0);if(ot&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(l=t.lanes|t.childLanes,l|=If,$v(e,n,l,a,r,o),e===pt&&(tt=pt=null,et=0),Nl=t,Xi=e,Jn=n,Bh=l,Hh=s,n1=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,C2(Go,function(){return m1(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,s=ut.p,ut.p=2,a=ot,ot|=4;try{d2(e,t,n)}finally{ot=a,ut.p=s,X.T=i}}jt=1,h1(),f1(),d1()}}function h1(){if(jt===1){jt=0;var e=Xi,t=Nl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=ut.p;ut.p=2;var s=ot;ot|=4;try{Ky(t,e);var l=Kh,a=w0(e.containerInfo),r=l.focusedElem,o=l.selectionRange;if(a!==r&&r&&r.ownerDocument&&M0(r.ownerDocument.documentElement,r)){if(o!==null&&Nf(r)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(c,r.value.length);else{var h=r.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var d=f.getSelection(),_=r.textContent.length,p=Math.min(o.start,_),E=o.end===void 0?p:Math.min(o.end,_);!d.extend&&p>E&&(a=E,E=p,p=a);var m=Dg(r,p),g=Dg(r,E);if(m&&g&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==g.node||d.focusOffset!==g.offset)){var y=h.createRange();y.setStart(m.node,m.offset),d.removeAllRanges(),p>E?(d.addRange(y),d.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),d.addRange(y))}}}}for(h=[],d=r;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<h.length;r++){var v=h[r];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}au=!!Vh,Kh=Vh=null}finally{ot=s,ut.p=i,X.T=n}}e.current=t,jt=2}}function f1(){if(jt===2){jt=0;var e=Xi,t=Nl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=ut.p;ut.p=2;var s=ot;ot|=4;try{Hy(e,t.alternate,t)}finally{ot=s,ut.p=i,X.T=n}}jt=3}}function d1(){if(jt===4||jt===3){jt=0,Zv();var e=Xi,t=Nl,n=Jn,i=n1;t.subtreeFlags&10256||t.flags&10256?jt=5:(jt=0,Nl=Xi=null,g1(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Yi=null),Af(n),t=t.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Sr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,s=ut.p,ut.p=2,X.T=null;try{for(var l=e.onRecoverableError,a=0;a<i.length;a++){var r=i[a];l(r.value,{componentStack:r.stack})}}finally{X.T=t,ut.p=s}}Jn&3&&Uu(),Mn(e),s=e.pendingLanes,n&261930&&s&42?e===Zh?ja++:(ja=0,Zh=e):ja=0,wr(0)}}function g1(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,br(t)))}function Uu(){return h1(),f1(),d1(),m1()}function m1(){if(jt!==5)return!1;var e=Xi,t=Bh;Bh=0;var n=Af(Jn),i=X.T,s=ut.p;try{ut.p=32>n?32:n,X.T=null,n=Hh,Hh=null;var l=Xi,a=Jn;if(jt=0,Nl=Xi=null,Jn=0,ot&6)throw Error(M(331));var r=ot;if(ot|=4,$y(l.current),Wy(l,l.current,a,n),ot=r,wr(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Sr,l)}catch{}return!0}finally{ut.p=s,X.T=i,g1(e,t)}}function cm(e,t,n){t=We(n,t),t=Fh(e.stateNode,t,2),e=Ui(e,t,2),e!==null&&(Tr(e,2),Mn(e))}function gt(e,t,n){if(e.tag===3)cm(e,e,n);else for(;t!==null;){if(t.tag===3){cm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yi===null||!Yi.has(i))){e=We(n,e),n=Oy(2),i=Ui(t,n,2),i!==null&&(Dy(n,i,t,e),Tr(i,2),Mn(i));break}}t=t.return}}function Gc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new _2;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(od=!0,s.add(n),e=S2.bind(null,e,t,n),t.then(e,e))}function S2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pt===e&&(et&n)===n&&(Ot===4||Ot===3&&(et&62914560)===et&&300>Le()-Iu?!(ot&2)&&Il(e,0):ud|=n,zl===et&&(zl=0)),Mn(e)}function _1(e,t){t===0&&(t=r0()),e=Is(e,t),e!==null&&(Tr(e,t),Mn(e))}function x2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_1(e,n)}function T2(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(t),_1(e,n)}function C2(e,t){return Rf(e,t)}var $o=null,Ps=null,qh=!1,tu=!1,Fc=!1,Li=0;function Mn(e){e!==Ps&&e.next===null&&(Ps===null?$o=Ps=e:Ps=Ps.next=e),tu=!0,qh||(qh=!0,b2())}function wr(e,t){if(!Fc&&tu){Fc=!0;do for(var n=!1,i=$o;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var l=0;else{var a=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-Ne(42|e)+1)-1,l&=s&~(a&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,hm(i,l))}else l=et,l=Cu(i,i===pt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||xr(i,l)||(n=!0,hm(i,l));i=i.next}while(n);Fc=!1}}function R2(){y1()}function y1(){tu=qh=!1;var e=0;Li!==0&&G2()&&(e=Li);for(var t=Le(),n=null,i=$o;i!==null;){var s=i.next,l=p1(i,t);l===0?(i.next=null,n===null?$o=s:n.next=s,s===null&&(Ps=n)):(n=i,(e!==0||l&3)&&(tu=!0)),i=s}jt!==0&&jt!==5||wr(e),Li!==0&&(Li=0)}function p1(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var a=31-Ne(l),r=1<<a,o=s[a];o===-1?(!(r&n)||r&i)&&(s[a]=Jv(r,t)):o<=t&&(e.expiredLanes|=r),l&=~r}if(t=pt,n=et,n=Cu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&hc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||xr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&hc(i),Af(n)){case 2:case 8:n=l0;break;case 32:n=Go;break;case 268435456:n=a0;break;default:n=Go}return i=v1.bind(null,e),n=Rf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&hc(i),e.callbackPriority=2,e.callbackNode=null,2}function v1(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu()&&e.callbackNode!==n)return null;var i=et;return i=Cu(e,e===pt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(s1(e,i,t),p1(e,Le()),e.callbackNode!=null&&e.callbackNode===n?v1.bind(null,e):null)}function hm(e,t){if(Uu())return null;s1(e,t,!0)}function b2(){U2(function(){ot&6?Rf(s0,R2):y1()})}function hd(){if(Li===0){var e=Ol;e===0&&(e=Zr,Zr<<=1,!(Zr&261888)&&(Zr=256)),Li=e}return Li}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:po(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function A2(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var l=fm((s[Ce]||null).action),a=i.submitter;a&&(t=(t=a[Ce]||null)?fm(t.formAction):a.getAttribute("formAction"),t!==null&&(l=t,a=null));var r=new Ru("action","action",null,i,s);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Li!==0){var o=a?dm(s,a):new FormData(s);Ih(n,{pending:!0,data:o,method:s.method,action:l},null,o)}}else typeof l=="function"&&(r.preventDefault(),o=a?dm(s,a):new FormData(s),Ih(n,{pending:!0,data:o,method:s.method,action:l},l,o))},currentTarget:s}]})}}for(var Uc=0;Uc<Th.length;Uc++){var Yc=Th[Uc],M2=Yc.toLowerCase(),w2=Yc[0].toUpperCase()+Yc.slice(1);gn(M2,"on"+w2)}gn(D0,"onAnimationEnd");gn(L0,"onAnimationIteration");gn(z0,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(qE,"onTransitionRun");gn(kE,"onTransitionStart");gn(VE,"onTransitionCancel");gn(N0,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function E1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var l=void 0;if(t)for(var a=i.length-1;0<=a;a--){var r=i[a],o=r.instance,u=r.currentTarget;if(r=r.listener,o!==l&&s.isPropagationStopped())break t;l=r,s.currentTarget=u;try{l(s)}catch(c){Uo(c)}s.currentTarget=null,l=o}else for(a=0;a<i.length;a++){if(r=i[a],o=r.instance,u=r.currentTarget,r=r.listener,o!==l&&s.isPropagationStopped())break t;l=r,s.currentTarget=u;try{l(s)}catch(c){Uo(c)}s.currentTarget=null,l=o}}}}function $(e,t){var n=t[mh];n===void 0&&(n=t[mh]=new Set);var i=e+"__bubble";n.has(i)||(S1(t,e,2,!1),n.add(i))}function Xc(e,t,n){var i=0;t&&(i|=4),S1(n,e,i,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[to]){e[to]=!0,f0.forEach(function(n){n!=="selectionchange"&&(O2.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,Xc("selectionchange",!1,t))}}function S1(e,t,n,i){switch(N1(t)){case 2:var s=sS;break;case 8:s=lS;break;default:s=_d}n=s.bind(null,t,n,e),s=void 0,!Eh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jc(e,t,n,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var r=i.stateNode.containerInfo;if(r===s)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;r!==null;){if(a=il(r),a===null)return;if(o=a.tag,o===5||o===6||o===26||o===27){i=l=a;continue t}r=r.parentNode}}i=i.return}E0(function(){var u=l,c=Of(n),h=[];t:{var f=I0.get(e);if(f!==void 0){var d=Ru,_=e;switch(e){case"keypress":if(Eo(n)===0)break t;case"keydown":case"keyup":d=TE;break;case"focusin":_="focus",d=_c;break;case"focusout":_="blur",d=_c;break;case"beforeblur":case"afterblur":d=_c;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=hE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=bE;break;case D0:case L0:case z0:d=gE;break;case N0:d=ME;break;case"scroll":case"scrollend":d=uE;break;case"wheel":d=OE;break;case"copy":case"cut":case"paste":d=_E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Tg;break;case"toggle":case"beforetoggle":d=LE}var p=(t&4)!==0,E=!p&&(e==="scroll"||e==="scrollend"),m=p?f!==null?f+"Capture":null:f;p=[];for(var g=u,y;g!==null;){var v=g;if(y=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||y===null||m===null||(v=Va(g,m),v!=null&&p.push(nr(g,v,y))),E)break;g=g.return}0<p.length&&(f=new d(f,_,null,n,c),h.push({event:f,listeners:p}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==vh&&(_=n.relatedTarget||n.fromElement)&&(il(_)||_[ql]))break t;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(_=n.relatedTarget||n.toElement,d=u,_=_?il(_):null,_!==null&&(E=Er(_),p=_.tag,_!==E||p!==5&&p!==27&&p!==6)&&(_=null)):(d=null,_=u),d!==_)){if(p=Sg,v="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=Tg,v="onPointerLeave",m="onPointerEnter",g="pointer"),E=d==null?f:Ta(d),y=_==null?f:Ta(_),f=new p(v,g+"leave",d,n,c),f.target=E,f.relatedTarget=y,v=null,il(c)===u&&(p=new p(m,g+"enter",_,n,c),p.target=y,p.relatedTarget=E,v=p),E=v,d&&_)e:{for(p=D2,m=d,g=_,y=0,v=m;v;v=p(v))y++;v=0;for(var S=g;S;S=p(S))v++;for(;0<y-v;)m=p(m),y--;for(;0<v-y;)g=p(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate){p=m;break e}m=p(m),g=p(g)}p=null}else p=null;d!==null&&gm(h,f,d,p,!1),_!==null&&E!==null&&gm(h,E,_,p,!0)}}t:{if(f=u?Ta(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var b=Ag;else if(bg(f))if(b0)b=BE;else{b=XE;var x=YE}else d=f.nodeName,!d||d.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&wf(u.elementType)&&(b=Ag):b=jE;if(b&&(b=b(e,u))){R0(h,b,n,c);break t}x&&x(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&ph(f,"number",f.value)}switch(x=u?Ta(u):window,e){case"focusin":(bg(x)||x.contentEditable==="true")&&(al=x,Sh=u,La=null);break;case"focusout":La=Sh=al=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Lg(h,n,c);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Lg(h,n,c)}var C;if(zf)t:{switch(e){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else ll?T0(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(x0&&n.locale!=="ko"&&(ll||R!=="onCompositionStart"?R==="onCompositionEnd"&&ll&&(C=S0()):(wi=c,Df="value"in wi?wi.value:wi.textContent,ll=!0)),x=eu(u,R),0<x.length&&(R=new xg(R,e,null,n,c),h.push({event:R,listeners:x}),C?R.data=C:(C=C0(n),C!==null&&(R.data=C)))),(C=NE?IE(e,n):GE(e,n))&&(R=eu(u,"onBeforeInput"),0<R.length&&(x=new xg("onBeforeInput","beforeinput",null,n,c),h.push({event:x,listeners:R}),x.data=C)),A2(h,e,u,n,c)}E1(h,t)})}function nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||l===null||(s=Va(e,n),s!=null&&i.unshift(nr(e,s,l)),s=Va(e,t),s!=null&&i.push(nr(e,s,l))),e.tag===3)return i;e=e.return}return[]}function D2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gm(e,t,n,i,s){for(var l=t._reactName,a=[];n!==null&&n!==i;){var r=n,o=r.alternate,u=r.stateNode;if(r=r.tag,o!==null&&o===i)break;r!==5&&r!==26&&r!==27||u===null||(o=u,s?(u=Va(n,l),u!=null&&a.unshift(nr(n,u,o))):s||(u=Va(n,l),u!=null&&a.push(nr(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var L2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function mm(e){return(typeof e=="string"?e:""+e).replace(L2,`
`).replace(z2,"")}function x1(e,t){return t=mm(t),mm(e)===t}function _t(e,t,n,i,s,l){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||wl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&wl(e,""+i);break;case"className":Vr(e,"class",i);break;case"tabIndex":Vr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(e,n,i);break;case"style":v0(e,i,l);break;case"data":if(t!=="object"){Vr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=po(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&_t(e,t,"name",s.name,s,null),_t(e,t,"formEncType",s.formEncType,s,null),_t(e,t,"formMethod",s.formMethod,s,null),_t(e,t,"formTarget",s.formTarget,s,null)):(_t(e,t,"encType",s.encType,s,null),_t(e,t,"method",s.method,s,null),_t(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=po(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Kn);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=po(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":$("beforetoggle",e),$("toggle",e),yo(e,"popover",i);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":yo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rE.get(n)||n,yo(e,n,i))}}function kh(e,t,n,i,s,l){switch(n){case"style":v0(e,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof i=="string"?wl(e,i):(typeof i=="number"||typeof i=="bigint")&&wl(e,""+i);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!d0.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),l=e[Ce]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,s),typeof i=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):yo(e,n,i)}}}function ee(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",e),$("load",e);var i=!1,s=!1,l;for(l in n)if(n.hasOwnProperty(l)){var a=n[l];if(a!=null)switch(l){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:_t(e,t,l,a,n,null)}}s&&_t(e,t,"srcSet",n.srcSet,n,null),i&&_t(e,t,"src",n.src,n,null);return;case"input":$("invalid",e);var r=l=a=s=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var c=n[i];if(c!=null)switch(i){case"name":s=c;break;case"type":a=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":l=c;break;case"defaultValue":r=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(M(137,t));break;default:_t(e,t,i,c,n,null)}}_0(e,l,r,o,u,a,s,!1);return;case"select":$("invalid",e),i=a=l=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":l=r;break;case"defaultValue":a=r;break;case"multiple":i=r;default:_t(e,t,s,r,n,null)}t=l,n=a,e.multiple=!!i,t!=null?yl(e,!!i,t,!1):n!=null&&yl(e,!!i,n,!0);return;case"textarea":$("invalid",e),l=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(r=n[a],r!=null))switch(a){case"value":i=r;break;case"defaultValue":s=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(M(91));break;default:_t(e,t,a,r,n,null)}p0(e,i,s,l);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:_t(e,t,o,i,n,null)}return;case"dialog":$("beforetoggle",e),$("toggle",e),$("cancel",e),$("close",e);break;case"iframe":case"object":$("load",e);break;case"video":case"audio":for(i=0;i<er.length;i++)$(er[i],e);break;case"image":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"embed":case"source":case"link":$("error",e),$("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:_t(e,t,u,i,n,null)}return;default:if(wf(t)){for(c in n)n.hasOwnProperty(c)&&(i=n[c],i!==void 0&&kh(e,t,c,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&_t(e,t,r,i,n,null))}function N2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,a=null,r=null,o=null,u=null,c=null;for(d in n){var h=n[d];if(n.hasOwnProperty(d)&&h!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=h;default:i.hasOwnProperty(d)||_t(e,t,d,null,i,h)}}for(var f in i){var d=i[f];if(h=n[f],i.hasOwnProperty(f)&&(d!=null||h!=null))switch(f){case"type":l=d;break;case"name":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,t));break;default:d!==h&&_t(e,t,f,d,i,h)}}yh(e,a,r,o,u,c,l,s);return;case"select":d=a=r=f=null;for(l in n)if(o=n[l],n.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":d=o;default:i.hasOwnProperty(l)||_t(e,t,l,null,i,o)}for(s in i)if(l=i[s],o=n[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":f=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:l!==o&&_t(e,t,s,l,i,o)}t=r,n=a,i=d,f!=null?yl(e,!!n,f,!1):!!i!=!!n&&(t!=null?yl(e,!!n,t,!0):yl(e,!!n,n?[]:"",!1));return;case"textarea":d=f=null;for(r in n)if(s=n[r],n.hasOwnProperty(r)&&s!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:_t(e,t,r,null,i,s)}for(a in i)if(s=i[a],l=n[a],i.hasOwnProperty(a)&&(s!=null||l!=null))switch(a){case"value":f=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(M(91));break;default:s!==l&&_t(e,t,a,s,i,l)}y0(e,f,d);return;case"option":for(var _ in n)if(f=n[_],n.hasOwnProperty(_)&&f!=null&&!i.hasOwnProperty(_))switch(_){case"selected":e.selected=!1;break;default:_t(e,t,_,null,i,f)}for(o in i)if(f=i[o],d=n[o],i.hasOwnProperty(o)&&f!==d&&(f!=null||d!=null))switch(o){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_t(e,t,o,f,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)f=n[p],n.hasOwnProperty(p)&&f!=null&&!i.hasOwnProperty(p)&&_t(e,t,p,null,i,f);for(u in i)if(f=i[u],d=n[u],i.hasOwnProperty(u)&&f!==d&&(f!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(M(137,t));break;default:_t(e,t,u,f,i,d)}return;default:if(wf(t)){for(var E in n)f=n[E],n.hasOwnProperty(E)&&f!==void 0&&!i.hasOwnProperty(E)&&kh(e,t,E,void 0,i,f);for(c in i)f=i[c],d=n[c],!i.hasOwnProperty(c)||f===d||f===void 0&&d===void 0||kh(e,t,c,f,i,d);return}}for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!i.hasOwnProperty(m)&&_t(e,t,m,null,i,f);for(h in i)f=i[h],d=n[h],!i.hasOwnProperty(h)||f===d||f==null&&d==null||_t(e,t,h,f,i,d)}function _m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],l=s.transferSize,a=s.initiatorType,r=s.duration;if(l&&r&&_m(a)){for(a=0,r=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>r)break;var c=o.transferSize,h=o.initiatorType;c&&_m(h)&&(o=o.responseEnd,a+=c*(o<r?1:(r-u)/(o-u)))}if(--i,t+=8*(l+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vh=null,Kh=null;function nu(e){return e.nodeType===9?e:e.ownerDocument}function ym(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===Bc?!1:(Bc=e,!0):(Bc=null,!1)}var C1=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(e){return pm.resolve(null).then(e).catch(Y2)}:C1;function Y2(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function vm(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Fl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ba(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ba(n);for(var l=n.firstChild;l;){var a=l.nextSibling,r=l.nodeName;l[Cr]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=a}}else n==="body"&&Ba(e.ownerDocument.body);n=s}while(n);Fl(t)}function Em(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Wh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wh(n),Mf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function X2(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Cr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function j2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function R1(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=en(e.nextSibling),e===null))return null;return e}function Qh(e){return e.data==="$?"||e.data==="$~"}function Jh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $h=null;function Sm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return en(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function b1(e,t,n){switch(t=nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function Ba(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mf(e)}var nn=new Map,Tm=new Set;function iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oi=ut.d;ut.d={f:H2,r:Z2,D:q2,C:k2,L:V2,m:K2,X:W2,S:P2,M:Q2};function H2(){var e=oi.f(),t=Gu();return e||t}function Z2(e){var t=kl(e);t!==null&&t.tag===5&&t.type==="form"?vy(t):oi.r(e)}var Wl=typeof document>"u"?null:document;function A1(e,t,n){var i=Wl;if(i&&typeof t=="string"&&t){var s=Pe(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Tm.has(s)||(Tm.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ee(t,"link",e),kt(t),i.head.appendChild(t)))}}function q2(e){oi.D(e),A1("dns-prefetch",e,null)}function k2(e,t){oi.C(e,t),A1("preconnect",e,t)}function V2(e,t,n){oi.L(e,t,n);var i=Wl;if(i&&e&&t){var s='link[rel="preload"][as="'+Pe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Pe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Pe(n.imageSizes)+'"]')):s+='[href="'+Pe(e)+'"]';var l=s;switch(t){case"style":l=Gl(e);break;case"script":l=Ql(e)}nn.has(l)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(l,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Or(l))||t==="script"&&i.querySelector(Dr(l))||(t=i.createElement("link"),ee(t,"link",e),kt(t),i.head.appendChild(t)))}}function K2(e,t){oi.m(e,t);var n=Wl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Pe(i)+'"][href="'+Pe(e)+'"]',l=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ql(e)}if(!nn.has(l)&&(e=Ct({rel:"modulepreload",href:e},t),nn.set(l,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dr(l)))return}i=n.createElement("link"),ee(i,"link",e),kt(i),n.head.appendChild(i)}}}function P2(e,t,n){oi.S(e,t,n);var i=Wl;if(i&&e){var s=_l(i).hoistableStyles,l=Gl(e);t=t||"default";var a=s.get(l);if(!a){var r={loading:0,preload:null};if(a=i.querySelector(Or(l)))r.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(l))&&dd(e,n);var o=a=i.createElement("link");kt(o),ee(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Mo(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:r},s.set(l,a)}}}function W2(e,t){oi.X(e,t);var n=Wl;if(n&&e){var i=_l(n).hoistableScripts,s=Ql(e),l=i.get(s);l||(l=n.querySelector(Dr(s)),l||(e=Ct({src:e,async:!0},t),(t=nn.get(s))&&gd(e,t),l=n.createElement("script"),kt(l),ee(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(s,l))}}function Q2(e,t){oi.M(e,t);var n=Wl;if(n&&e){var i=_l(n).hoistableScripts,s=Ql(e),l=i.get(s);l||(l=n.querySelector(Dr(s)),l||(e=Ct({src:e,async:!0,type:"module"},t),(t=nn.get(s))&&gd(e,t),l=n.createElement("script"),kt(l),ee(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(s,l))}}function Cm(e,t,n,i){var s=(s=Ii.current)?iu(s):null;if(!s)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Gl(n.href),n=_l(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Gl(n.href);var l=_l(s).hoistableStyles,a=l.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,a),(l=s.querySelector(Or(e)))&&!l._p&&(a.instance=l,a.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),l||J2(s,e,n,a.state))),t&&i===null)throw Error(M(528,""));return a}if(t&&i!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ql(n),n=_l(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function Gl(e){return'href="'+Pe(e)+'"'}function Or(e){return'link[rel="stylesheet"]['+e+"]"}function M1(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function J2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ee(t,"link",n),kt(t),e.head.appendChild(t))}function Ql(e){return'[src="'+Pe(e)+'"]'}function Dr(e){return"script[async]"+e}function Rm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Pe(n.href)+'"]');if(i)return t.instance=i,kt(i),i;var s=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),kt(i),ee(i,"style",s),Mo(i,n.precedence,e),t.instance=i;case"stylesheet":s=Gl(n.href);var l=e.querySelector(Or(s));if(l)return t.state.loading|=4,t.instance=l,kt(l),l;i=M1(n),(s=nn.get(s))&&dd(i,s),l=(e.ownerDocument||e).createElement("link"),kt(l);var a=l;return a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),ee(l,"link",i),t.state.loading|=4,Mo(l,n.precedence,e),t.instance=l;case"script":return l=Ql(n.src),(s=e.querySelector(Dr(l)))?(t.instance=s,kt(s),s):(i=n,(s=nn.get(l))&&(i=Ct({},n),gd(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),kt(s),ee(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Mo(i,n.precedence,e));return t.instance}function Mo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,l=s,a=0;a<i.length;a++){var r=i[a];if(r.dataset.precedence===t)l=r;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wo=null;function bm(e,t,n){if(wo===null){var i=new Map,s=wo=new Map;s.set(n,i)}else s=wo,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var l=n[s];if(!(l[Cr]||l[Jt]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var a=l.getAttribute(t)||"";a=e+a;var r=i.get(a);r?r.push(l):i.set(a,[l])}}return i}function Am(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function w1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function tS(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Gl(i.href),l=t.querySelector(Or(s));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=su.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,kt(l);return}l=t.ownerDocument||t,i=M1(i),(s=nn.get(s))&&dd(i,s),l=l.createElement("link"),kt(l);var a=l;a._p=new Promise(function(r,o){a.onload=r,a.onerror=o}),ee(l,"link",i),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=su.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Hc=0;function eS(e,t){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Hc===0&&(Hc=62500*I2());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Hc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lu=null;function Oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lu=new Map,t.forEach(nS,e),lu=null,su.call(e))}function nS(e,t){if(!(t.state.loading&4)){var n=lu.get(e);if(n)var i=n.get(null);else{n=new Map,lu.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var a=s[l];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),l=n.get(a)||i,l===i&&n.set(null,s),n.set(a,s),this.count++,i=su.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),l?l.parentNode.insertBefore(s,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ir={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:ps,_currentValue2:ps,_threadCount:0};function iS(e,t,n,i,s,l,a,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.hiddenUpdates=fc(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function O1(e,t,n,i,s,l,a,r,o,u,c,h){return e=new iS(e,t,n,a,o,u,c,h,r),t=1,l===!0&&(t|=24),l=we(3,null,null,t),e.current=l,l.stateNode=e,t=Xf(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:t},Hf(l),e}function D1(e){return e?(e=ul,e):ul}function L1(e,t,n,i,s,l){s=D1(s),i.context===null?i.context=s:i.pendingContext=s,i=Fi(t),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=Ui(e,i,t),n!==null&&(Te(n,e,t),Na(n,e,t))}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function z1(e){if(e.tag===13||e.tag===31){var t=Is(e,67108864);t!==null&&Te(t,e,67108864),md(e,67108864)}}function wm(e){if(e.tag===13||e.tag===31){var t=Ie();t=bf(t);var n=Is(e,t);n!==null&&Te(n,e,t),md(e,t)}}var au=!0;function sS(e,t,n,i){var s=X.T;X.T=null;var l=ut.p;try{ut.p=2,_d(e,t,n,i)}finally{ut.p=l,X.T=s}}function lS(e,t,n,i){var s=X.T;X.T=null;var l=ut.p;try{ut.p=8,_d(e,t,n,i)}finally{ut.p=l,X.T=s}}function _d(e,t,n,i){if(au){var s=tf(i);if(s===null)jc(e,t,i,ru,n),Om(e,i);else if(rS(s,e,t,n,i))i.stopPropagation();else if(Om(e,i),t&4&&-1<aS.indexOf(e)){for(;s!==null;){var l=kl(s);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var a=us(l.pendingLanes);if(a!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;a;){var o=1<<31-Ne(a);r.entanglements[1]|=o,a&=~o}Mn(l),!(ot&6)&&(Wo=Le()+500,wr(0))}}break;case 31:case 13:r=Is(l,2),r!==null&&Te(r,l,2),Gu(),md(l,2)}if(l=tf(i),l===null&&jc(e,t,i,ru,n),l===s)break;s=l}s!==null&&i.stopPropagation()}else jc(e,t,i,null,n)}}function tf(e){return e=Of(e),yd(e)}var ru=null;function yd(e){if(ru=null,e=il(e),e!==null){var t=Er(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=$_(t),e!==null)return e;e=null}else if(n===31){if(e=t0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ru=e,null}function N1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qv()){case s0:return 2;case l0:return 8;case Go:case kv:return 32;case a0:return 268435456;default:return 32}default:return 32}}var ef=!1,ji=null,Bi=null,Hi=null,sr=new Map,lr=new Map,Ai=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(t.pointerId)}}function ma(e,t,n,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=kl(t),t!==null&&z1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rS(e,t,n,i,s){switch(t){case"focusin":return ji=ma(ji,e,t,n,i,s),!0;case"dragenter":return Bi=ma(Bi,e,t,n,i,s),!0;case"mouseover":return Hi=ma(Hi,e,t,n,i,s),!0;case"pointerover":var l=s.pointerId;return sr.set(l,ma(sr.get(l)||null,e,t,n,i,s)),!0;case"gotpointercapture":return l=s.pointerId,lr.set(l,ma(lr.get(l)||null,e,t,n,i,s)),!0}return!1}function I1(e){var t=il(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=$_(n),t!==null){e.blockedOn=t,gg(e.priority,function(){wm(n)});return}}else if(t===31){if(t=t0(n),t!==null){e.blockedOn=t,gg(e.priority,function(){wm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);vh=i,n.target.dispatchEvent(i),vh=null}else return t=kl(n),t!==null&&z1(t),e.blockedOn=n,!1;t.shift()}return!0}function Dm(e,t,n){Do(e)&&n.delete(t)}function oS(){ef=!1,ji!==null&&Do(ji)&&(ji=null),Bi!==null&&Do(Bi)&&(Bi=null),Hi!==null&&Do(Hi)&&(Hi=null),sr.forEach(Dm),lr.forEach(Dm)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,ef||(ef=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,oS)))}var no=null;function Lm(e){no!==e&&(no=e,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,function(){no===e&&(no=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(yd(i||n)===null)continue;break}var l=kl(n);l!==null&&(e.splice(t,3),t-=3,Ih(l,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Fl(e){function t(o){return eo(o,e)}ji!==null&&eo(ji,e),Bi!==null&&eo(Bi,e),Hi!==null&&eo(Hi,e),sr.forEach(t),lr.forEach(t);for(var n=0;n<Ai.length;n++){var i=Ai[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)I1(n),n.blockedOn===null&&Ai.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],a=s[Ce]||null;if(typeof l=="function")a||Lm(n);else if(a){var r=null;if(l&&l.hasAttribute("formAction")){if(s=l,a=l[Ce]||null)r=a.formAction;else if(yd(s)!==null)continue}else r=a.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Lm(n)}}}function G1(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function pd(e){this._internalRoot=e}Yu.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,i=Ie();L1(n,i,e,t,null,null)};Yu.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;L1(e.current,2,null,e,null,null),Gu(),t[ql]=null}};function Yu(e){this._internalRoot=e}Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=h0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ai.length&&t!==0&&t<Ai[n].priority;n++);Ai.splice(n,0,e),n===0&&I1(e)}};var zm=Q_.version;if(zm!=="19.2.0")throw Error(M(527,zm,"19.2.0"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Uv(t),e=e!==null?e0(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{Sr=io.inject(uS),ze=io}catch{}}xu.createRoot=function(e,t){if(!J_(e))throw Error(M(299));var n=!1,i="",s=Ay,l=My,a=wy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=O1(e,1,!1,null,null,n,i,null,s,l,a,G1),e[ql]=t.current,fd(e),new pd(t)};xu.hydrateRoot=function(e,t,n){if(!J_(e))throw Error(M(299));var i=!1,s="",l=Ay,a=My,r=wy,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=O1(e,1,!0,t,n??null,i,s,o,l,a,r,G1),t.context=D1(null),n=t.current,i=Ie(),i=bf(i),s=Fi(i),s.callback=null,Ui(n,s,i),n=i,t.current.lanes=n,Tr(t,n),Mn(t),e[ql]=t.current,fd(e),new Yu(t)};xu.version="19.2.0";function F1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F1)}catch(e){console.error(e)}}F1(),q_.exports=xu;var cS=q_.exports;const hS=dv(cS),U1="theme",Y1=["dfaut","sombre","clair","cute"],Nm={dfaut:"",sombre:"darker-theme",clair:"lighter-theme",cute:"cute-theme"},X1=e=>{const t=document.documentElement;Object.values(Nm).forEach(i=>{i&&t.classList.remove(i)});const n=Nm[e]||"";n&&t.classList.add(n)},fS=()=>{const e=localStorage.getItem(U1)||"dfaut";X1(e)},dS=e=>{Y1.includes(e)||(e="dfaut"),X1(e),localStorage.setItem(U1,e)};function gS(){return w.jsxs("div",{className:"page home",children:[w.jsx("h1",{children:"Voici la page principale"}),w.jsx("p",{children:"Cette page sera utilise pour prsenter nos produits et les informations importantes"})]})}function mS(){const[e,t]=Xt.useState([]);return Xt.useEffect(()=>{async function n(){try{const s=await(await fetch("https://raw.githubusercontent.com/Gabriel-Jagueneau/weatherPod/refs/heads/main/storage/data/products.json")).json();t(s)}catch(i){console.error("Erreur lors du chargement des produits :",i)}}n()},[]),w.jsxs("div",{className:"page products",children:[w.jsx("h1",{children:"Nos Produits WeatherPod"}),w.jsx("p",{className:"intro",children:"La page produits servira  prsenter nos diffrents packs de location de Capteurs & Station."}),w.jsx("div",{className:"product-grid",children:e.map((n,i)=>w.jsxs("div",{className:"product-card",children:[w.jsx("h2",{children:n.name}),w.jsx("br",{}),w.jsx("p",{children:n.description}),w.jsx("div",{className:"product-divider",children:Object.entries(n.package||{}).map(([s,l])=>s==="capteurs"&&l!=0?w.jsxs("li",{children:[l," Capteur",l>1?"s":""]},s):s==="station"&&l!=0?w.jsxs("li",{children:[l," Station",l>1?"s":""]},s):s==="pass"?w.jsxs("li",{children:[l," App Pass"]},s):null)}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("br",{}),w.jsxs("span",{className:"product-price",children:[w.jsx("div",{className:"text",children:"Prix fluctuables"}),w.jsx("div",{className:"price",children:n.prix})]}),w.jsx("br",{}),w.jsx("button",{className:"product-btn-louer",children:"Louer"})]},i))}),w.jsx("p",{className:"closing",children:"Rejoignez-nous ds aujourd'hui et profitez d'une exprience de jardinage intelligente et connecte avec WeatherPod!"})]})}class wn{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Ul={PROPERTYCHANGE:"propertychange"};class vd{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function _S(e,t,n){let i,s;n=n||$n;let l=0,a=e.length,r=!1;for(;l<a;)i=l+(a-l>>1),s=+n(e[i],t),s<0?l=i+1:(a=i,r=!s);return r?l:~l}function $n(e,t){return e>t?1:e<t?-1:0}function Ed(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const l=e[s];if(l===t)return s;if(l<t)return n(t,e[s-1],l)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function yS(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function ar(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function $i(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function pS(e,t,n){const i=t||$n;return e.every(function(s,l){if(l===0)return!0;const a=i(e[l-1],s);return!(a>0||a===0)})}function ws(){return!0}function Lr(){return!1}function Yl(){}function j1(e){let t=!1,n,i,s;return function(){const l=Array.prototype.slice.call(arguments);return(!t||this!==s||!$i(l,i))&&(t=!0,s=this,i=l,n=e.apply(this,arguments)),n}}function vS(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Jl(e){for(const t in e)delete e[t]}function Xl(e){let t;for(t in e)return!1;return!t}class Xu extends vd{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const l=n?new wn(t):t;l.target||(l.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),r=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,r[i]=0),++a[i];let o;for(let u=0,c=s.length;u<c;++u)if("handleEvent"in s[u]?o=s[u].handleEvent(l):o=s[u].call(this,l),o===!1||l.propagationStopped){o=!1;break}if(--a[i]===0){let u=r[i];for(delete r[i];u--;)this.removeEventListener(i,Yl);delete a[i]}return o}disposeInternal(){this.listeners_&&Jl(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=Yl,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}const V={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function lt(e,t,n,i,s){if(i&&i!==e&&(n=n.bind(i)),s){const a=n;n=function(){e.removeEventListener(t,n),a.apply(this,arguments)}}const l={target:e,type:t,listener:n};return e.addEventListener(t,n),l}function ou(e,t,n,i){return lt(e,t,n,i,!0)}function Tt(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Jl(e))}class zr extends Xu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(V.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=lt(this,t[l],n);return s}return lt(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let l=0;l<s;++l)i[l]=ou(this,t[l],n)}else i=ou(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)ES(i);else if(Array.isArray(t))for(let s=0,l=t.length;s<l;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}zr.prototype.on;zr.prototype.once;zr.prototype.un;function ES(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Tt(e[t]);else Tt(e)}function rt(){throw new Error("Unimplemented abstract method.")}let SS=0;function it(e){return e.ol_uid||(e.ol_uid=String(++SS))}class Im extends wn{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class mn extends zr{constructor(t){super(),this.on,this.once,this.un,it(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Im(i,t,n)),i=Ul.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Im(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const l=s[t];s[t]=n,l!==n&&this.notify(t,l)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],Xl(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}const Vt={ADD:"add",REMOVE:"remove"},Gm={LENGTH:"length"};class so extends wn{constructor(t,n,i){super(t),this.element=n,this.index=i}}class hn extends mn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let i=0,s=n.length;i<s;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Gm.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new so(Vt.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new so(Vt.REMOVE,n,t)),n}setAt(t,n){const i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const s=this.array_[t];this.array_[t]=n,this.dispatchEvent(new so(Vt.REMOVE,s,t)),this.dispatchEvent(new so(Vt.ADD,n,t))}updateLength_(){this.set(Gm.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const ft={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function at(e,t){if(!e)throw new Error(t)}function Yt(e,t,n){return Math.min(Math.max(e,t),n)}function xS(e,t,n,i,s,l){const a=s-n,r=l-i;if(a!==0||r!==0){const o=((e-n)*a+(t-i)*r)/(a*a+r*r);o>1?(n=s,i=l):o>0&&(n+=a*o,i+=r*o)}return Tl(e,t,n,i)}function Tl(e,t,n,i){const s=n-e,l=i-t;return s*s+l*l}function TS(e){const t=e.length;for(let i=0;i<t;i++){let s=i,l=Math.abs(e[i][i]);for(let r=i+1;r<t;r++){const o=Math.abs(e[r][i]);o>l&&(l=o,s=r)}if(l===0)return null;const a=e[s];e[s]=e[i],e[i]=a;for(let r=i+1;r<t;r++){const o=-e[r][i]/e[i][i];for(let u=i;u<t+1;u++)i==u?e[r][u]=0:e[r][u]+=o*e[i][u]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function Lo(e){return e*Math.PI/180}function Cl(e,t){const n=e%t;return n*t<0?n+t:n}function Ke(e,t,n){return e+n*(t-e)}function Sd(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function lo(e,t){return Math.floor(Sd(e,t))}function ao(e,t){return Math.ceil(Sd(e,t))}class B1 extends mn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[ft.OPACITY]=t.opacity!==void 0?t.opacity:1,at(typeof n[ft.OPACITY]=="number","Layer opacity must be a number"),n[ft.VISIBLE]=t.visible!==void 0?t.visible:!0,n[ft.Z_INDEX]=t.zIndex,n[ft.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[ft.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[ft.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[ft.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Yt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return rt()}getLayerStatesArray(t){return rt()}getExtent(){return this.get(ft.EXTENT)}getMaxResolution(){return this.get(ft.MAX_RESOLUTION)}getMinResolution(){return this.get(ft.MIN_RESOLUTION)}getMinZoom(){return this.get(ft.MIN_ZOOM)}getMaxZoom(){return this.get(ft.MAX_ZOOM)}getOpacity(){return this.get(ft.OPACITY)}getSourceState(){return rt()}getVisible(){return this.get(ft.VISIBLE)}getZIndex(){return this.get(ft.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(ft.EXTENT,t)}setMaxResolution(t){this.set(ft.MAX_RESOLUTION,t)}setMinResolution(t){this.set(ft.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(ft.MAX_ZOOM,t)}setMinZoom(t){this.set(ft.MIN_ZOOM,t)}setOpacity(t){at(typeof t=="number","Layer opacity must be a number"),this.set(ft.OPACITY,t)}setVisible(t){this.set(ft.VISIBLE,t)}setZIndex(t){this.set(ft.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Je={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},re={ANIMATING:0,INTERACTING:1},un={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},CS=42,xd=256,Td={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class H1{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Td[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Nr=6378137,dl=Math.PI*Nr,RS=[-dl,-dl,dl,dl],bS=[-180,-85,180,85],ro=Nr*Math.log(Math.tan(Math.PI/2));class Bs extends H1{constructor(t){super({code:t,units:"m",extent:RS,global:!0,worldExtent:bS,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Nr)}})}}const Fm=[new Bs("EPSG:3857"),new Bs("EPSG:102100"),new Bs("EPSG:102113"),new Bs("EPSG:900913"),new Bs("http://www.opengis.net/def/crs/EPSG/0/3857"),new Bs("http://www.opengis.net/gml/srs/epsg.xml#3857")];function AS(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=dl*e[s]/180;let l=Nr*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));l>ro?l=ro:l<-ro&&(l=-ro),t[s+1]=l}return t}function MS(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/dl,t[s+1]=360*Math.atan(Math.exp(e[s+1]/Nr))/Math.PI-90;return t}const wS=6378137,Um=[-180,-90,180,90],OS=Math.PI*wS/180;class as extends H1{constructor(t,n){super({code:t,units:"degrees",extent:Um,axisOrientation:n,global:!0,metersPerUnit:OS,worldExtent:Um})}}const Ym=[new as("CRS:84"),new as("EPSG:4326","neu"),new as("urn:ogc:def:crs:OGC:1.3:CRS84"),new as("urn:ogc:def:crs:OGC:2:84"),new as("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new as("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new as("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let nf={};function DS(e){return nf[e]||nf[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function LS(e,t){nf[e]=t}let Rl={};function uu(e,t,n){const i=e.getCode(),s=t.getCode();i in Rl||(Rl[i]={}),Rl[i][s]=n}function zS(e,t){let n;return e in Rl&&t in Rl[e]&&(n=Rl[e][t]),n}const Ht={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Xm(e){const t=sn();for(let n=0,i=e.length;n<i;++n)Ha(t,e[n]);return t}function Cd(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Z1(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function q1(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function jl(e,t){return k1(e,t[0],t[1])}function ds(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function k1(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function sf(e,t){const n=e[0],i=e[1],s=e[2],l=e[3],a=t[0],r=t[1];let o=Ht.UNKNOWN;return a<n?o=o|Ht.LEFT:a>s&&(o=o|Ht.RIGHT),r<i?o=o|Ht.BELOW:r>l&&(o=o|Ht.ABOVE),o===Ht.UNKNOWN&&(o=Ht.INTERSECTING),o}function sn(){return[1/0,1/0,-1/0,-1/0]}function Pi(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function ju(e){return Pi(1/0,1/0,-1/0,-1/0,e)}function V1(e,t){const n=e[0],i=e[1];return Pi(n,i,n,i,t)}function Rd(e,t,n,i,s){const l=ju(s);return K1(l,e,t,n,i)}function rr(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function NS(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Ha(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function K1(e,t,n,i,s){for(;n<i;n+=s)IS(e,t[n],t[n+1]);return e}function IS(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function P1(e,t){let n;return n=t(Bu(e)),n||(n=t(Hu(e)),n)||(n=t(Zu(e)),n)||(n=t(Fs(e)),n)?n:!1}function lf(e){let t=0;return qu(e)||(t=mt(e)*ge(e)),t}function Bu(e){return[e[0],e[1]]}function Hu(e){return[e[2],e[1]]}function Os(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function GS(e,t){let n;if(t==="bottom-left")n=Bu(e);else if(t==="bottom-right")n=Hu(e);else if(t==="top-left")n=Fs(e);else if(t==="top-right")n=Zu(e);else throw new Error("Invalid corner");return n}function af(e,t,n,i,s){const[l,a,r,o,u,c,h,f]=rf(e,t,n,i);return Pi(Math.min(l,r,u,h),Math.min(a,o,c,f),Math.max(l,r,u,h),Math.max(a,o,c,f),s)}function rf(e,t,n,i){const s=t*i[0]/2,l=t*i[1]/2,a=Math.cos(n),r=Math.sin(n),o=s*a,u=s*r,c=l*a,h=l*r,f=e[0],d=e[1];return[f-o+h,d-u-c,f-o-h,d-u+c,f+o-h,d+u+c,f+o+h,d+u-c,f-o+h,d-u-c]}function ge(e){return e[3]-e[1]}function Za(e,t,n){const i=n||sn();return Se(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):ju(i),i}function Fs(e){return[e[0],e[3]]}function Zu(e){return[e[2],e[3]]}function mt(e){return e[2]-e[0]}function Se(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function qu(e){return e[2]<e[0]||e[3]<e[1]}function FS(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function US(e,t,n){let i=!1;const s=sf(e,t),l=sf(e,n);if(s===Ht.INTERSECTING||l===Ht.INTERSECTING)i=!0;else{const a=e[0],r=e[1],o=e[2],u=e[3],c=t[0],h=t[1],f=n[0],d=n[1],_=(d-h)/(f-c);let p,E;l&Ht.ABOVE&&!(s&Ht.ABOVE)&&(p=f-(d-u)/_,i=p>=a&&p<=o),!i&&l&Ht.RIGHT&&!(s&Ht.RIGHT)&&(E=d-(f-o)*_,i=E>=r&&E<=u),!i&&l&Ht.BELOW&&!(s&Ht.BELOW)&&(p=f-(d-r)/_,i=p>=a&&p<=o),!i&&l&Ht.LEFT&&!(s&Ht.LEFT)&&(E=d-(f-a)*_,i=E>=r&&E<=u)}return i}function W1(e,t){const n=t.getExtent(),i=Os(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=mt(n),a=Math.floor((i[0]-n[0])/s)*s;e[0]-=a,e[2]-=a}return e}function Q1(e,t,n){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];W1(e,t);const s=mt(i);if(mt(e)>s&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+s,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-s,e[3]]]}return[e]}function YS(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function cu(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function bd(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,l=e[1]*n+e[0]*i;return e[0]=s,e[1]=l,e}function XS(e,t){return e[0]*=t,e[1]*=t,e}function J1(e,t){if(t.canWrapX()){const n=mt(t.getExtent()),i=jS(e,t,n);i&&(e[0]-=i*n)}return e}function jS(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||mt(i),s=Math.floor((e[0]-i[0])/n)),s}const BS=63710088e-1;function jm(e,t,n){n=n||BS;const i=Lo(e[1]),s=Lo(t[1]),l=(s-i)/2,a=Lo(t[0]-e[0])/2,r=Math.sin(l)*Math.sin(l)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))}function $1(...e){console.warn(...e)}let of=!0;function tp(e){of=!1}function Ad(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function ep(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function HS(e){LS(e.getCode(),e),uu(e,e,Ad)}function ZS(e){e.forEach(HS)}function ln(e){return typeof e=="string"?DS(e):e||null}function Bm(e,t,n,i){e=ln(e);let s;const l=e.getPointResolutionFunc();if(l)s=l(t,n);else{const a=e.getUnits();if(a=="degrees"&&!i||i=="degrees")s=t;else{const r=wd(e,ln("EPSG:4326"));if(r===ep&&a!=="degrees")s=t*e.getMetersPerUnit();else{let u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];u=r(u,u,2);const c=jm(u.slice(0,2),u.slice(2,4)),h=jm(u.slice(4,6),u.slice(6,8));s=(c+h)/2}const o=e.getMetersPerUnit();o!==void 0&&(s/=o)}}return s}function Hm(e){ZS(e),e.forEach(function(t){e.forEach(function(n){t!==n&&uu(t,n,Ad)})})}function qS(e,t,n,i){e.forEach(function(s){t.forEach(function(l){uu(s,l,n),uu(l,s,i)})})}function Md(e,t){return e?typeof e=="string"?ln(e):e:ln(t)}function Zm(e,t){return tp(),np(e,"EPSG:4326","EPSG:3857")}function Ws(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||wd(e,t)===Ad)&&n}function wd(e,t){const n=e.getCode(),i=t.getCode();let s=zS(n,i);return s||(s=ep),s}function hu(e,t){const n=ln(e),i=ln(t);return wd(n,i)}function np(e,t,n){return hu(t,n)(e,void 0,e.length)}function uf(e,t){return e}function jn(e,t){return of&&!cu(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(of=!1,$1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function ip(e,t){return e}function gs(e,t){return e}function kS(){Hm(Fm),Hm(Ym),qS(Ym,Fm,AS,MS)}kS();function qm(e,t,n){return function(i,s,l,a,r){if(!i)return;if(!s&&!t)return i;const o=t?0:l[0]*s,u=t?0:l[1]*s,c=r?r[0]:0,h=r?r[1]:0;let f=e[0]+o/2+c,d=e[2]-o/2+c,_=e[1]+u/2+h,p=e[3]-u/2+h;f>d&&(f=(d+f)/2,d=f),_>p&&(_=(p+_)/2,p=_);let E=Yt(i[0],f,d),m=Yt(i[1],_,p);if(a&&n&&s){const g=30*s;E+=-g*Math.log(1+Math.max(0,f-i[0])/g)+g*Math.log(1+Math.max(0,i[0]-d)/g),m+=-g*Math.log(1+Math.max(0,_-i[1])/g)+g*Math.log(1+Math.max(0,i[1]-p)/g)}return[E,m]}}function VS(e){return e}function Od(e,t,n,i){const s=mt(t)/n[0],l=ge(t)/n[1];return i?Math.min(e,Math.max(s,l)):Math.min(e,Math.min(s,l))}function Dd(e,t,n){let i=Math.min(e,t);const s=50;return i*=Math.log(1+s*Math.max(0,e/t-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/e-1))/s+1),Yt(i,n/2,t*2)}function KS(e,t,n,i){return t=t!==void 0?t:!0,function(s,l,a,r){if(s!==void 0){const o=e[0],u=e[e.length-1],c=n?Od(o,n,a,i):o;if(r)return t?Dd(s,c,u):Yt(s,u,c);const h=Math.min(c,s),f=Math.floor(Ed(e,h,l));return e[f]>c&&f<e.length-1?e[f+1]:e[f]}}}function PS(e,t,n,i,s,l){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(a,r,o,u){if(a!==void 0){const c=s?Od(t,s,o,l):t;if(u)return i?Dd(a,c,n):Yt(a,n,c);const h=1e-9,f=Math.ceil(Math.log(t/c)/Math.log(e)-h),d=-r*(.5-h)+.5,_=Math.min(c,a),p=Math.floor(Math.log(t/_)/Math.log(e)+d),E=Math.max(f,p),m=t/Math.pow(e,E);return Yt(m,n,c)}}}function km(e,t,n,i,s){return n=n!==void 0?n:!0,function(l,a,r,o){if(l!==void 0){const u=i?Od(e,i,r,s):e;return!n||!o?Yt(l,t,u):Dd(l,u,t)}}}function Ld(e){if(e!==void 0)return 0}function Vm(e){if(e!==void 0)return e}function WS(e){const t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function QS(e){const t=Lo(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}function sp(e){return Math.pow(e,3)}function $l(e){return 1-sp(1-e)}function JS(e){return 3*e*e-2*e*e*e}function $S(e){return e}new Array(6);function fn(){return[1,0,0,1,0,0]}function tx(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Qt(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function ri(e,t,n,i,s,l,a,r){const o=Math.sin(l),u=Math.cos(l);return e[0]=i*u,e[1]=s*o,e[2]=-i*o,e[3]=s*u,e[4]=a*i*u-r*i*o+t,e[5]=a*s*o+r*s*u+n,e}function lp(e,t){const n=ex(t);at(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],l=t[2],a=t[3],r=t[4],o=t[5];return e[0]=a/n,e[1]=-s/n,e[2]=-l/n,e[3]=i/n,e[4]=(l*o-a*r)/n,e[5]=-(i*o-s*r)/n,e}function ex(e){return e[0]*e[3]-e[1]*e[2]}const Km=[1e6,1e6,1e6,1e6,2,2];function nx(e){return"matrix("+e.map((n,i)=>Math.round(n*Km[i])/Km[i]).join(", ")+")"}function Zi(e,t,n,i,s,l){l=l||[];let a=0;for(let r=t;r<n;r+=i){const o=e[r],u=e[r+1];l[a++]=s[0]*o+s[2]*u+s[4],l[a++]=s[1]*o+s[3]*u+s[5]}return l&&l.length!=a&&(l.length=a),l}function ap(e,t,n,i,s,l,a){a=a||[];const r=Math.cos(s),o=Math.sin(s),u=l[0],c=l[1];let h=0;for(let f=t;f<n;f+=i){const d=e[f]-u,_=e[f+1]-c;a[h++]=u+d*r-_*o,a[h++]=c+d*o+_*r;for(let p=f+2;p<f+i;++p)a[h++]=e[p]}return a&&a.length!=h&&(a.length=h),a}function ix(e,t,n,i,s,l,a,r){r=r||[];const o=a[0],u=a[1];let c=0;for(let h=t;h<n;h+=i){const f=e[h]-o,d=e[h+1]-u;r[c++]=o+s*f,r[c++]=u+l*d;for(let _=h+2;_<h+i;++_)r[c++]=e[_]}return r&&r.length!=c&&(r.length=c),r}function sx(e,t,n,i,s,l,a){a=a||[];let r=0;for(let o=t;o<n;o+=i){a[r++]=e[o]+s,a[r++]=e[o+1]+l;for(let u=o+2;u<o+i;++u)a[r++]=e[u]}return a&&a.length!=r&&(a.length=r),a}const Pm=fn();class lx extends mn{constructor(){super(),this.extent_=sn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=j1((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return rt()}closestPointXY(t,n,i,s){return rt()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return rt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ju(n),this.extentRevision_=this.getRevision()}return FS(this.extent_,t)}rotate(t,n){rt()}scale(t,n,i){rt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return rt()}getType(){return rt()}applyTransform(t){rt()}intersectsExtent(t){return rt()}translate(t,n){rt()}transform(t,n){const i=ln(t),s=i.getUnits()=="tile-pixels"?function(l,a,r){const o=i.getExtent(),u=i.getWorldExtent(),c=ge(u)/ge(o);return ri(Pm,u[0],u[3],c,-c,0,0,0),Zi(l,0,l.length,r,Pm,a),hu(i,n)(l,a,r)}:hu(i,n);return this.applyTransform(s),this}}class zd extends lx{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Rd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return rt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Wm(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){rt()}setLayout(t,n,i){let s;if(t)s=Wm(t);else{for(let l=0;l<i;++l){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=ax(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();ap(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=Os(this.getExtent()));const s=this.getFlatCoordinates();if(s){const l=this.getStride();ix(s,0,s.length,l,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();sx(i,0,i.length,s,t,n,i),this.changed()}}}function ax(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function Wm(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function rx(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const s=e.getStride();return Zi(i,0,i.length,s,t,n)}function Qm(e,t,n,i,s,l,a){const r=e[t],o=e[t+1],u=e[n]-r,c=e[n+1]-o;let h;if(u===0&&c===0)h=t;else{const f=((s-r)*u+(l-o)*c)/(u*u+c*c);if(f>1)h=n;else if(f>0){for(let d=0;d<i;++d)a[d]=Ke(e[t+d],e[n+d],f);a.length=i;return}else h=t}for(let f=0;f<i;++f)a[f]=e[h+f];a.length=i}function rp(e,t,n,i,s){let l=e[t],a=e[t+1];for(t+=i;t<n;t+=i){const r=e[t],o=e[t+1],u=Tl(l,a,r,o);u>s&&(s=u),l=r,a=o}return s}function ox(e,t,n,i,s){for(let l=0,a=n.length;l<a;++l){const r=n[l];s=rp(e,t,r,i,s),t=r}return s}function op(e,t,n,i,s,l,a,r,o,u,c){if(t==n)return u;let h,f;if(s===0){if(f=Tl(a,r,e[t],e[t+1]),f<u){for(h=0;h<i;++h)o[h]=e[t+h];return o.length=i,f}return u}c=c||[NaN,NaN];let d=t+i;for(;d<n;)if(Qm(e,d-i,d,i,a,r,c),f=Tl(a,r,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)o[h]=c[h];o.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/s|0,1);if(Qm(e,n-i,t,i,a,r,c),f=Tl(a,r,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)o[h]=c[h];o.length=i}return u}function ux(e,t,n,i,s,l,a,r,o,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const d=n[h];u=op(e,t,d,i,s,l,a,r,o,u,c),t=d}return u}function cx(e,t,n,i){for(let s=0,l=n.length;s<l;++s)e[t++]=n[s];return t}function up(e,t,n,i){for(let s=0,l=n.length;s<l;++s){const a=n[s];for(let r=0;r<i;++r)e[t++]=a[r]}return t}function hx(e,t,n,i,s){s=s||[];let l=0;for(let a=0,r=n.length;a<r;++a){const o=up(e,t,n[a],i);s[l++]=o,t=o}return s.length=l,s}function Nd(e,t,n,i,s,l,a){const r=(n-t)/i;if(r<3){for(;t<n;t+=i)l[a++]=e[t],l[a++]=e[t+1];return a}const o=new Array(r);o[0]=1,o[r-1]=1;const u=[t,n-i];let c=0;for(;u.length>0;){const h=u.pop(),f=u.pop();let d=0;const _=e[f],p=e[f+1],E=e[h],m=e[h+1];for(let g=f+i;g<h;g+=i){const y=e[g],v=e[g+1],S=xS(y,v,_,p,E,m);S>d&&(c=g,d=S)}d>s&&(o[(c-t)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(let h=0;h<r;++h)o[h]&&(l[a++]=e[t+h*i],l[a++]=e[t+h*i+1]);return a}function fx(e,t,n,i,s,l,a,r){for(let o=0,u=n.length;o<u;++o){const c=n[o];a=Nd(e,t,c,i,s,l,a),r.push(a),t=c}return a}function fs(e,t){return t*Math.round(e/t)}function dx(e,t,n,i,s,l,a){if(t==n)return a;let r=fs(e[t],s),o=fs(e[t+1],s);t+=i,l[a++]=r,l[a++]=o;let u,c;do if(u=fs(e[t],s),c=fs(e[t+1],s),t+=i,t==n)return l[a++]=u,l[a++]=c,a;while(u==r&&c==o);for(;t<n;){const h=fs(e[t],s),f=fs(e[t+1],s);if(t+=i,h==u&&f==c)continue;const d=u-r,_=c-o,p=h-r,E=f-o;if(d*E==_*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(_<0&&E<_||_==E||_>0&&E>_)){u=h,c=f;continue}l[a++]=u,l[a++]=c,r=u,o=c,u=h,c=f}return l[a++]=u,l[a++]=c,a}function cp(e,t,n,i,s,l,a,r){for(let o=0,u=n.length;o<u;++o){const c=n[o];a=dx(e,t,c,i,s,l,a),r.push(a),t=c}return a}function gl(e,t,n,i,s){s=s!==void 0?s:[];let l=0;for(let a=t;a<n;a+=i)s[l++]=e.slice(a,a+i);return s.length=l,s}function fu(e,t,n,i,s){s=s!==void 0?s:[];let l=0;for(let a=0,r=n.length;a<r;++a){const o=n[a];s[l++]=gl(e,t,o,i,s[l]),t=o}return s.length=l,s}function Jm(e,t,n,i,s){s=s!==void 0?s:[];let l=0;for(let a=0,r=n.length;a<r;++a){const o=n[a];s[l++]=o.length===1&&o[0]===t?[]:fu(e,t,o,i,s[l]),t=o[o.length-1]}return s.length=l,s}function hp(e,t,n,i){let s=0,l=e[n-i],a=e[n-i+1];for(;t<n;t+=i){const r=e[t],o=e[t+1];s+=a*r-l*o,l=r,a=o}return s/2}function gx(e,t,n,i){let s=0;for(let l=0,a=n.length;l<a;++l){const r=n[l];s+=hp(e,t,r,i),t=r}return s}class or extends zd{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new or(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,s){return s<q1(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(rp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),op(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,s))}getArea(){return hp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return gl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new or(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=up(this.flatCoordinates,0,t,this.stride),this.changed()}}class ku extends zd{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new ku(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const l=this.flatCoordinates,a=Tl(t,n,l[0],l[1]);if(a<s){const r=this.stride;for(let o=0;o<r;++o)i[o]=l[o];return i.length=r,a}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return V1(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return k1(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cx(this.flatCoordinates,0,t,this.stride),this.changed()}}function mx(e,t,n,i,s){return!P1(s,function(a){return!ms(e,t,n,i,a[0],a[1])})}function ms(e,t,n,i,s,l){let a=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const u=e[t],c=e[t+1];o<=l?c>l&&(u-r)*(l-o)-(s-r)*(c-o)>0&&a++:c<=l&&(u-r)*(l-o)-(s-r)*(c-o)<0&&a--,r=u,o=c}return a!==0}function fp(e,t,n,i,s,l){if(n.length===0||!ms(e,t,n[0],i,s,l))return!1;for(let a=1,r=n.length;a<r;++a)if(ms(e,n[a-1],n[a],i,s,l))return!1;return!0}function Id(e,t,n,i,s,l,a){let r,o,u,c,h,f,d;const _=s[l+1],p=[];for(let g=0,y=n.length;g<y;++g){const v=n[g];for(c=e[v-i],f=e[v-i+1],r=t;r<v;r+=i)h=e[r],d=e[r+1],(_<=f&&d<=_||f<=_&&_<=d)&&(u=(_-f)/(d-f)*(h-c)+c,p.push(u)),c=h,f=d}let E=NaN,m=-1/0;for(p.sort($n),c=p[0],r=1,o=p.length;r<o;++r){h=p[r];const g=Math.abs(h-c);g>m&&(u=(c+h)/2,fp(e,t,n,i,u,_)&&(E=u,m=g)),c=h}return isNaN(E)&&(E=s[l]),a?(a.push(E,_,m),a):[E,_,m]}function _x(e,t,n,i,s){let l=[];for(let a=0,r=n.length;a<r;++a){const o=n[a];l=Id(e,t,o,i,s,2*a,l),t=o[o.length-1]}return l}function yx(e,t,n,i,s){let l;for(t+=i;t<n;t+=i)if(l=s(e.slice(t-i,t),e.slice(t,t+i)),l)return l;return!1}function dp(e,t,n,i,s){const l=K1(sn(),e,t,n,i);return Se(s,l)?ds(s,l)||l[0]>=s[0]&&l[2]<=s[2]||l[1]>=s[1]&&l[3]<=s[3]?!0:yx(e,t,n,i,function(a,r){return US(s,a,r)}):!1}function gp(e,t,n,i,s){return!!(dp(e,t,n,i,s)||ms(e,t,n,i,s[0],s[1])||ms(e,t,n,i,s[0],s[3])||ms(e,t,n,i,s[2],s[1])||ms(e,t,n,i,s[2],s[3]))}function px(e,t,n,i,s){if(!gp(e,t,n[0],i,s))return!1;if(n.length===1)return!0;for(let l=1,a=n.length;l<a;++l)if(mx(e,n[l-1],n[l],i,s)&&!dp(e,n[l-1],n[l],i,s))return!1;return!0}function vx(e,t,n,i){for(;t<n-i;){for(let s=0;s<i;++s){const l=e[t+s];e[t+s]=e[n-i+s],e[n-i+s]=l}t+=i,n-=i}}function Gd(e,t,n,i){let s=0,l=e[n-i],a=e[n-i+1];for(;t<n;t+=i){const r=e[t],o=e[t+1];s+=(r-l)*(o+a),l=r,a=o}return s===0?void 0:s>0}function Ex(e,t,n,i,s){s=s!==void 0?s:!1;for(let l=0,a=n.length;l<a;++l){const r=n[l],o=Gd(e,t,r,i);if(l===0){if(s&&o||!s&&!o)return!1}else if(s&&!o||!s&&o)return!1;t=r}return!0}function $m(e,t,n,i,s){s=s!==void 0?s:!1;for(let l=0,a=n.length;l<a;++l){const r=n[l],o=Gd(e,t,r,i);(l===0?s&&o||!s&&!o:s&&!o||!s&&o)&&vx(e,t,r,i),t=r}return t}function Sx(e,t){const n=[];let i=0,s=0,l;for(let a=0,r=t.length;a<r;++a){const o=t[a],u=Gd(e,i,o,2);if(l===void 0&&(l=u),u===l)n.push(t.slice(s,a+1));else{if(n.length===0)continue;n[n.length-1].push(t[s])}s=a+1,i=o}return n}class ur extends zd{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?ar(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ur(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<q1(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ox(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ux(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return fp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return gx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),$m(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,fu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Os(this.getExtent());this.flatInteriorPoint_=Id(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ku(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new or(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let l=0;for(let a=0,r=i.length;a<r;++a){const o=i[a],u=new or(n.slice(l,o),t);s.push(u),l=o}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Ex(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=$m(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=cp(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new ur(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return px(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=hx(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function t_(e){if(qu(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],s=e[3],l=[t,n,t,s,i,s,i,n,t,n];return new ur(l,"XY",[l.length])}const Zc=0;class yn extends mn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Md(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&tp(),t.center&&(t.center=jn(t.center,this.projection_)),t.extent&&(t.extent=gs(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const r in un)delete n[r];this.setProperties(n,!0);const i=Tx(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const s=xx(t),l=i.constraint,a=Cx(t);this.constraints_={center:s,resolution:l,rotation:a},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const s=t||[0,0,0,0];n=n||[0,0,0,0];const l=this.getResolution(),a=l/2*(s[3]-n[3]+n[1]-s[1]),r=l/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+a,i[1]-r])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=jn(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=jn(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const c=arguments[s];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(s===n){i&&oo(i,!0);return}let l=Date.now(),a=this.targetCenter_.slice(),r=this.targetResolution_,o=this.targetRotation_;const u=[];for(;s<n;++s){const c=arguments[s],h={start:l,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||JS,callback:i};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=r,h.targetResolution=this.getResolutionForZoom(c.zoom),r=h.targetResolution):c.resolution&&(h.sourceResolution=r,h.targetResolution=c.resolution,r=h.targetResolution),c.rotation!==void 0){h.sourceRotation=o;const f=Cl(c.rotation-o+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=o+f,o=h.targetRotation}Rx(h)?h.complete=!0:l+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(re.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[re.ANIMATING]>0}getInteracting(){return this.hints_[re.INTERACTING]>0}cancelAnimations(){this.setHint(re.ANIMATING,-this.hints_[re.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&oo(s[0].callback,!1),!t)for(let l=0,a=s.length;l<a;++l){const r=s[l];if(!r.complete){t=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let l=!0;for(let a=0,r=s.length;a<r;++a){const o=s[a];if(o.complete)continue;const u=t-o.start;let c=o.duration>0?u/o.duration:1;c>=1?(o.complete=!0,c=1):l=!1;const h=o.easing(c);if(o.sourceCenter){const f=o.sourceCenter[0],d=o.sourceCenter[1],_=o.targetCenter[0],p=o.targetCenter[1];this.nextCenter_=o.targetCenter;const E=f+h*(_-f),m=d+h*(p-d);this.targetCenter_=[E,m]}if(o.sourceResolution&&o.targetResolution){const f=h===1?o.targetResolution:o.sourceResolution+h*(o.targetResolution-o.sourceResolution);if(o.anchor){const d=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(f,0,d,!0);this.targetCenter_=this.calculateCenterZoom(_,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(o.sourceRotation!==void 0&&o.targetRotation!==void 0){const f=h===1?Cl(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+h*(o.targetRotation-o.sourceRotation);if(o.anchor){const d=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(d,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!o.complete)break}if(l){this.animations_[i]=null,this.setHint(re.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=s[0].callback;a&&oo(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],bd(i,t-this.getRotation()),YS(i,n)),i}calculateCenterZoom(t,n){let i;const s=this.getCenterInternal(),l=this.getResolution();if(s!==void 0&&l!==void 0){const a=n[0]-t*(n[0]-s[0])/l,r=n[1]-t*(n[1]-s[1])/l;i=[a,r]}return i}getViewportSize_(t){const n=this.viewportSize_;if(t){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(s*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(s*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&uf(t,this.getProjection())}getCenterInternal(){return this.get(un.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return ip(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();at(n,"The view center is not defined");const i=this.getResolution();at(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return at(s!==void 0,"The view rotation is not defined"),af(n,i,s,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(un.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(gs(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const i=mt(t)/n[0],s=ge(t)/n[1];return Math.max(i,s)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(t);return function(l){return n/Math.pow(t,l*s)}}getRotation(){return this.get(un.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,l=Math.log(i/s)/n;return function(a){return Math.log(i/a)/n/l}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const l=this.padding_;if(l){const a=this.getViewportSizeMinusPadding_();s=qc(s,this.getViewportSize_(),[a[0]/2+l[3],a[1]/2+l[0]],n,i)}return{center:s.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,s;if(this.resolutions_){const l=Ed(this.resolutions_,t,1);n=l,i=this.resolutions_[l],l==this.resolutions_.length-1?s=2:s=i/this.resolutions_[l+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/t)/Math.log(s)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Yt(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Yt(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(at(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){at(!qu(t),"Cannot fit empty extent provided as `geometry`");const s=gs(t,this.getProjection());i=t_(s)}else if(t.getType()==="Circle"){const s=gs(t.getExtent(),this.getProjection());i=t_(s),i.rotate(this.getRotation(),Os(s))}else i=t;this.fitInternal(i,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),l=t.getFlatCoordinates(),a=t.getStride();let r=1/0,o=1/0,u=-1/0,c=-1/0;for(let h=0,f=l.length;h<f;h+=a){const d=l[h]*i-l[h+1]*s,_=l[h]*s+l[h+1]*i;r=Math.min(r,d),o=Math.min(o,_),u=Math.max(u,d),c=Math.max(c,_)}return[r,o,u,c]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],l=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const r=this.rotatedExtentForGeometry(t);let o=this.getResolutionForExtentInternal(r,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);o=isNaN(o)?a:Math.max(o,a),o=this.getConstrainedResolution(o,l?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),f=Os(r);f[0]+=(s[1]-s[3])/2*o,f[1]+=(s[0]-s[2])/2*o;const d=f[0]*h-f[1]*c,_=f[1]*h+f[0]*c,p=this.getConstrainedCenter([d,_],o),E=n.callback?n.callback:Yl;n.duration!==void 0?this.animateInternal({resolution:o,center:p,duration:n.duration,easing:n.easing},E):(this.targetResolution_=o,this.targetCenter_=p,this.applyTargetState_(!1,!0),oo(E,!0))}centerOn(t,n,i){this.centerOnInternal(jn(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(qc(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,s){let l;const a=this.padding_;if(a&&t){const r=this.getViewportSizeMinusPadding_(-i),o=qc(t,s,[r[0]/2+a[3],r[1]/2+a[0]],n,i);l=[t[0]-o[0],t[1]-o[1]]}return l}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=uf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&jn(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),l=this.constraints_.resolution(this.targetResolution_*t,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(l,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=jn(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&jn(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),l=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,0,l,i),r=this.constraints_.center(this.targetCenter_,a,l,i,this.calculateCenterShift(this.targetCenter_,a,s,l));this.get(un.ROTATION)!==s&&this.set(un.ROTATION,s),this.get(un.RESOLUTION)!==a&&(this.set(un.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!r||!this.get(un.CENTER)||!cu(this.get(un.CENTER),r))&&this.set(un.CENTER,r),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;const s=n||0,l=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(l),r=this.constraints_.resolution(this.targetResolution_,s,a),o=this.constraints_.center(this.targetCenter_,r,a,!1,this.calculateCenterShift(this.targetCenter_,r,l,a));if(t===0&&!this.cancelAnchor_){this.targetResolution_=r,this.targetRotation_=l,this.targetCenter_=o,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==r||this.getRotation()!==l||!this.getCenterInternal()||!cu(this.getCenterInternal(),o))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:l,center:o,resolution:r,duration:t,easing:$l,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(re.INTERACTING,1)}endInteraction(t,n,i){i=i&&jn(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(re.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}}function oo(e,t){setTimeout(function(){e(t)},0)}function xx(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return qm(e.extent,e.constrainOnlyCenter,n)}const t=Md(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,qm(n,!1,!1)}return VS}function Tx(e){let t,n,i,a=e.minZoom!==void 0?e.minZoom:Zc,r=e.maxZoom!==void 0?e.maxZoom:28;const o=e.zoomFactor!==void 0?e.zoomFactor:2,u=e.multiWorld!==void 0?e.multiWorld:!1,c=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,h=e.showFullExtent!==void 0?e.showFullExtent:!1,f=Md(e.projection,"EPSG:3857"),d=f.getExtent();let _=e.constrainOnlyCenter,p=e.extent;if(!u&&!p&&f.isGlobal()&&(_=!1,p=d),e.resolutions!==void 0){const E=e.resolutions;n=E[a],i=E[r]!==void 0?E[r]:E[E.length-1],e.constrainResolution?t=KS(E,c,!_&&p,h):t=km(n,i,c,!_&&p,h)}else{const m=(d?Math.max(mt(d),ge(d)):360*Td.degrees/f.getMetersPerUnit())/xd/Math.pow(2,Zc),g=m/Math.pow(2,28-Zc);n=e.maxResolution,n!==void 0?a=0:n=m/Math.pow(o,a),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(o,r):i=m/Math.pow(o,r):i=g),r=a+Math.floor(Math.log(n/i)/Math.log(o)),i=n/Math.pow(o,r-a),e.constrainResolution?t=PS(o,n,i,c,!_&&p,h):t=km(n,i,c,!_&&p,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:o}}function Cx(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?QS():n===!1?Vm:typeof n=="number"?WS(n):Vm}return Ld}function Rx(e){return!(e.sourceCenter&&e.targetCenter&&!cu(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function qc(e,t,n,i,s){const l=Math.cos(-s);let a=Math.sin(-s),r=e[0]*l-e[1]*a,o=e[1]*l+e[0]*a;r+=(t[0]/2-n[0])*i,o+=(n[1]-t[1]/2)*i,a=-a;const u=r*l-o*a,c=o*l+r*a;return[u,c]}class Vu extends B1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(ft.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(ft.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Tt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=lt(t,V.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof yn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;n.layerStatesArray?s=n.layerStatesArray.find(a=>a.layer===this):s=this.getLayerState();const l=this.getExtent();return Fd(s,n.viewState)&&(!l||Se(l,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const s=t instanceof yn?t.getViewStateAndExtent():t;let l=n(s);return Array.isArray(l)||(l=[l]),l}render(t,n){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(ft.MAP,t)}getMapInternal(){return this.get(ft.MAP)}setMap(t){this.mapPrecomposeKey_&&(Tt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Tt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=lt(t,Je.PRECOMPOSE,function(n){const s=n.frameState.layerStatesArray,l=this.getLayerState(!1);at(!s.some(function(a){return a.layer===l.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),s.push(l)},this),this.mapRenderKey_=lt(this,V.CHANGE,t.render,t),this.changed())}setSource(t){this.set(ft.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Fd(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}function bx(e,t,n,i,s){mp(e,t,n||0,i||e.length-1,s||Ax)}function mp(e,t,n,i,s){for(;i>n;){if(i-n>600){var l=i-n+1,a=t-n+1,r=Math.log(l),o=.5*Math.exp(2*r/3),u=.5*Math.sqrt(r*o*(l-o)/l)*(a-l/2<0?-1:1),c=Math.max(n,Math.floor(t-a*o/l+u)),h=Math.min(i,Math.floor(t+(l-a)*o/l+u));mp(e,t,c,h,s)}var f=e[t],d=n,_=i;for(_a(e,n,t),s(e[i],f)>0&&_a(e,n,i);d<_;){for(_a(e,d,_),d++,_--;s(e[d],f)<0;)d++;for(;s(e[_],f)>0;)_--}s(e[n],f)===0?_a(e,n,_):(_++,_a(e,_,i)),_<=t&&(n=_+1),t<=_&&(i=_-1)}}function _a(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Ax(e,t){return e<t?-1:e>t?1:0}let _p=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const i=[];if(!co(t,n))return i;const s=this.toBBox,l=[];for(;n;){for(let a=0;a<n.children.length;a++){const r=n.children[a],o=n.leaf?s(r):r;co(t,o)&&(n.leaf?i.push(r):Vc(t,o)?this._all(r,i):l.push(r))}n=l.pop()}return i}collides(t){let n=this.data;if(!co(t,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const l=n.children[s],a=n.leaf?this.toBBox(l):l;if(co(t,a)){if(n.leaf||Vc(t,a))return!0;i.push(l)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Qs([]),this}remove(t,n){if(!t)return this;let i=this.data;const s=this.toBBox(t),l=[],a=[];let r,o,u;for(;i||l.length;){if(i||(i=l.pop(),o=l[l.length-1],r=a.pop(),u=!0),i.leaf){const c=Mx(t,i.children,n);if(c!==-1)return i.children.splice(c,1),l.push(i),this._condense(l),this}!u&&!i.leaf&&Vc(i,s)?(l.push(i),a.push(r),r=0,o=i,i=i.children[0]):o?(r++,i=o.children[r],u=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,s){const l=i-n+1;let a=this._maxEntries,r;if(l<=a)return r=Qs(t.slice(n,i+1)),Hs(r,this.toBBox),r;s||(s=Math.ceil(Math.log(l)/Math.log(a)),a=Math.ceil(l/Math.pow(a,s-1))),r=Qs([]),r.leaf=!1,r.height=s;const o=Math.ceil(l/a),u=o*Math.ceil(Math.sqrt(a));e_(t,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);e_(t,c,h,o,this.compareMinY);for(let f=c;f<=h;f+=o){const d=Math.min(f+o-1,h);r.children.push(this._build(t,f,d,s-1))}}return Hs(r,this.toBBox),r}_chooseSubtree(t,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let l=1/0,a=1/0,r;for(let o=0;o<n.children.length;o++){const u=n.children[o],c=kc(u),h=Dx(t,u)-c;h<a?(a=h,l=c<l?c:l,r=u):h===a&&c<l&&(l=c,r=u)}n=r||n.children[0]}return n}_insert(t,n,i){const s=i?t:this.toBBox(t),l=[],a=this._chooseSubtree(s,this.data,n,l);for(a.children.push(t),Aa(a,s);n>=0&&l[n].children.length>this._maxEntries;)this._split(l,n),n--;this._adjustParentBBoxes(s,l,n)}_split(t,n){const i=t[n],s=i.children.length,l=this._minEntries;this._chooseSplitAxis(i,l,s);const a=this._chooseSplitIndex(i,l,s),r=Qs(i.children.splice(a,i.children.length-a));r.height=i.height,r.leaf=i.leaf,Hs(i,this.toBBox),Hs(r,this.toBBox),n?t[n-1].children.push(r):this._splitRoot(i,r)}_splitRoot(t,n){this.data=Qs([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Hs(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let s,l=1/0,a=1/0;for(let r=n;r<=i-n;r++){const o=ba(t,0,r,this.toBBox),u=ba(t,r,i,this.toBBox),c=Lx(o,u),h=kc(o)+kc(u);c<l?(l=c,s=r,a=h<a?h:a):c===l&&h<a&&(a=h,s=r)}return s||i-n}_chooseSplitAxis(t,n,i){const s=t.leaf?this.compareMinX:wx,l=t.leaf?this.compareMinY:Ox,a=this._allDistMargin(t,n,i,s),r=this._allDistMargin(t,n,i,l);a<r&&t.children.sort(s)}_allDistMargin(t,n,i,s){t.children.sort(s);const l=this.toBBox,a=ba(t,0,n,l),r=ba(t,i-n,i,l);let o=uo(a)+uo(r);for(let u=n;u<i-n;u++){const c=t.children[u];Aa(a,t.leaf?l(c):c),o+=uo(a)}for(let u=i-n-1;u>=n;u--){const c=t.children[u];Aa(r,t.leaf?l(c):c),o+=uo(r)}return o}_adjustParentBBoxes(t,n,i){for(let s=i;s>=0;s--)Aa(n[s],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():Hs(t[n],this.toBBox)}};function Mx(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function Hs(e,t){ba(e,0,e.children.length,t,e)}function ba(e,t,n,i,s){s||(s=Qs(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let l=t;l<n;l++){const a=e.children[l];Aa(s,e.leaf?i(a):a)}return s}function Aa(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function wx(e,t){return e.minX-t.minX}function Ox(e,t){return e.minY-t.minY}function kc(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function uo(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Dx(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Lx(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),l=Math.min(e.maxY,t.maxY);return Math.max(0,s-n)*Math.max(0,l-i)}function Vc(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function co(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Qs(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function e_(e,t,n,i,s){const l=[t,n];for(;l.length;){if(n=l.pop(),t=l.pop(),n-t<=i)continue;const a=t+Math.ceil((n-t)/i/2)*i;bx(e,a,t,n,s),l.push(t,a,a,n)}}const J={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function n_(e){return e[0]>0&&e[1]>0}function zx(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function De(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}class Ku{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=De(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Ku({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return rt()}getImage(t){return rt()}getHitDetectionImage(){return rt()}getPixelRatio(t){return 1}getImageState(){return rt()}getImageSize(){return rt()}getOrigin(){return rt()}getSize(){return rt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=De(t)}listenImageChange(t){rt()}load(){rt()}unlistenImageChange(t){rt()}ready(){return Promise.resolve()}}const cr={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},oe={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};oe.max=oe.whitepoint[2].D65;oe.rgb=function(e,t){t=t||oe.whitepoint[2].E;var n=e[0]/t[0],i=e[1]/t[1],s=e[2]/t[2],l,a,r;return l=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,a=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,r=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92,l=Math.min(Math.max(0,l),1),a=Math.min(Math.max(0,a),1),r=Math.min(Math.max(0,r),1),[l*255,a*255,r*255]};cr.xyz=function(e,t){var n=e[0]/255,i=e[1]/255,s=e[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var l=n*.41239079926595+i*.35758433938387+s*.18048078840183,a=n*.21263900587151+i*.71516867876775+s*.072192315360733,r=n*.019330818715591+i*.11919477979462+s*.95053215224966;return t=t||oe.whitepoint[2].E,[l*t[0],a*t[1],r*t[2]]};var Ud={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var i,s,l,a,r,o,u,c,h,f,d,_,p;if(l=e[0],a=e[1],r=e[2],l===0)return[0,0,0];var E=.0011070564598794539;return t=t||"D65",n=n||2,h=oe.whitepoint[n][t][0],f=oe.whitepoint[n][t][1],d=oe.whitepoint[n][t][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),i=a/(13*l)+_||0,s=r/(13*l)+p||0,u=l>8?f*Math.pow((l+16)/116,3):f*l*E,o=u*9*i/(4*s)||0,c=u*(12-3*i-20*s)/(4*s)||0,[o,u,c]}};oe.luv=function(e,t,n){var i,s,l,a,r,o,u,c,h,f,d,_,p,E=.008856451679035631,m=903.2962962962961;t=t||"D65",n=n||2,h=oe.whitepoint[n][t][0],f=oe.whitepoint[n][t][1],d=oe.whitepoint[n][t][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),o=e[0],u=e[1],c=e[2],i=4*o/(o+15*u+3*c)||0,s=9*u/(o+15*u+3*c)||0;var g=u/f;return l=g<=E?m*g:116*Math.pow(g,1/3)-16,a=13*l*(i-_),r=13*l*(s-p),[l,a,r]};var yp={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t=e[0],n=e[1],i=e[2],s,l,a;return a=i/360*2*Math.PI,s=n*Math.cos(a),l=n*Math.sin(a),[t,s,l]},xyz:function(e){return Ud.xyz(yp.luv(e))}};Ud.lchuv=function(e){var t=e[0],n=e[1],i=e[2],s=Math.sqrt(n*n+i*i),l=Math.atan2(i,n),a=l*360/2/Math.PI;return a<0&&(a+=360),[t,s,a]};oe.lchuv=function(e){return Ud.lchuv(oe.luv(e))};const i_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var s_={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Nx(e){var c,h;var t,n=[],i=1,s;if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(e=String(e).toLowerCase(),i_[e])n=i_[e].slice(),s="rgb";else if(e==="transparent")i=0,s="rgb",n=[0,0,0];else if(e[0]==="#"){var l=e.slice(1),a=l.length,r=a<=4;i=1,r?(n=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],a===4&&(i=parseInt(l[3]+l[3],16)/255)):(n=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],a===8&&(i=parseInt(l[6]+l[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var o=t[1];s=o.replace(/a$/,"");var u=s==="cmyk"?4:s==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(f,d){if(f[f.length-1]==="%")return f=parseFloat(f)/100,d===3?f:s==="rgb"?f*255:s[0]==="h"||s[0]==="l"&&!d?f*100:s==="lab"?f*125:s==="lch"?d<2?f*150:f*360:s[0]==="o"&&!d?f:s==="oklab"?f*.4:s==="oklch"?d<2?f*.4:f*360:f;if(s[d]==="h"||d===2&&s[s.length-1]==="h"){if(s_[f]!==void 0)return s_[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(n=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),s=((h=(c=e.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:s,values:n,alpha:i}}var Kc={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100,s,l,a,r,o,u=0;if(n===0)return o=i*255,[o,o,o];for(l=i<.5?i*(1+n):i+n-i*n,s=2*i-l,r=[0,0,0];u<3;)a=t+1/3*-(u-1),a<0?a++:a>1&&a--,o=6*a<1?s+(l-s)*6*a:2*a<1?l:3*a<2?s+(l-s)*(2/3-a)*6:s,r[u++]=o*255;return r}};cr.hsl=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.min(t,n,i),l=Math.max(t,n,i),a=l-s,r,o,u;return l===s?r=0:t===l?r=(n-i)/a:n===l?r=2+(i-t)/a:i===l&&(r=4+(t-n)/a),r=Math.min(r*60,360),r<0&&(r+=360),u=(s+l)/2,l===s?o=0:u<=.5?o=a/(l+s):o=a/(2-l-s),[r,o*100,u*100]};function Ix(e){Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var t,n=Nx(e);if(!n.space)return[];const i=n.space[0]==="h"?Kc.min:cr.min,s=n.space[0]==="h"?Kc.max:cr.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),t[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),t[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(t=Kc.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}function Gx(e){return typeof e=="string"?e:Xd(e)}const Fx=1024,ya={};let Pc=0;function Ux(e){if(e.length===4)return e;const t=e.slice();return t[3]=1,t}function l_(e){const t=oe.lchuv(cr.xyz(e));return t[3]=e[3],t}function Yx(e){const t=oe.rgb(yp.xyz(e));return t[3]=e[3],t}function Yd(e){if(ya.hasOwnProperty(e))return ya[e];if(Pc>=Fx){let n=0;for(const i in ya)n++&3||(delete ya[i],--Pc)}const t=Ix(e);if(t.length!==4)throw new Error('Failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('Failed to parse "'+e+'" as color');return pp(t),ya[e]=t,++Pc,t}function hr(e){return Array.isArray(e)?e:Yd(e)}function pp(e){return e[0]=Yt(e[0]+.5|0,0,255),e[1]=Yt(e[1]+.5|0,0,255),e[2]=Yt(e[2]+.5|0,0,255),e[3]=Yt(e[3],0,1),e}function Xd(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);const s=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+s+")"}function Xx(e){try{return Yd(e),!0}catch{return!1}}const Wi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",jx=Wi.includes("firefox"),Bx=Wi.includes("safari")&&!Wi.includes("chrom");Bx&&(Wi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Wi));const Hx=Wi.includes("webkit")&&!Wi.includes("edge"),vp=Wi.includes("macintosh"),Ep=typeof devicePixelRatio<"u"?devicePixelRatio:1,Sp=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,xp=typeof Image<"u"&&Image.prototype.decode,Tp=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function ne(e,t,n,i){let s;return n&&n.length?s=n.shift():Sp?s=new OffscreenCanvas(e||300,t||300):s=document.createElement("canvas"),e&&(s.width=e),t&&(s.height=t),s.getContext("2d",i)}let Wc;function du(){return Wc||(Wc=ne(1,1)),Wc}function Pu(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Zx(e){let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function qx(e){let t=e.offsetHeight;const n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function a_(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function gu(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Cp(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function kx(e,t){const n=e.childNodes;for(let i=0;;++i){const s=n[i],l=t[i];if(!s&&!l)break;if(s!==l){if(!s){e.appendChild(l);continue}if(!l){e.removeChild(s),--i;continue}e.insertBefore(l,s)}}}function Vx(e,t,n){const i=e;let s=!0,l=!1,a=!1;const r=[ou(i,V.LOAD,function(){a=!0,l||t()})];return i.src&&xp?(l=!0,i.decode().then(function(){s&&t()}).catch(function(o){s&&(a?t():n())})):r.push(ou(i,V.ERROR,n)),function(){s=!1,r.forEach(Tt)}}function Kx(e,t){return new Promise((n,i)=>{function s(){a(),n(e)}function l(){a(),i(new Error("Image load error"))}function a(){e.removeEventListener("load",s),e.removeEventListener("error",l)}e.addEventListener("load",s),e.addEventListener("error",l)})}function Px(e,t){return t&&(e.src=t),e.src&&xp?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(s=>e.complete&&e.width?n(e):i(s))):Kx(e)}class Wx{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const i=this.cache_[n];!(t++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){const s=Qc(t,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(t,n,i){const s=Qc(t,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(t,n,i,s,l){const a=Qc(t,n,i),r=a in this.cache_;this.cache_[a]=s,l&&(s.getImageState()===J.IDLE&&s.load(),s.getImageState()===J.LOADING?s.ready().then(()=>{this.patternCache_[a]=du().createPattern(s.getImage(1),"repeat")}):this.patternCache_[a]=du().createPattern(s.getImage(1),"repeat")),r||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Qc(e,t,n){const i=n?hr(n):"null";return t+":"+e+":"+i}const xn=new Wx;let pa=null;class Qx extends Xu{constructor(t,n,i,s,l){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=l,this.imageState_=s===void 0?J.IDLE:s,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===J.LOADED){pa||(pa=ne(1,1,void 0,{willReadFrequently:!0})),pa.drawImage(this.image_,0,0);try{pa.getImageData(0,0,1,1),this.tainted_=!1}catch{pa=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(V.CHANGE)}handleImageError_(){this.imageState_=J.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=J.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],i=ne(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===J.IDLE){this.image_||this.initializeImage_(),this.imageState_=J.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Px(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==J.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*t),i.height=Math.ceil(n.height*t);const s=i.getContext("2d");s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=Gx(this.color_),s.fillRect(0,0,i.width/t,i.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise(t=>{this.imageState_===J.LOADED||this.imageState_===J.ERROR?t():this.addEventListener(V.CHANGE,function n(){(this.imageState_===J.LOADED||this.imageState_===J.ERROR)&&(this.removeEventListener(V.CHANGE,n),t())})})),this.ready_}}function jd(e,t,n,i,s,l){let a=t===void 0?void 0:xn.get(t,n,s);return a||(a=new Qx(e,e&&"src"in e?e.src||void 0:t,n,i,s),xn.set(t,n,s,a,l)),l&&a&&!xn.getPattern(t,n,s)&&xn.set(t,n,s,a,l),a}function Tn(e){return e?Array.isArray(e)?Xd(e):typeof e=="object"&&"src"in e?Jx(e):e:null}function Jx(e){if(!e.offset||!e.size)return xn.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=xn.getPattern(t,void 0,e.color);if(n)return n;const i=xn.get(e.src,"anonymous",null);if(i.getImageState()!==J.LOADED)return null;const s=ne(e.size[0],e.size[1]);return s.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),jd(s.canvas,t,void 0,J.LOADED,e.color,!0),xn.getPattern(t,void 0,e.color)}const ho="ol-hidden",$x="ol-selectable",Wu="ol-unselectable",Bd="ol-control",r_="ol-collapsed",tT=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),o_=["style","variant","weight","size","lineHeight","family"],Rp=function(e){const t=e.match(tT);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=o_.length;i<s;++i){const l=t[i+1];l!==void 0&&(n[o_[i]]=l)}return n.families=n.family.split(/,\s?/),n},bp="10px sans-serif",Ee="#000",Bl="round",ti=[],ei=0,Hl="round",fr=10,dr="#000",gr="center",mu="middle",_s=[0,0,0,0],mr=1,Bn=new mn;let Js=null,cf;const hf={},eT=function(){const t="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let l,a;function r(u,c,h){let f=!0;for(let d=0;d<i;++d){const _=n[d];if(a=_u(u+" "+c+" "+t+_,s),h!=_){const p=_u(u+" "+c+" "+t+h+","+_,s);f=f&&p!=a}}return!!f}function o(){let u=!0;const c=Bn.getKeys();for(let h=0,f=c.length;h<f;++h){const d=c[h];Bn.get(d)<100&&(r.apply(this,d.split(`
`))?(Jl(hf),Js=null,cf=void 0,Bn.set(d,100)):(Bn.set(d,Bn.get(d)+1,!0),u=!1))}u&&(clearInterval(l),l=void 0)}return function(u){const c=Rp(u);if(!c)return;const h=c.families;for(let f=0,d=h.length;f<d;++f){const _=h[f],p=c.style+`
`+c.weight+`
`+_;Bn.get(p)===void 0&&(Bn.set(p,100,!0),r(c.style,c.weight,_)||(Bn.set(p,0,!0),l===void 0&&(l=setInterval(o,32))))}}}(),nT=function(){let e;return function(t){let n=hf[t];if(n==null){if(Sp){const i=Rp(t),s=Ap(t,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);hf[t]=n}return n}}();function Ap(e,t){return Js||(Js=ne(1,1)),e!=cf&&(Js.font=e,cf=Js.font),Js.measureText(t)}function _u(e,t){return Ap(e,t).width}function u_(e,t,n){if(t in n)return n[t];const i=t.split(`
`).reduce((s,l)=>Math.max(s,_u(e,l)),0);return n[t]=i,i}function iT(e,t){const n=[],i=[],s=[];let l=0,a=0,r=0,o=0;for(let u=0,c=t.length;u<=c;u+=2){const h=t[u];if(h===`
`||u===c){l=Math.max(l,a),s.push(a),a=0,r+=o,o=0;continue}const f=t[u+1]||e.font,d=_u(f,h);n.push(d),a+=d;const _=nT(f);i.push(_),o=Math.max(o,_)}return{width:l,height:r,widths:n,heights:i,lineWidths:s}}function sT(e,t,n,i,s,l,a,r,o,u,c){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=h=>h.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(o,u),e.scale(c[0],c[1]),lT(i,e)):c[0]<0||c[1]<0?(e.translate(o,u),e.scale(c[0],c[1]),e.drawImage(i,s,l,a,r,0,0,a,r)):e.drawImage(i,s,l,a,r,o,u,a*c[0],r*c[1]),e.restore()}function lT(e,t){const n=e.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}class Qu extends Ku{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?J.LOADING:J.LOADED,this.imageState_===J.LOADING&&this.ready().then(()=>this.imageState_=J.LOADED),this.render()}clone(){const t=this.getScale(),n=new Qu({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.canvases_[t];if(!n){const i=this.renderOptions_,s=ne(i.size*t,i.size*t);this.draw_(i,s,t),n=s.canvas,this.canvases_[t]=n}return n}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let s=this.radius_,l=this.radius2_===void 0?s:this.radius2_;if(s<l){const b=s;s=l,l=b}const a=this.radius2_===void 0?this.points_:this.points_*2,r=2*Math.PI/a,o=l*Math.sin(r),u=Math.sqrt(l*l-o*o),c=s-u,h=Math.sqrt(o*o+c*c),f=h/o;if(t==="miter"&&f<=i)return f*n;const d=n/2/f,_=n/2*(c/h),E=Math.sqrt((s+d)*(s+d)+_*_)-s;if(this.radius2_===void 0||t==="bevel")return E*2;const m=s*Math.sin(r),g=Math.sqrt(s*s-m*m),y=l-g,S=Math.sqrt(m*m+y*y)/m;if(S<=i){const b=S*n/2-l-s;return 2*Math.max(E,b)}return E*2}createRenderOptions(){let t=Bl,n=Hl,i=0,s=null,l=0,a,r=0;this.stroke_&&(a=Tn(this.stroke_.getColor()??dr),r=this.stroke_.getWidth()??mr,s=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Hl,t=this.stroke_.getLineCap()??Bl,i=this.stroke_.getMiterLimit()??fr);const o=this.calculateLineJoinSize_(n,r,i),u=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*u+o);return{strokeStyle:a,strokeWidth:r,size:c,lineCap:t,lineDash:s,lineDashOffset:l,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=Ee),n.fillStyle=Tn(s),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=hr(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=ne(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const i=this.radius_;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const l=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let r=0;r<n;r++){const o=l+r*a,u=r%2===0?i:s;t.lineTo(u*Math.cos(o),u*Math.sin(o))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Ee,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Ir extends Qu{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Ir({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius_=t,this.render()}}class Ds{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Ds({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=jd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===J.IDLE&&n.load(),n.getImageState()===J.LOADING&&(this.patternImage_=n)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Ts{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Ts({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class $e{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=c_,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new $e({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=c_,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function aT(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(at(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}let Jc=null;function Mp(e,t){if(!Jc){const n=new Ds({color:"rgba(255,255,255,0.4)"}),i=new Ts({color:"#3399CC",width:1.25});Jc=[new $e({image:new Ir({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Jc}function rT(){const e={},t=[255,255,255,1],n=[0,153,255,1],i=3;return e.Polygon=[new $e({fill:new Ds({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new $e({stroke:new Ts({color:t,width:i+2})}),new $e({stroke:new Ts({color:n,width:i})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new $e({image:new Ir({radius:i*2,fill:new Ds({color:n}),stroke:new Ts({color:t,width:i/2})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function c_(e){return e.getGeometry()}function h_(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}class Gr extends Ku{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,s=t.scale!==void 0?t.scale:1,l=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:l,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const a=t.img!==void 0?t.img:null;let r=t.src;at(!(r!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(r===void 0||r.length===0)&&a&&(r=a.src||it(a)),at(r!==void 0&&r.length>0,"A defined and non-empty `src` or `image` must be provided"),at(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let o;if(t.src!==void 0?o=J.IDLE:a!==void 0&&("complete"in a?a.complete?o=a.src?J.LOADED:J.IDLE:o=J.LOADING:o=J.LOADED),this.color_=t.color!==void 0?hr(t.color):null,this.iconImage_=jd(a,r,this.crossOrigin_,o,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let u,c;if(t.size)[u,c]=t.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=t;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const d=this.iconImage_.getSize();this.setScale(h_(d[0],d[1],t.width,t.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(h_(u,c,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Gr({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=s[0]),this.anchorYUnits_=="fraction"&&(t[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+s[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==J.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==J.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(V.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(V.CHANGE,t)}ready(){return this.iconImage_.ready()}}const oT="#333";class Hd{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=De(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ds({color:oT}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Hd({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=De(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}let Us=0;const ta=0,wt=1<<Us++,F=1<<Us++,Me=1<<Us++,qt=1<<Us++,Rn=1<<Us++,qa=1<<Us++,le=Math.pow(2,Us)-1,wp={[wt]:"boolean",[F]:"number",[Me]:"string",[qt]:"color",[Rn]:"number[]",[qa]:"size"},uT=Object.keys(wp).map(Number).sort($n);function ue(e){const t=[];for(const n of uT)cT(e,n)&&t.push(wp[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function cT(e,t){return(e&t)===t}function bn(e,t){return!!(e&t)}function Ju(e,t){return e===t}class zi{constructor(t,n){this.type=t,this.value=n}}class hT{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}}function Op(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function fT(e){switch(e){case"string":return Me;case"color":return qt;case"number":return F;case"boolean":return wt;case"number[]":return Rn;default:throw new Error(`Unrecognized type hint: ${e}`)}}function ht(e,t,n){switch(typeof e){case"boolean":return new zi(wt,e);case"number":return new zi(n===qa?qa:F,e);case"string":{let s=Me;return Xx(e)&&(s|=qt),Ju(s&n,ta)||(s&=n),new zi(s,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(e.length===0)throw new Error("Empty expression");if(typeof e[0]=="string")return CT(e,t,n);for(const s of e)if(typeof s!="number")throw new Error("Expected an array of numbers");let i=Rn;return e.length===2?i|=qa:(e.length===3||e.length===4)&&(i|=qt),n&&(i&=n),new zi(i,e)}const A={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},dT={[A.Get]:q(([e,t])=>t!==void 0?fT(t.value):le,W(1,2),gT),[A.Var]:q(([e])=>e.type,W(1,1),mT),[A.Id]:q(F|Me,va,_T),[A.Concat]:q(Me,W(2,1/0),st(le)),[A.GeometryType]:q(Me,va,yT),[A.Resolution]:q(F,va),[A.Zoom]:q(F,va),[A.Time]:q(F,va),[A.Any]:q(wt,W(2,1/0),st(wt)),[A.All]:q(wt,W(2,1/0),st(wt)),[A.Not]:q(wt,W(1,1),st(wt)),[A.Equal]:q(wt,W(2,2),st(le),mi),[A.NotEqual]:q(wt,W(2,2),st(le),mi),[A.GreaterThan]:q(wt,W(2,2),st(le),mi),[A.GreaterThanOrEqualTo]:q(wt,W(2,2),st(le),mi),[A.LessThan]:q(wt,W(2,2),st(le),mi),[A.LessThanOrEqualTo]:q(wt,W(2,2),st(le),mi),[A.Multiply]:q(e=>{let t=F|qt;for(let n=0;n<e.length;n++)t&=e[n].type;return t},W(2,1/0),st(F|qt),mi),[A.Coalesce]:q(e=>{let t=le;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},W(2,1/0),st(le),mi),[A.Divide]:q(F,W(2,2),st(F)),[A.Add]:q(F,W(2,1/0),st(F)),[A.Subtract]:q(F,W(2,2),st(F)),[A.Clamp]:q(F,W(3,3),st(F)),[A.Mod]:q(F,W(2,2),st(F)),[A.Pow]:q(F,W(2,2),st(F)),[A.Abs]:q(F,W(1,1),st(F)),[A.Floor]:q(F,W(1,1),st(F)),[A.Ceil]:q(F,W(1,1),st(F)),[A.Round]:q(F,W(1,1),st(F)),[A.Sin]:q(F,W(1,1),st(F)),[A.Cos]:q(F,W(1,1),st(F)),[A.Atan]:q(F,W(1,2),st(F)),[A.Sqrt]:q(F,W(1,1),st(F)),[A.Match]:q(e=>{let t=le;for(let n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},W(4,1/0),f_,vT),[A.Between]:q(wt,W(3,3),st(F)),[A.Interpolate]:q(e=>{let t=qt|F;for(let n=3;n<e.length;n+=2)t&=e[n].type;return t},W(6,1/0),f_,ET),[A.Case]:q(e=>{let t=le;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},W(3,1/0),pT,ST),[A.In]:q(wt,W(2,2),xT),[A.Number]:q(F,W(1,1/0),st(le)),[A.String]:q(Me,W(1,1/0),st(le)),[A.Array]:q(e=>e.length===2?Rn|qa:e.length===3||e.length===4?Rn|qt:Rn,W(1,1/0),st(F)),[A.Color]:q(qt,W(1,4),st(F)),[A.Band]:q(F,W(1,3),st(F)),[A.Palette]:q(qt,W(2,2),TT),[A.ToString]:q(Me,W(1,1),st(wt|F|Me|qt))};function gT(e,t){const n=ht(e[1],t);if(!(n instanceof zi))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(t.properties.add(n.value),e.length===3){const i=ht(e[2],t);return[n,i]}return[n]}function mT(e,t,n,i){const s=e[1];if(typeof s!="string")throw new Error("Expected a string argument for var operation");if(t.variables.add(s),!("variables"in t.style)||t.style.variables[s]===void 0)return[new zi(le,s)];const l=t.style.variables[s],a=ht(l,t);if(a.value=s,i&&!bn(i,a.type))throw new Error(`The variable ${s} has type ${ue(a.type)} but the following type was expected: ${ue(i)}`);return[a]}function _T(e,t){t.featureId=!0}function yT(e,t){t.geometryType=!0}function va(e,t){const n=e[0];if(e.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function W(e,t){return function(n,i){const s=n[0],l=n.length-1;if(e===t){if(l!==e){const a=e===1?"":"s";throw new Error(`Expected ${e} argument${a} for ${s}, got ${l}`)}}else if(l<e||l>t){const a=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`Expected ${a} arguments for ${s}, got ${l}`)}}}function st(e){return function(t,n){const i=t[0],s=t.length-1,l=new Array(s);for(let a=0;a<s;++a){const r=ht(t[a+1],n);if(!bn(e,r.type)){const o=ue(e),u=ue(r.type);throw new Error(`Unexpected type for argument ${a} of ${i} operation, got ${o} but expected ${u}`)}r.type&=e,l[a]=r}return l}}function mi(e,t,n){const i=e[0],s=e.length-1;let l=le;for(let r=0;r<n.length;++r)l&=n[r].type;if(l===ta)throw new Error(`No common type could be found for arguments of ${i} operation`);const a=new Array(s);for(let r=0;r<s;++r)a[r]=ht(e[r+1],t,l);return a}function pT(e,t){const n=e[0],i=e.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function f_(e,t){const n=e[0],i=e.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function vT(e,t,n,i){const s=e.length-1;let a=ht(e[1],t).type;const r=ht(e[e.length-1],t);let o=i!==void 0?i&r.type:r.type;const u=new Array(s-2);for(let h=0;h<s-2;h+=2){const f=ht(e[h+2],t),d=ht(e[h+3],t);a&=f.type,o&=d.type,u[h]=f,u[h+1]=d}const c=Me|F|wt;if(!bn(c,a))throw new Error(`Expected an input of type ${ue(c)} for the interpolate operation, got ${ue(a)} instead`);if(a&=c,Ju(o,ta))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let h=0;h<s-2;h+=2){const f=ht(e[h+2],t,a),d=ht(e[h+3],t,o);u[h]=f,u[h+1]=d}return[ht(e[1],t,a),...u,ht(e[e.length-1],t,o)]}function ET(e,t,n,i){const s=e[1];let l;switch(s[0]){case"linear":l=1;break;case"exponential":if(l=s[1],typeof l!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);break;default:l=null}if(!l)throw new Error(`Invalid interpolation type: ${JSON.stringify(s)}`);l=ht(l,t);let a=ht(e[2],t);if(!bn(F,a.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${ue(a.type)} instead`);a=ht(e[2],t,F);const r=new Array(e.length-3);for(let o=0;o<r.length;o+=2){let u=ht(e[o+3],t);if(!bn(F,u.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${ue(u.type)} at position ${o+2} instead`);let c=ht(e[o+4],t);if(!bn(F|qt,c.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${ue(c.type)} at position ${o+3} instead`);u=ht(e[o+3],t,F),c=ht(e[o+4],t,F|qt),r[o]=u,r[o+1]=c}return[l,a,...r]}function ST(e,t,n,i){const s=ht(e[e.length-1],t,i);let l=i!==void 0?i&s.type:s.type;const a=new Array(e.length-1);for(let r=0;r<a.length-1;r+=2){const o=ht(e[r+1],t),u=ht(e[r+2],t,i);if(!bn(wt,o.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${ue(o.type)} at position ${r} instead`);l&=u.type,a[r]=o,a[r+1]=u}if(Ju(l,ta))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let r=0;r<a.length-1;r+=2)a[r+1]=ht(e[r+2],t,l);return a[a.length-1]=ht(e[e.length-1],t,l),a}function xT(e,t){let n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=Me|F;const s=new Array(n.length);for(let a=0;a<s.length;a++){const r=ht(n[a],t);i&=r.type,s[a]=r}if(Ju(i,ta))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[ht(e[1],t,i),...s]}function TT(e,t){const n=ht(e[1],t,F);if(n.type!==F)throw new Error(`The first argument of palette must be an number, got ${ue(n.type)} instead`);const i=e[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const s=new Array(i.length);for(let l=0;l<s.length;l++){const a=ht(i[l],t,qt);if(!(a instanceof zi))throw new Error(`The palette color at index ${l} must be a literal value`);if(!bn(a.type,qt))throw new Error(`The palette color at index ${l} should be of type color, got ${ue(a.type)} instead`);s[l]=a}return[n,...s]}function q(e,...t){return function(n,i,s){const l=n[0];let a=[];for(let o=0;o<t.length;o++)a=t[o](n,i,a,s)||a;let r=typeof e=="function"?e(a):e;if(s!==void 0){if(!bn(r,s))throw new Error(`The following expression was expected to return ${ue(s)}, but returns ${ue(r)} instead: ${JSON.stringify(n)}`);r&=s}if(r===ta)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new hT(r,l,...a)}}function CT(e,t,n){const i=e[0],s=dT[i];if(!s)throw new Error(`Unknown operator: ${i}`);return s(e,t,n)}function Dp(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Dp(e.getGeometries()[0]);default:return""}}function Lp(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ui(e,t,n){const i=ht(e,n);if(!bn(t,i.type)){const s=ue(t),l=ue(i.type);throw new Error(`Expected expression to be of type ${s}, got ${l}`)}return dn(i)}function dn(e,t){if(e instanceof zi){if(e.type===qt&&typeof e.value=="string"){const i=Yd(e.value);return function(){return i}}return function(){return e.value}}const n=e.operator;switch(n){case A.Number:case A.String:case A.Coalesce:return RT(e);case A.Get:case A.Var:return bT(e);case A.Id:return i=>i.featureId;case A.GeometryType:return i=>i.geometryType;case A.Concat:{const i=e.args.map(s=>dn(s));return s=>"".concat(...i.map(l=>l(s).toString()))}case A.Resolution:return i=>i.resolution;case A.Any:case A.All:case A.Between:case A.In:case A.Not:return MT(e);case A.Equal:case A.NotEqual:case A.LessThan:case A.LessThanOrEqualTo:case A.GreaterThan:case A.GreaterThanOrEqualTo:return AT(e);case A.Multiply:case A.Divide:case A.Add:case A.Subtract:case A.Clamp:case A.Mod:case A.Pow:case A.Abs:case A.Floor:case A.Ceil:case A.Round:case A.Sin:case A.Cos:case A.Atan:case A.Sqrt:return wT(e);case A.Case:return OT(e);case A.Match:return DT(e);case A.Interpolate:return LT(e);case A.ToString:return zT(e);default:throw new Error(`Unsupported operator ${n}`)}}function RT(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=dn(e.args[l]);switch(n){case A.Coalesce:return l=>{for(let a=0;a<i;++a){const r=s[a](l);if(typeof r<"u"&&r!==null)return r}throw new Error("Expected one of the values to be non-null")};case A.Number:case A.String:return l=>{for(let a=0;a<i;++a){const r=s[a](l);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function bT(e,t){const i=e.args[0].value;switch(e.operator){case A.Get:return s=>s.properties[i];case A.Var:return s=>s.variables[i];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function AT(e,t){const n=e.operator,i=dn(e.args[0]),s=dn(e.args[1]);switch(n){case A.Equal:return l=>i(l)===s(l);case A.NotEqual:return l=>i(l)!==s(l);case A.LessThan:return l=>i(l)<s(l);case A.LessThanOrEqualTo:return l=>i(l)<=s(l);case A.GreaterThan:return l=>i(l)>s(l);case A.GreaterThanOrEqualTo:return l=>i(l)>=s(l);default:throw new Error(`Unsupported comparison operator ${n}`)}}function MT(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=dn(e.args[l]);switch(n){case A.Any:return l=>{for(let a=0;a<i;++a)if(s[a](l))return!0;return!1};case A.All:return l=>{for(let a=0;a<i;++a)if(!s[a](l))return!1;return!0};case A.Between:return l=>{const a=s[0](l),r=s[1](l),o=s[2](l);return a>=r&&a<=o};case A.In:return l=>{const a=s[0](l);for(let r=1;r<i;++r)if(a===s[r](l))return!0;return!1};case A.Not:return l=>!s[0](l);default:throw new Error(`Unsupported logical operator ${n}`)}}function wT(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=dn(e.args[l]);switch(n){case A.Multiply:return l=>{let a=1;for(let r=0;r<i;++r)a*=s[r](l);return a};case A.Divide:return l=>s[0](l)/s[1](l);case A.Add:return l=>{let a=0;for(let r=0;r<i;++r)a+=s[r](l);return a};case A.Subtract:return l=>s[0](l)-s[1](l);case A.Clamp:return l=>{const a=s[0](l),r=s[1](l);if(a<r)return r;const o=s[2](l);return a>o?o:a};case A.Mod:return l=>s[0](l)%s[1](l);case A.Pow:return l=>Math.pow(s[0](l),s[1](l));case A.Abs:return l=>Math.abs(s[0](l));case A.Floor:return l=>Math.floor(s[0](l));case A.Ceil:return l=>Math.ceil(s[0](l));case A.Round:return l=>Math.round(s[0](l));case A.Sin:return l=>Math.sin(s[0](l));case A.Cos:return l=>Math.cos(s[0](l));case A.Atan:return i===2?l=>Math.atan2(s[0](l),s[1](l)):l=>Math.atan(s[0](l));case A.Sqrt:return l=>Math.sqrt(s[0](l));default:throw new Error(`Unsupported numeric operator ${n}`)}}function OT(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=dn(e.args[s]);return s=>{for(let l=0;l<n-1;l+=2)if(i[l](s))return i[l+1](s);return i[n-1](s)}}function DT(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=dn(e.args[s]);return s=>{const l=i[0](s);for(let a=1;a<n;a+=2)if(l===i[a](s))return i[a+1](s);return i[n-1](s)}}function LT(e,t){const n=e.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=dn(e.args[s]);return s=>{const l=i[0](s),a=i[1](s);let r,o;for(let u=2;u<n;u+=2){const c=i[u](s);let h=i[u+1](s);const f=Array.isArray(h);if(f&&(h=Ux(h)),c>=a)return u===2?h:f?NT(l,a,r,o,c,h):Ma(l,a,r,o,c,h);r=c,o=h}return o}}function zT(e,t){const n=e.operator,i=e.args.length,s=new Array(i);for(let l=0;l<i;++l)s[l]=dn(e.args[l]);switch(n){case A.ToString:return l=>{const a=s[0](l);return e.args[0].type===qt?Xd(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Ma(e,t,n,i,s,l){const a=s-n;if(a===0)return i;const r=t-n,o=e===1?r/a:(Math.pow(e,r)-1)/(Math.pow(e,a)-1);return i+o*(l-i)}function NT(e,t,n,i,s,l){if(s-n===0)return i;const r=l_(i),o=l_(l);let u=o[2]-r[2];u>180?u-=360:u<-180&&(u+=360);const c=[Ma(e,t,n,r[0],s,o[0]),Ma(e,t,n,r[1],s,o[1]),r[2]+Ma(e,t,n,0,s,u),Ma(e,t,n,i[3],s,l[3])];return pp(Yx(c))}function IT(e){return!0}function GT(e){const t=Op(),n=FT(e,t),i=Lp();return function(s,l){if(i.properties=s.getPropertiesInternal(),i.resolution=l,t.featureId){const a=s.getId();a!==void 0?i.featureId=a:i.featureId=null}return t.geometryType&&(i.geometryType=Dp(s.getGeometry())),n(i)}}function d_(e){const t=Op(),n=e.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=ff(e[a],t);const s=Lp(),l=new Array(n);return function(a,r){if(s.properties=a.getPropertiesInternal(),s.resolution=r,t.featureId){const u=a.getId();u!==void 0?s.featureId=u:s.featureId=null}let o=0;for(let u=0;u<n;++u){const c=i[u](s);c&&(l[o]=c,o+=1)}return l.length=o,l}}function FT(e,t){const n=e.length,i=new Array(n);for(let s=0;s<n;++s){const l=e[s],a="filter"in l?ui(l.filter,wt,t):IT;let r;if(Array.isArray(l.style)){const o=l.style.length;r=new Array(o);for(let u=0;u<o;++u)r[u]=ff(l.style[u],t)}else r=[ff(l.style,t)];i[s]={filter:a,styles:r}}return function(s){const l=[];let a=!1;for(let r=0;r<n;++r){const o=i[r].filter;if(o(s)&&!(e[r].else&&a)){a=!0;for(const u of i[r].styles){const c=u(s);c&&l.push(c)}}}return l}}function ff(e,t){const n=_r(e,"",t),i=yr(e,"",t),s=UT(e,t),l=YT(e,t),a=xe(e,"z-index",t);if(!n&&!i&&!s&&!l&&!Xl(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const r=new $e;return function(o){let u=!0;if(n){const c=n(o);c&&(u=!1),r.setFill(c)}if(i){const c=i(o);c&&(u=!1),r.setStroke(c)}if(s){const c=s(o);c&&(u=!1),r.setText(c)}if(l){const c=l(o);c&&(u=!1),r.setImage(c)}return a&&r.setZIndex(a(o)),u?null:r}}function _r(e,t,n){let i;if(t+"fill-pattern-src"in e?i=HT(e,t+"fill-",n):i=Zd(e,t+"fill-color",n),!i)return null;const s=new Ds;return function(l){const a=i(l);return a==="none"?null:(s.setColor(a),s)}}function yr(e,t,n){const i=xe(e,t+"stroke-width",n),s=Zd(e,t+"stroke-color",n);if(!i&&!s)return null;const l=qn(e,t+"stroke-line-cap",n),a=qn(e,t+"stroke-line-join",n),r=zp(e,t+"stroke-line-dash",n),o=xe(e,t+"stroke-line-dash-offset",n),u=xe(e,t+"stroke-miter-limit",n),c=new Ts;return function(h){if(s){const f=s(h);if(f==="none")return null;c.setColor(f)}if(i&&c.setWidth(i(h)),l){const f=l(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(f)}if(a){const f=a(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(f)}return r&&c.setLineDash(r(h)),o&&c.setLineDashOffset(o(h)),u&&c.setMiterLimit(u(h)),c}}function UT(e,t){const n="text-",i=qn(e,n+"value",t);if(!i)return null;const s=_r(e,n,t),l=_r(e,n+"background-",t),a=yr(e,n,t),r=yr(e,n+"background-",t),o=qn(e,n+"font",t),u=xe(e,n+"max-angle",t),c=xe(e,n+"offset-x",t),h=xe(e,n+"offset-y",t),f=pr(e,n+"overflow",t),d=qn(e,n+"placement",t),_=xe(e,n+"repeat",t),p=$u(e,n+"scale",t),E=pr(e,n+"rotate-with-view",t),m=xe(e,n+"rotation",t),g=qn(e,n+"align",t),y=qn(e,n+"justify",t),v=qn(e,n+"baseline",t),S=zp(e,n+"padding",t),b=tc(e,n+"declutter-mode"),x=new Hd({declutterMode:b});return function(C){if(x.setText(i(C)),s&&x.setFill(s(C)),l&&x.setBackgroundFill(l(C)),a&&x.setStroke(a(C)),r&&x.setBackgroundStroke(r(C)),o&&x.setFont(o(C)),u&&x.setMaxAngle(u(C)),c&&x.setOffsetX(c(C)),h&&x.setOffsetY(h(C)),f&&x.setOverflow(f(C)),d){const R=d(C);if(R!=="point"&&R!=="line")throw new Error("Expected point or line for text-placement");x.setPlacement(R)}if(_&&x.setRepeat(_(C)),p&&x.setScale(p(C)),E&&x.setRotateWithView(E(C)),m&&x.setRotation(m(C)),g){const R=g(C);if(R!=="left"&&R!=="center"&&R!=="right"&&R!=="end"&&R!=="start")throw new Error("Expected left, right, center, start, or end for text-align");x.setTextAlign(R)}if(y){const R=y(C);if(R!=="left"&&R!=="right"&&R!=="center")throw new Error("Expected left, right, or center for text-justify");x.setJustify(R)}if(v){const R=v(C);if(R!=="bottom"&&R!=="top"&&R!=="middle"&&R!=="alphabetic"&&R!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");x.setTextBaseline(R)}return S&&x.setPadding(S(C)),x}}function YT(e,t){return"icon-src"in e?XT(e,t):"shape-points"in e?jT(e,t):"circle-radius"in e?BT(e,t):null}function XT(e,t){const n="icon-",i=n+"src",s=Np(e[i],i),l=yu(e,n+"anchor",t),a=$u(e,n+"scale",t),r=xe(e,n+"opacity",t),o=yu(e,n+"displacement",t),u=xe(e,n+"rotation",t),c=pr(e,n+"rotate-with-view",t),h=m_(e,n+"anchor-origin"),f=__(e,n+"anchor-x-units"),d=__(e,n+"anchor-y-units"),_=VT(e,n+"color"),p=qT(e,n+"cross-origin"),E=kT(e,n+"offset"),m=m_(e,n+"offset-origin"),g=pu(e,n+"width"),y=pu(e,n+"height"),v=ZT(e,n+"size"),S=tc(e,n+"declutter-mode"),b=new Gr({src:s,anchorOrigin:h,anchorXUnits:f,anchorYUnits:d,color:_,crossOrigin:p,offset:E,offsetOrigin:m,height:y,width:g,size:v,declutterMode:S});return function(x){return r&&b.setOpacity(r(x)),o&&b.setDisplacement(o(x)),u&&b.setRotation(u(x)),c&&b.setRotateWithView(c(x)),a&&b.setScale(a(x)),l&&b.setAnchor(l(x)),b}}function jT(e,t){const n="shape-",i=n+"points",s=n+"radius",l=df(e[i],i),a=df(e[s],s),r=_r(e,n,t),o=yr(e,n,t),u=$u(e,n+"scale",t),c=yu(e,n+"displacement",t),h=xe(e,n+"rotation",t),f=pr(e,n+"rotate-with-view",t),d=pu(e,n+"radius2"),_=pu(e,n+"angle"),p=tc(e,n+"declutter-mode"),E=new Qu({points:l,radius:a,radius2:d,angle:_,declutterMode:p});return function(m){return r&&E.setFill(r(m)),o&&E.setStroke(o(m)),c&&E.setDisplacement(c(m)),h&&E.setRotation(h(m)),f&&E.setRotateWithView(f(m)),u&&E.setScale(u(m)),E}}function BT(e,t){const n="circle-",i=_r(e,n,t),s=yr(e,n,t),l=xe(e,n+"radius",t),a=$u(e,n+"scale",t),r=yu(e,n+"displacement",t),o=xe(e,n+"rotation",t),u=pr(e,n+"rotate-with-view",t),c=tc(e,n+"declutter-mode"),h=new Ir({radius:5,declutterMode:c});return function(f){return l&&h.setRadius(l(f)),i&&h.setFill(i(f)),s&&h.setStroke(s(f)),r&&h.setDisplacement(r(f)),o&&h.setRotation(o(f)),u&&h.setRotateWithView(u(f)),a&&h.setScale(a(f)),h}}function xe(e,t,n){if(!(t in e))return;const i=ui(e[t],F,n);return function(s){return df(i(s),t)}}function qn(e,t,n){if(!(t in e))return null;const i=ui(e[t],Me,n);return function(s){return Np(i(s),t)}}function HT(e,t,n){const i=qn(e,t+"pattern-src",n),s=g_(e,t+"pattern-offset",n),l=g_(e,t+"pattern-size",n),a=Zd(e,t+"color",n);return function(r){return{src:i(r),offset:s&&s(r),size:l&&l(r),color:a&&a(r)}}}function pr(e,t,n){if(!(t in e))return null;const i=ui(e[t],wt,n);return function(s){const l=i(s);if(typeof l!="boolean")throw new Error(`Expected a boolean for ${t}`);return l}}function Zd(e,t,n){if(!(t in e))return null;const i=ui(e[t],qt|Me,n);return function(s){return Ip(i(s),t)}}function zp(e,t,n){if(!(t in e))return null;const i=ui(e[t],Rn,n);return function(s){return Fr(i(s),t)}}function yu(e,t,n){if(!(t in e))return null;const i=ui(e[t],Rn,n);return function(s){const l=Fr(i(s),t);if(l.length!==2)throw new Error(`Expected two numbers for ${t}`);return l}}function g_(e,t,n){if(!(t in e))return null;const i=ui(e[t],Rn,n);return function(s){return Gp(i(s),t)}}function $u(e,t,n){if(!(t in e))return null;const i=ui(e[t],Rn|F,n);return function(s){return KT(i(s),t)}}function pu(e,t){const n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function ZT(e,t){const n=e[t];if(n!==void 0){if(typeof n=="number")return De(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function qT(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function m_(e,t){const n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function __(e,t){const n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function kT(e,t){const n=e[t];if(n!==void 0)return Fr(n,t)}function tc(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function VT(e,t){const n=e[t];if(n!==void 0)return Ip(n,t)}function Fr(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function Np(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function df(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function Ip(e,t){if(typeof e=="string")return e;const n=Fr(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function Gp(e,t){const n=Fr(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function KT(e,t){return typeof e=="number"?e:Gp(e,t)}const y_={RENDER_ORDER:"renderOrder"};class Fp extends Vu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(y_.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new _p(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(y_.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?Mp:t;const n=PT(t);this.styleFunction_=t===null?void 0:aT(n),this.changed()}}function PT(e){if(e===void 0)return Mp;if(!e)return null;if(typeof e=="function"||e instanceof $e)return e;if(!Array.isArray(e))return d_([e]);if(e.length===0)return[];const t=e.length,n=e[0];if(n instanceof $e){const s=new Array(t);for(let l=0;l<t;++l){const a=e[l];if(!(a instanceof $e))throw new Error("Expected a list of style instances");s[l]=a}return s}if("style"in n){const s=new Array(t);for(let l=0;l<t;++l){const a=e[l];if(!("style"in a))throw new Error("Expected a list of rules with a style property");s[l]=a}return GT(s)}return d_(e)}class WT extends vd{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){rt()}calculateMatrices2D(t){const n=t.viewState,i=t.coordinateToPixelTransform,s=t.pixelToCoordinateTransform;ri(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),lp(s,i)}forEachFeatureAtCoordinate(t,n,i,s,l,a,r,o){let u;const c=n.viewState;function h(v,S,b,x){return l.call(a,S,v?b:null,x)}const f=c.projection,d=J1(t.slice(),f),_=[[0,0]];if(f.canWrapX()&&s){const v=f.getExtent(),S=mt(v);_.push([-S,0],[S,0])}const p=n.layerStatesArray,E=p.length,m=[],g=[];for(let v=0;v<_.length;v++)for(let S=E-1;S>=0;--S){const b=p[S],x=b.layer;if(x.hasRenderer()&&Fd(b,c)&&r.call(o,x)){const C=x.getRenderer(),R=x.getSource();if(C&&R){const D=R.getWrapX()?d:t,N=h.bind(null,b.managed);g[0]=D[0]+_[v][0],g[1]=D[1]+_[v][1],u=C.forEachFeatureAtCoordinate(g,n,i,N,m)}if(u)return u}}if(m.length===0)return;const y=1/m.length;return m.forEach((v,S)=>v.distanceSq+=S*y),m.sort((v,S)=>v.distanceSq-S.distanceSq),m.some(v=>u=v.callback(v.feature,v.layer,v.geometry)),u}hasFeatureAtCoordinate(t,n,i,s,l,a){return this.forEachFeatureAtCoordinate(t,n,i,s,ws,this,l,a)!==void 0}getMap(){return this.map_}renderFrame(t){rt()}scheduleExpireIconCache(t){xn.canExpireCache()&&t.postRenderFunctions.push(QT)}}function QT(e,t){xn.expire()}class Up extends wn{constructor(t,n,i,s){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class JT extends WT{constructor(t){super(t),this.fontChangeListenerKey_=lt(Bn,Ul.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Wu+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const i=this.getMap();if(i.hasListener(t)){const s=new Up(t,void 0,n);i.dispatchEvent(s)}}disposeInternal(){Tt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Je.PRECOMPOSE,t);const n=t.layerStatesArray.sort(function(r,o){return r.zIndex-o.zIndex});n.some(r=>r.layer instanceof Fp&&r.layer.getDeclutter())&&(t.declutter={});const s=t.viewState;this.children_.length=0;const l=[];let a=null;for(let r=0,o=n.length;r<o;++r){const u=n[r];t.layerIndex=r;const c=u.layer,h=c.getSourceState();if(!Fd(u,s)||h!="ready"&&h!="undefined"){c.unrender();continue}const f=c.render(t,a);f&&(f!==a&&(this.children_.push(f),a=f),l.push(u))}this.declutter(t,l),kx(this.element_,this.children_),this.dispatchRenderEvent(Je.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],l=s.layer;l.getDeclutter()&&l.renderDeclutter(t,s)}n.forEach(i=>i.layer.renderDeferred(t))}}}class Ti extends wn{constructor(t,n){super(t),this.layer=n}}const $c={LAYERS:"layers"};class ea extends B1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener($c.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new hn(i.slice(),{unique:!0}):at(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new hn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Tt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(lt(t,Vt.ADD,this.handleLayersAdd_,this),lt(t,Vt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Tt);Jl(this.listenerKeys_);const n=t.getArray();for(let i=0,s=n.length;i<s;i++){const l=n[i];this.registerLayerListeners_(l),this.dispatchEvent(new Ti("addlayer",l))}this.changed()}registerLayerListeners_(t){const n=[lt(t,Ul.PROPERTYCHANGE,this.handleLayerChange_,this),lt(t,V.CHANGE,this.handleLayerChange_,this)];t instanceof ea&&n.push(lt(t,"addlayer",this.handleLayerGroupAdd_,this),lt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[it(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Ti("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Ti("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ti("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,i=it(n);this.listenerKeys_[i].forEach(Tt),delete this.listenerKeys_[i],this.dispatchEvent(new Ti("removelayer",n)),this.changed()}getLayers(){return this.get($c.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,l=i.length;s<l;++s)this.dispatchEvent(new Ti("removelayer",i[s]))}this.set($c.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const s=this.getLayerState();let l=s.zIndex;!t&&s.zIndex===void 0&&(l=0);for(let a=i,r=n.length;a<r;a++){const o=n[a];o.opacity*=s.opacity,o.visible=o.visible&&s.visible,o.maxResolution=Math.min(o.maxResolution,s.maxResolution),o.minResolution=Math.max(o.minResolution,s.minResolution),o.minZoom=Math.max(o.minZoom,s.minZoom),o.maxZoom=Math.min(o.maxZoom,s.maxZoom),s.extent!==void 0&&(o.extent!==void 0?o.extent=Za(o.extent,s.extent):o.extent=s.extent),o.zIndex===void 0&&(o.zIndex=l)}return n}getSourceState(){return"ready"}}class $s extends wn{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}}class Ei extends $s{constructor(t,n,i,s,l,a){super(t,n,l),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const bt={SINGLECLICK:"singleclick",CLICK:V.CLICK,DBLCLICK:V.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},gf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class $T extends Xu{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=lt(i,gf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=lt(i,gf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(V.TOUCHMOVE,this.boundHandleTouchMove_,Tp?{passive:!1}:!1)}emulateClick_(t){let n=new Ei(bt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Ei(bt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Ei(bt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){const n=t,i=n.pointerId;if(n.type==bt.POINTERUP||n.type==bt.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==bt.POINTERDOWN||n.type==bt.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new Ei(bt.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Tt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new Ei(bt.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(lt(i,bt.POINTERMOVE,this.handlePointerMove_,this),lt(i,bt.POINTERUP,this.handlePointerUp_,this),lt(this.element_,bt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(lt(this.element_.getRootNode(),bt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new Ei(bt.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Ei(bt.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Tt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(V.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Tt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Tt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Hn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ae={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},vu=1/0;class tC{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Jl(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(t){at(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=vu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,i=this.priorities_,s=n.length,l=n[t],a=i[t],r=t;for(;t<s>>1;){const o=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<s&&i[u]<i[o]?u:o;n[t]=n[c],i[t]=i[c],t=c}n[t]=l,i[t]=a,this.siftDown_(r,t)}siftDown_(t,n){const i=this.elements_,s=this.priorities_,l=i[n],a=s[n];for(;n>t;){const r=this.getParentIndex_(n);if(s[r]>a)i[n]=i[r],s[n]=s[r],n=r;else break}i[n]=l,s[n]=a}reprioritize(){const t=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const l=n.length;let a,r,o;for(r=0;r<l;++r)a=n[r],o=t(a),o==vu?delete this.queuedElements_[this.keyFunction_(a)]:(i[s]=o,n[s++]=a);n.length=s,i.length=s,this.heapify_()}}const Y={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class eC extends tC{constructor(t,n){super(function(i){return t.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(V.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,i=n.getState();if(i===Y.LOADED||i===Y.ERROR||i===Y.EMPTY){i!==Y.ERROR&&n.removeEventListener(V.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0,s,l,a;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;)l=this.dequeue()[0],a=l.getKey(),s=l.getState(),s===Y.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,l.load())}}function nC(e,t,n,i,s){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return vu;const l=e.viewState.center,a=i[0]-l[0],r=i[1]-l[1];return 65536*Math.log(s)+Math.sqrt(a*a+r*r)/s}class qd extends mn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){gu(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&gu(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)Tt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Yl&&this.listenerKeys.push(lt(t,Hn.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class iC extends qd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",s=t.expandClassName!==void 0?t.expandClassName:n+"-expand",l=t.collapseLabel!==void 0?t.collapseLabel:"",a=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof l=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=l,this.collapseLabel_.className=a):this.collapseLabel_=l;const r=t.label!==void 0?t.label:"i";typeof r=="string"?(this.label_=document.createElement("span"),this.label_.textContent=r,this.label_.className=s):this.label_=r;const o=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(o),this.toggleButton_.addEventListener(V.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+Wu+" "+Bd+(this.collapsed_&&this.collapsible_?" "+r_:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(s=>s.getAttributions(t)))),i=!this.getMap().getAllLayers().some(s=>s.getSource()&&s.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(s=>vS(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!$i(n,this.renderedAttributions_)){Cp(this.ulElement_);for(let s=0,l=n.length;s<l;++s){const a=document.createElement("li");a.innerHTML=n[s],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(r_),this.collapsed_?a_(this.collapseLabel_,this.label_):a_(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class sC extends qd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"",s=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const l=t.tipLabel?t.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=l,a.appendChild(this.label_),a.addEventListener(V.CLICK,this.handleClick_.bind(this),!1);const r=n+" "+Wu+" "+Bd,o=this.element;o.className=r,o.appendChild(a),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ho)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:$l}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const l=this.element.classList.contains(ho);!l&&i===0?this.element.classList.add(ho):l&&i!==0&&this.element.classList.remove(ho)}this.label_.style.transform=s}this.rotation_=i}}class lC extends qd{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,s=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",l=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",a=t.zoomInLabel!==void 0?t.zoomInLabel:"+",r=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",o=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",u=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=o,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(V.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=l,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof r=="string"?document.createTextNode(r):r),h.addEventListener(V.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+Wu+" "+Bd,d=this.element;d.className=f,d.appendChild(c),d.appendChild(h),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const l=i.getConstrainedZoom(s+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:l,duration:this.duration_,easing:$l})):i.setZoom(l)}}}function aC(e){e=e||{};const t=new hn;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new lC(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new sC(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new iC(e.attributionOptions)),t}const p_={ACTIVE:"active"};class na extends mn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(p_.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(p_.ACTIVE,t)}setMap(t){this.map_=t}}function rC(e,t,n){const i=e.getCenterInternal();if(i){const s=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:$S,center:e.getConstrainedCenter(s)})}}function kd(e,t,n,i){const s=e.getZoom();if(s===void 0)return;const l=e.getConstrainedZoom(s+t),a=e.getResolutionForZoom(l);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:$l})}class oC extends na{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==bt.DBLCLICK){const i=t.originalEvent,s=t.map,l=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,r=s.getView();kd(r,a,l,this.duration_),i.preventDefault(),n=!0}return!n}}class Ur extends na{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==bt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==bt.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==bt.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==bt.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Vd(e){const t=e.length;let n=0,i=0;for(let s=0;s<t;s++)n+=e[s].clientX,i+=e[s].clientY;return{clientX:n/t,clientY:i/t}}function mf(e){const t=arguments;return function(n){let i=!0;for(let s=0,l=t.length;s<l&&(i=i&&t[s](n),!!i);++s);return i}}const uC=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},cC=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},Yp=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?cC(e):!0},hC=ws,fC=function(e){return e.type==bt.CLICK},Xp=function(e){const t=e.originalEvent;return t.button==0&&!(Hx&&vp&&t.ctrlKey)},v_=Lr,dC=function(e){return e.type==bt.SINGLECLICK},jp=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},gC=function(e){const t=e.originalEvent;return vp?t.metaKey:t.ctrlKey},Bp=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Hp=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},th=function(e){const t=e.originalEvent;return at(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},mC=function(e){const t=e.originalEvent;return at(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class _C extends Ur{constructor(t){super({stopDown:Lr}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:mf(jp,mC);this.condition_=t.onFocusOnly?mf(Yp,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(Vd(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const l=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],r=t.map.getView();XS(l,r.getResolution()),bd(l,r.getRotation()),r.adjustCenterInternal(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),l=this.kinetic_.getAngle(),a=i.getCenterInternal(),r=n.getPixelFromCoordinateInternal(a),o=n.getCoordinateFromPixelInternal([r[0]-s*Math.cos(l),r[1]-s*Math.sin(l)]);i.animateInternal({center:i.getConstrainedCenter(o),duration:500,easing:$l})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class yC extends Ur{constructor(t){t=t||{},super({stopDown:Lr}),this.condition_=t.condition?t.condition:uC,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!th(t))return;const n=t.map,i=n.getView();if(i.getConstraints().rotation===Ld)return;const s=n.getSize(),l=t.pixel,a=Math.atan2(s[1]/2-l[1],l[0]-s[0]/2);if(this.lastAngle_!==void 0){const r=a-this.lastAngle_;i.adjustRotationInternal(-r)}this.lastAngle_=a}handleUpEvent(t){return th(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return th(t)&&Xp(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class pC extends vd{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(t[0],n[0])+i,s.top=Math.min(t[1],n[1])+i,s.width=Math.abs(n[0]-t[0])+i,s.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,s=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new ur([s])}getGeometry(){return this.geometry_}}const Ea={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class fo extends wn{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}}class vC extends Ur{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new pC(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Xp,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){const s=i[0]-n[0],l=i[1]-n[1];return s*s+l*l>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new fo(Ea.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new fo(n?Ea.BOXEND:Ea.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new fo(Ea.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new fo(Ea.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}}class EC extends vC{constructor(t){t=t||{};const n=t.condition?t.condition:Bp;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const l=i.rotatedExtentForGeometry(s),a=i.getResolutionForExtentInternal(l),r=i.getResolution()/a;s=s.clone(),s.scale(r*r)}i.fitInternal(s,{duration:this.duration_,easing:$l})}}const rs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class SC extends na{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return jp(n)&&Hp(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==V.KEYDOWN){const i=t.originalEvent,s=i.key;if(this.condition_(t)&&(s==rs.DOWN||s==rs.LEFT||s==rs.RIGHT||s==rs.UP)){const a=t.map.getView(),r=a.getResolution()*this.pixelDelta_;let o=0,u=0;s==rs.DOWN?u=-r:s==rs.LEFT?o=-r:s==rs.RIGHT?o=r:u=r;const c=[o,u];bd(c,a.getRotation()),rC(a,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class xC extends na{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!gC(n)&&Hp(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==V.KEYDOWN||t.type==V.KEYPRESS){const i=t.originalEvent,s=i.key;if(this.condition_(t)&&(s==="+"||s==="-")){const l=t.map,a=s==="+"?this.delta_:-this.delta_,r=l.getView();kd(r,a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class TC{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const l=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,l),this.initialVelocity_=Math.sqrt(l*l+a*a)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class CC extends na{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:hC;this.condition_=t.onFocusOnly?mf(Yp,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==V.WHEEL)return!0;const i=t.map,s=t.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let l;if(t.type==V.WHEEL&&(l=s.deltaY,jx&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(l/=Ep),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(l*=40)),l===0)return!1;this.lastDelta_=l;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(l)<4?"trackpad":"wheel");const r=i.getView();if(this.mode_==="trackpad"&&!(r.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-l/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=l;const o=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),o),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Yt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),kd(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class RC extends Ur{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Lr),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],l=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const o=l-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=o}this.lastAngle_=l;const a=t.map,r=a.getView();r.getConstraints().rotation!==Ld&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Vd(this.targetPointers))),this.rotating_&&(a.render(),r.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class bC extends Ur{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Lr),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],l=i.clientX-s.clientX,a=i.clientY-s.clientY,r=Math.sqrt(l*l+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/r),this.lastDistance_=r;const o=t.map,u=o.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Vd(this.targetPointers))),o.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function AC(e){e=e||{};const t=new hn,n=new TC(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new yC),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new oC({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new _C({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new RC),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new bC({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new SC),t.push(new xC({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new CC({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new EC({duration:e.zoomDuration})),t}function Zp(e){if(e instanceof Vu){e.setMapInternal(null);return}e instanceof ea&&e.getLayers().forEach(Zp)}function qp(e,t){if(e instanceof Vu){e.setMapInternal(t);return}if(e instanceof ea){const n=e.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)qp(n[i],t)}}let MC=class extends mn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=wC(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Ep,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=fn(),this.pixelToCoordinateTransform_=fn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||aC(),this.interactions=n.interactions||AC({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new eC(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ae.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ae.VIEW,this.handleViewChanged_),this.addChangeListener(ae.SIZE,this.handleSizeChanged_),this.addChangeListener(ae.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;t.view&&!(t.view instanceof yn)&&t.view.then(function(s){i.setView(new yn(s))}),this.controls.addEventListener(Vt.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(Vt.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(Vt.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(Vt.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(Vt.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(Vt.REMOVE,s=>{const l=s.element.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){qp(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const l=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:ws,r=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,l,r,n,null,a,null)}getFeaturesAtPixel(t,n){const i=[];return this.forEachFeatureAtPixel(t,function(s){i.push(s)},n),i}getAllLayers(){const t=[];function n(i){i.forEach(function(s){s instanceof ea?n(s.getLayers()):t.push(s)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:ws,l=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,l,a,s,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),l=i.width/s[0],a=i.height/s[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-i.left)/l,(r.clientY-i.top)/a]}getTarget(){return this.get(ae.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return uf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Qt(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ae.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof hn){n.setLayers(t);return}const i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const s=t[n];if(!s.visible)continue;const l=s.layer.getRenderer();if(l&&!l.ready)return!0;const a=s.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(t){const n=jn(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Qt(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ae.SIZE)}getView(){return this.get(ae.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,s){return nC(this.frameState_,t,n,i,s)}handleBrowserEvent(t,n){n=n||t.type;const i=new Ei(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,i=n.type;if(i===gf.POINTERDOWN||i===V.WHEEL||i===V.KEYDOWN){const s=this.getOwnerDocument(),l=this.viewport_.getRootNode?this.viewport_.getRootNode():s,a=n.target;if(this.overlayContainerStopEvent_.contains(a)||!(l===s?s.documentElement:l).contains(a))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const s=this.getInteractions().getArray().slice();for(let l=s.length-1;l>=0;l--){const a=s[l];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,l=s;if(t){const a=t.viewHints;if(a[re.ANIMATING]||a[re.INTERACTING]){const r=Date.now()-t.time>8;s=r?0:8,l=r?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,l))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Je.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Je.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new $s(Hn.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new $s(Hn.LOADSTART,this,t))));const i=this.postRenderFunctions_;for(let s=0,l=i.length;s<l;++s)i[s](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)Tt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(V.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(V.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,gu(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new JT(this)),this.mapBrowserEventHandler_=new $T(this,this.moveTolerance_);for(const l in bt)this.mapBrowserEventHandler_.addEventListener(bt[l],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(V.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(V.WHEEL,this.boundHandleBrowserEvent_,Tp?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[lt(i,V.KEYDOWN,this.handleBrowserEvent,this),lt(i,V.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Tt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Tt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=lt(t,Ul.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=lt(t,V.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Tt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ti("addlayer",t)),this.layerGroupPropertyListenerKeys_=[lt(t,Ul.PROPERTYCHANGE,this.render,this),lt(t,V.CHANGE,this.render,this),lt(t,"addlayer",this.handleLayerAdd_,this),lt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const s=t[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Zp(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),i=this.getView(),s=this.frameState_;let l=null;if(n!==void 0&&n_(n)&&i&&i.isDef()){const a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=i.getState();if(l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:af(r.center,r.resolution,r.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:a,wantedTiles:{},mapId:it(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const o=isNaN(r.nextRotation)?r.rotation:r.nextRotation;l.nextExtent=af(r.nextCenter,r.nextResolution,o,n)}}this.frameState_=l,this.renderer_.renderFrame(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s&&(!this.previousExtent_||!qu(this.previousExtent_)&&!rr(l.extent,this.previousExtent_))&&(this.dispatchEvent(new $s(Hn.MOVESTART,this,s)),this.previousExtent_=ju(this.previousExtent_)),this.previousExtent_&&!l.viewHints[re.ANIMATING]&&!l.viewHints[re.INTERACTING]&&!rr(l.extent,this.previousExtent_)&&(this.dispatchEvent(new $s(Hn.MOVEEND,this,l)),Z1(l.extent,this.previousExtent_))),this.dispatchEvent(new $s(Hn.POSTRENDER,this,l)),this.renderComplete_=this.hasListener(Hn.LOADSTART)||this.hasListener(Hn.LOADEND)||this.hasListener(Je.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Ti("removelayer",n)),this.set(ae.LAYERGROUP,t)}setSize(t){this.set(ae.SIZE,t)}setTarget(t){this.set(ae.TARGET,t)}setView(t){if(!t||t instanceof yn){this.set(ae.VIEW,t);return}this.set(ae.VIEW,new yn);const n=this;t.then(function(i){n.setView(new yn(i))})}updateSize(){const t=this.getTargetElement();let n;if(t){const s=getComputedStyle(t),l=t.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),a=t.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(l)&&!isNaN(a)&&(n=[l,a],!n_(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&$1("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!$i(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function wC(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new ea({layers:e.layers});n[ae.LAYERGROUP]=i,n[ae.TARGET]=e.target,n[ae.VIEW]=e.view instanceof yn?e.view:new yn;let s;e.controls!==void 0&&(Array.isArray(e.controls)?s=new hn(e.controls.slice()):(at(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=e.controls));let l;e.interactions!==void 0&&(Array.isArray(e.interactions)?l=new hn(e.interactions.slice()):(at(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),l=e.interactions));let a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new hn(e.overlays.slice()):(at(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=e.overlays):a=new hn,{controls:s,interactions:l,keyboardEventTarget:t,overlays:a,values:n}}const go={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class OC extends Vu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(go.PRELOAD)}setPreload(t){this.set(go.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(go.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(go.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class DC extends zr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t}getFeatures(t){return rt()}getData(t){return null}prepareFrame(t){return rt()}renderFrame(t,n){return rt()}loadedTileCallback(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i}createLoadedTileFinder(t,n,i){return(s,l)=>{const a=this.loadedTileCallback.bind(this,i,s);return t.forEachLoadedTile(n,s,l,a)}}forEachFeatureAtCoordinate(t,n,i,s,l){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===J.LOADED||n.getState()===J.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=J.LOADED&&n!=J.ERROR&&t.addEventListener(V.CHANGE,this.boundHandleImageChange_),n==J.IDLE&&(t.load(),n=t.getState()),n==J.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class kp{constructor(){lg(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(du(),{get:(t,n)=>{if(typeof du()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const l=n[i];if(typeof l=="function"){l(t);continue}const a=n[++i];if(typeof t[l]=="function")t[l](...a);else{if(typeof a=="function"){t[l]=a(t);continue}t[l]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const E_=[];let tl=null;function LC(){tl=ne(1,1,void 0,{willReadFrequently:!0})}class Vp extends DC{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=fn(),this.pixelTransform=fn(),this.inversePixelTransform=fn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,n,i){tl||LC(),tl.clearRect(0,0,1,1);let s;try{tl.drawImage(t,n,i,1,1,0,0,1,1),s=tl.getImageData(0,0,1,1).data}catch{return tl=null,null}return s}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){const s=this.getLayer().getClassName();let l,a;if(t&&t.className===s&&(!i||t&&t.style.backgroundColor&&$i(hr(t.style.backgroundColor),hr(i)))){const r=t.firstElementChild;r instanceof HTMLCanvasElement&&(a=r.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){l=document.createElement("div"),l.className=s;let r=l.style;r.position="absolute",r.width="100%",r.height="100%",a=ne();const o=a.canvas;l.appendChild(o),r=o.style,r.position="absolute",r.left="0",r.transformOrigin="top left",this.container=l,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){const s=Fs(i),l=Zu(i),a=Hu(i),r=Bu(i);Qt(n.coordinateToPixelTransform,s),Qt(n.coordinateToPixelTransform,l),Qt(n.coordinateToPixelTransform,a),Qt(n.coordinateToPixelTransform,r);const o=this.inversePixelTransform;Qt(o,s),Qt(o,l),Qt(o,a),Qt(o,r),t.save(),t.beginPath(),t.moveTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.clip()}prepareContainer(t,n){const i=t.extent,s=t.viewState.resolution,l=t.viewState.rotation,a=t.pixelRatio,r=Math.round(mt(i)/s*a),o=Math.round(ge(i)/s*a);ri(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/a,1/a,l,-r/2,-o/2),lp(this.inversePixelTransform,this.pixelTransform);const u=nx(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(t)),!this.containerReused){const c=this.context.canvas;c.width!=r||c.height!=o?(c.width=r,c.height=o):this.context.clearRect(0,0,r,o),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(t,n,i){const s=this.getLayer();if(s.hasListener(t)){const l=new Up(t,this.inversePixelTransform,i,n);s.dispatchEvent(l)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Je.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Je.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new kp),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Je.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Je.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,s,l,a,r){const o=l/2,u=a/2,c=s/n,h=-c,f=-t[0]+r,d=-t[1];return ri(this.tempTransform,o,u,c,h,-i,f,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Kp extends Xu{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(V.CHANGE)}release(){this.state===Y.ERROR&&this.setState(Y.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==Y.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let n=this;do{if(t.getState()==Y.LOADED){t.interimTile=null;break}t.getState()==Y.LOADING?n=t:t.getState()==Y.IDLE?n.interimTile=t.interimTile:n=t,t=n.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==Y.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){rt()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:sp(s/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}class Pp extends Kp{constructor(t,n,i,s,l,a){super(t,n,a),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=l}getImage(){return this.image_}setImage(t){this.image_=t,this.state=Y.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Y.ERROR,this.unlistenImage_(),this.image_=zC(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Y.LOADED:this.state=Y.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Y.ERROR&&(this.state=Y.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Y.IDLE&&(this.state=Y.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Vx(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function zC(){const e=ne(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const NC=.5,IC=10,S_=.25;class GC{constructor(t,n,i,s,l,a){this.sourceProj_=t,this.targetProj_=n;let r={};const o=hu(this.targetProj_,this.sourceProj_);this.transformInv_=function(g){const y=g[0]+"/"+g[1];return r[y]||(r[y]=o(g)),r[y]},this.maxSourceExtent_=s,this.errorThresholdSquared_=l*l,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&mt(s)>=mt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?mt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?mt(this.targetProj_.getExtent()):null;const u=Fs(i),c=Zu(i),h=Hu(i),f=Bu(i),d=this.transformInv_(u),_=this.transformInv_(c),p=this.transformInv_(h),E=this.transformInv_(f),m=IC+(a?Math.max(0,Math.ceil(Math.log2(lf(i)/(a*a*256*256)))):0);if(this.addQuad_(u,c,h,f,d,_,p,E,m),this.wrapsXInSource_){let g=1/0;this.triangles_.forEach(function(y,v,S){g=Math.min(g,y.source[0][0],y.source[1][0],y.source[2][0])}),this.triangles_.forEach(y=>{if(Math.max(y.source[0][0],y.source[1][0],y.source[2][0])-g>this.sourceWorldWidth_/2){const v=[[y.source[0][0],y.source[0][1]],[y.source[1][0],y.source[1][1]],[y.source[2][0],y.source[2][1]]];v[0][0]-g>this.sourceWorldWidth_/2&&(v[0][0]-=this.sourceWorldWidth_),v[1][0]-g>this.sourceWorldWidth_/2&&(v[1][0]-=this.sourceWorldWidth_),v[2][0]-g>this.sourceWorldWidth_/2&&(v[2][0]-=this.sourceWorldWidth_);const S=Math.min(v[0][0],v[1][0],v[2][0]);Math.max(v[0][0],v[1][0],v[2][0])-S<this.sourceWorldWidth_/2&&(y.source=v)}})}r={}}addTriangle_(t,n,i,s,l,a){this.triangles_.push({source:[s,l,a],target:[t,n,i]})}addQuad_(t,n,i,s,l,a,r,o,u){const c=Xm([l,a,r,o]),h=this.sourceWorldWidth_?mt(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1;let _=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const E=Xm([t,n,i,s]);_=mt(E)/this.targetWorldWidth_>S_||_}!d&&this.sourceProj_.isGlobal()&&h&&(_=h>S_||_)}if(!_&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Se(c,this.maxSourceExtent_))return;let p=0;if(!_&&(!isFinite(l[0])||!isFinite(l[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1]))){if(u>0)_=!0;else if(p=(!isFinite(l[0])||!isFinite(l[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(r[0])||!isFinite(r[1])?2:0)+(!isFinite(o[0])||!isFinite(o[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(u>0){if(!_){const E=[(t[0]+i[0])/2,(t[1]+i[1])/2],m=this.transformInv_(E);let g;d?g=(Cl(l[0],f)+Cl(r[0],f))/2-Cl(m[0],f):g=(l[0]+r[0])/2-m[0];const y=(l[1]+r[1])/2-m[1];_=g*g+y*y>this.errorThresholdSquared_}if(_){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const E=[(n[0]+i[0])/2,(n[1]+i[1])/2],m=this.transformInv_(E),g=[(s[0]+t[0])/2,(s[1]+t[1])/2],y=this.transformInv_(g);this.addQuad_(t,n,E,g,l,a,m,y,u-1),this.addQuad_(g,E,i,s,y,m,r,o,u-1)}else{const E=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(E),g=[(i[0]+s[0])/2,(i[1]+s[1])/2],y=this.transformInv_(g);this.addQuad_(t,E,g,s,l,m,y,o,u-1),this.addQuad_(E,n,i,g,m,a,r,y,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(t,i,s,l,r,o),p&14||this.addTriangle_(t,i,n,l,r,a),p&&(p&13||this.addTriangle_(n,s,t,a,o,l),p&7||this.addTriangle_(n,s,i,a,o,r))}calculateSourceExtent(){const t=sn();return this.triangles_.forEach(function(n,i,s){const l=n.source;Ha(t,l[0]),Ha(t,l[1]),Ha(t,l[2])}),t}getTriangles(){return this.triangles_}}let eh;const bl=[];function x_(e,t,n,i,s){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,s),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,s)),e.restore()}function nh(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function FC(){if(eh===void 0){const e=ne(6,6,bl);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",x_(e,4,5,4,0),x_(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;eh=nh(t,0)||nh(t,4)||nh(t,8),Pu(e),bl.push(e.canvas)}return eh}function T_(e,t,n,i){const s=np(n,t,e);let l=Bm(t,i,n);const a=t.getMetersPerUnit();a!==void 0&&(l*=a);const r=e.getMetersPerUnit();r!==void 0&&(l/=r);const o=e.getExtent();if(!o||jl(o,s)){const u=Bm(e,l,s)/l;isFinite(u)&&u>0&&(l/=u)}return l}function UC(e,t,n,i){const s=Os(n);let l=T_(e,t,s,i);return(!isFinite(l)||l<=0)&&P1(n,function(a){return l=T_(e,t,a,i),isFinite(l)&&l>0}),l}function YC(e,t,n,i,s,l,a,r,o,u,c,h,f,d){const _=ne(Math.round(n*e),Math.round(n*t),bl);if(h||(_.imageSmoothingEnabled=!1),o.length===0)return _.canvas;_.scale(n,n);function p(S){return Math.round(S*n)/n}_.globalCompositeOperation="lighter";const E=sn();o.forEach(function(S,b,x){NS(E,S.extent)});let m;const g=n/i,y=(h?1:1+Math.pow(2,-24))/g;m=ne(Math.round(mt(E)*g),Math.round(ge(E)*g),bl),h||(m.imageSmoothingEnabled=!1),o.forEach(function(S,b,x){if(S.image.width>0&&S.image.height>0){if(S.clipExtent){m.save();const I=(S.clipExtent[0]-E[0])*g,B=-(S.clipExtent[3]-E[3])*g,j=mt(S.clipExtent)*g,H=ge(S.clipExtent)*g;m.rect(h?I:Math.round(I),h?B:Math.round(B),h?j:Math.round(I+j)-Math.round(I),h?H:Math.round(B+H)-Math.round(B)),m.clip()}const C=(S.extent[0]-E[0])*g,R=-(S.extent[3]-E[3])*g,D=mt(S.extent)*g,N=ge(S.extent)*g;m.drawImage(S.image,u,u,S.image.width-2*u,S.image.height-2*u,h?C:Math.round(C),h?R:Math.round(R),h?D:Math.round(C+D)-Math.round(C),h?N:Math.round(R+N)-Math.round(R)),S.clipExtent&&m.restore()}});const v=Fs(a);return r.getTriangles().forEach(function(S,b,x){const C=S.source,R=S.target;let D=C[0][0],N=C[0][1],I=C[1][0],B=C[1][1],j=C[2][0],H=C[2][1];const T=p((R[0][0]-v[0])/l),z=p(-(R[0][1]-v[1])/l),L=p((R[1][0]-v[0])/l),Z=p(-(R[1][1]-v[1])/l),G=p((R[2][0]-v[0])/l),Q=p(-(R[2][1]-v[1])/l),P=D,ct=N;D=0,N=0,I-=P,B-=ct,j-=P,H-=ct;const O=[[I,B,0,0,L-T],[j,H,0,0,G-T],[0,0,I,B,Z-z],[0,0,j,H,Q-z]],zt=TS(O);if(!zt)return;if(_.save(),_.beginPath(),FC()||!h){_.moveTo(L,Z);const Nt=4,an=T-L,ts=z-Z;for(let ce=0;ce<Nt;ce++)_.lineTo(L+p((ce+1)*an/Nt),Z+p(ce*ts/(Nt-1))),ce!=Nt-1&&_.lineTo(L+p((ce+1)*an/Nt),Z+p((ce+1)*ts/(Nt-1)));_.lineTo(G,Q)}else _.moveTo(L,Z),_.lineTo(T,z),_.lineTo(G,Q);_.clip(),_.transform(zt[0],zt[2],zt[1],zt[3],T,z),_.translate(E[0]-P,E[3]-ct);let ie;if(m)ie=m.canvas,_.scale(y,-y);else{const Nt=o[0],an=Nt.extent;ie=Nt.image,_.scale(mt(an)/ie.width,-ge(an)/ie.height)}_.drawImage(ie,0,0),_.restore()}),m&&(Pu(m),bl.push(m.canvas)),c&&(_.save(),_.globalCompositeOperation="source-over",_.strokeStyle="black",_.lineWidth=1,r.getTriangles().forEach(function(S,b,x){const C=S.target,R=(C[0][0]-v[0])/l,D=-(C[0][1]-v[1])/l,N=(C[1][0]-v[0])/l,I=-(C[1][1]-v[1])/l,B=(C[2][0]-v[0])/l,j=-(C[2][1]-v[1])/l;_.beginPath(),_.moveTo(N,I),_.lineTo(R,D),_.lineTo(B,j),_.closePath(),_.stroke()}),_.restore()),_.canvas}class _f extends Kp{constructor(t,n,i,s,l,a,r,o,u,c,h,f){super(l,Y.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=r,this.gutter_=o,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=a||l,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const d=s.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const E=_?Za(d,_):d;if(lf(E)===0){this.state=Y.EMPTY;return}const m=t.getExtent();m&&(p?p=Za(p,m):p=m);const g=s.getResolution(this.wrappedTileCoord_[0]),y=UC(t,i,E,g);if(!isFinite(y)||y<=0){this.state=Y.EMPTY;return}const v=c!==void 0?c:NC;if(this.triangulation_=new GC(t,i,E,p,y*v,g),this.triangulation_.getTriangles().length===0){this.state=Y.EMPTY;return}this.sourceZ_=n.getZForResolution(y);let S=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(S[1]=Yt(S[1],p[1],p[3]),S[3]=Yt(S[3],p[1],p[3])):S=Za(S,p)),!lf(S))this.state=Y.EMPTY;else{let b=0,x=0;t.canWrapX()&&(b=mt(m),x=Math.floor((S[0]-m[0])/b)),Q1(S.slice(),t,!0).forEach(R=>{const D=n.getTileRangeForExtentAndZ(R,this.sourceZ_);for(let N=D.minX;N<=D.maxX;N++)for(let I=D.minY;I<=D.maxY;I++){const B=u(this.sourceZ_,N,I,r);if(B){const j=x*b;this.sourceTiles_.push({tile:B,offset:j})}}++x}),this.sourceTiles_.length===0&&(this.state=Y.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var s;const i=n.tile;if(i&&i.getState()==Y.LOADED){const l=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);l[0]+=n.offset,l[2]+=n.offset;const a=(s=this.clipExtent_)==null?void 0:s.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),t.push({extent:l,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=Y.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],l=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),r=this.sourceTileGrid_.getResolution(this.sourceZ_),o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=YC(s,l,this.pixelRatio_,r,this.sourceTileGrid_.getExtent(),a,o,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Y.LOADED}this.changed()}load(){if(this.state==Y.IDLE){this.state=Y.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Y.IDLE||i==Y.LOADING){t++;const s=lt(n,V.CHANGE,function(l){const a=n.getState();(a==Y.LOADED||a==Y.ERROR||a==Y.EMPTY)&&(Tt(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==Y.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Tt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Pu(this.canvas_.getContext("2d")),bl.push(this.canvas_),this.canvas_=null),super.release()}}class Kd{constructor(t,n,i,s){this.minX=t,this.maxX=n,this.minY=i,this.maxY=s}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Zs(e,t,n,i,s){return s!==void 0?(s.minX=e,s.maxX=t,s.minY=n,s.maxY=i,s):new Kd(e,t,n,i)}class XC extends Vp{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=sn(),this.tmpTileRange_=new Kd(0,0,0,0)}isDrawableTile(t){const n=this.getLayer(),i=t.getState(),s=n.getUseInterimTilesOnError();return i==Y.LOADED||i==Y.EMPTY||i==Y.ERROR&&!s}getTile(t,n,i,s){const l=s.pixelRatio,a=s.viewState.projection,r=this.getLayer();let u=r.getSource().getTile(t,n,i,l,a);return u.getState()==Y.ERROR&&r.getUseInterimTilesOnError()&&r.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(t){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=Qt(n.pixelToCoordinateTransform,t.slice()),l=i.getExtent();if(l&&!jl(l,s))return null;const a=n.pixelRatio,r=n.viewState.projection,o=n.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(o.projection),h=u.getTilePixelRatio(n.pixelRatio);for(let f=c.getZForResolution(o.resolution);f>=c.getMinZoom();--f){const d=c.getTileCoordForCoordAndZ(s,f),_=u.getTile(f,d[1],d[2],a,r);if(!(_ instanceof Pp||_ instanceof _f)||_ instanceof _f&&_.getState()===Y.EMPTY)return null;if(_.getState()!==Y.LOADED)continue;const p=c.getOrigin(f),E=De(c.getTileSize(f)),m=c.getResolution(f),g=Math.floor(h*((s[0]-p[0])/m-d[1]*E[0])),y=Math.floor(h*((p[1]-s[1])/m-d[2]*E[1])),v=Math.round(h*u.getGutterForProjection(o.projection));return this.getImageData(_.getImage(),g+v,y+v)}return null}loadedTileCallback(t,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(t,n,i):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const i=t.layerStatesArray[t.layerIndex],s=t.viewState,l=s.projection,a=s.resolution,r=s.center,o=s.rotation,u=t.pixelRatio,c=this.getLayer(),h=c.getSource(),f=h.getRevision(),d=h.getTileGridForProjection(l),_=d.getZForResolution(a,h.zDirection),p=d.getResolution(_);let E=t.extent;const m=t.viewState.resolution,g=h.getTilePixelRatio(u);this.prepareContainer(t,n);const y=this.context.canvas.width,v=this.context.canvas.height,S=i.extent&&gs(i.extent);S&&(E=Za(E,gs(i.extent)));const b=p*y/2/g,x=p*v/2/g,C=[r[0]-b,r[1]-x,r[0]+b,r[1]+x],R=d.getTileRangeForExtentAndZ(E,_),D={};D[_]={};const N=this.createLoadedTileFinder(h,l,D),I=this.tmpExtent,B=this.tmpTileRange_;this.newTiles_=!1;const j=o?rf(s.center,m,o,t.size):void 0;for(let Q=R.minX;Q<=R.maxX;++Q)for(let P=R.minY;P<=R.maxY;++P){if(o&&!d.tileCoordIntersectsViewport([_,Q,P],j))continue;const ct=this.getTile(_,Q,P,t);if(this.isDrawableTile(ct)){const ie=it(this);if(ct.getState()==Y.LOADED){D[_][ct.tileCoord.toString()]=ct;let Nt=ct.inTransition(ie);Nt&&i.opacity!==1&&(ct.endTransition(ie),Nt=!1),!this.newTiles_&&(Nt||!this.renderedTiles.includes(ct))&&(this.newTiles_=!0)}if(ct.getAlpha(ie,t.time)===1)continue}const O=d.getTileCoordChildTileRange(ct.tileCoord,B,I);let zt=!1;O&&(zt=N(_+1,O)),zt||d.forEachTileCoordParentTileRange(ct.tileCoord,N,B,I)}const H=p/a*u/g,T=this.getRenderContext(t);ri(this.tempTransform,y/2,v/2,H,H,0,-y/2,-v/2),S&&this.clipUnrotated(T,t,S),h.getInterpolate()||(T.imageSmoothingEnabled=!1),this.preRender(T,t),this.renderedTiles.length=0;let z=Object.keys(D).map(Number);z.sort($n);let L,Z,G;i.opacity===1&&(!this.containerReused||h.getOpaque(t.viewState.projection))?z=z.reverse():(L=[],Z=[]);for(let Q=z.length-1;Q>=0;--Q){const P=z[Q],ct=h.getTilePixelSize(P,u,l),zt=d.getResolution(P)/p,ie=ct[0]*zt*H,Nt=ct[1]*zt*H,an=d.getTileCoordForCoordAndZ(Fs(C),P),ts=d.getTileCoordExtent(an),ce=Qt(this.tempTransform,[g*(ts[0]-C[0])/p,g*(C[3]-ts[3])/p]),Xr=g*h.getGutterForProjection(l),ia=D[P];for(const nc in ia){const ci=ia[nc],sa=ci.tileCoord,hi=an[1]-sa[1],la=Math.round(ce[0]-(hi-1)*ie),jr=an[2]-sa[2],ic=Math.round(ce[1]-(jr-1)*Nt),rn=Math.round(ce[0]-hi*ie),Ue=Math.round(ce[1]-jr*Nt),On=la-rn,es=ic-Ue,ns=_===P,fi=ns&&ci.getAlpha(it(this),t.time)!==1;let is=!1;if(!fi)if(L){G=[rn,Ue,rn+On,Ue,rn+On,Ue+es,rn,Ue+es];for(let di=0,Ys=L.length;di<Ys;++di)if(_!==P&&P<Z[di]){const Pt=L[di];Se([rn,Ue,rn+On,Ue+es],[Pt[0],Pt[3],Pt[4],Pt[7]])&&(is||(T.save(),is=!0),T.beginPath(),T.moveTo(G[0],G[1]),T.lineTo(G[2],G[3]),T.lineTo(G[4],G[5]),T.lineTo(G[6],G[7]),T.moveTo(Pt[6],Pt[7]),T.lineTo(Pt[4],Pt[5]),T.lineTo(Pt[2],Pt[3]),T.lineTo(Pt[0],Pt[1]),T.clip())}L.push(G),Z.push(P)}else T.clearRect(rn,Ue,On,es);this.drawTileImage(ci,t,rn,Ue,On,es,Xr,ns),L&&!fi?(is&&T.restore(),this.renderedTiles.unshift(ci)):this.renderedTiles.push(ci),this.updateUsedTiles(t.usedTiles,h,ci)}}return this.renderedRevision=f,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!rr(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=u,this.renderedProjection=l,this.manageTilePyramid(t,h,d,u,l,E,_,c.getPreload()),this.scheduleExpireCache(t,h),this.postRender(this.context,t),i.extent&&T.restore(),T.imageSmoothingEnabled=!0,this.container}drawTileImage(t,n,i,s,l,a,r,o){const u=this.getTileImage(t);if(!u)return;const c=this.getRenderContext(n),h=it(this),f=n.layerStatesArray[n.layerIndex],d=f.opacity*(o?t.getAlpha(h,n.time):1),_=d!==c.globalAlpha;_&&(c.save(),c.globalAlpha=d),c.drawImage(u,r,r,u.width-2*r,u.height-2*r,i,s,l,a),_&&c.restore(),d!==f.opacity?n.animate=!0:o&&t.endTransition(h)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,n){if(n.canExpireCache()){const i=(function(s,l,a){const r=it(s);r in a.usedTiles&&s.expireCache(a.viewState.projection,a.usedTiles[r])}).bind(null,n);t.postRenderFunctions.push(i)}}updateUsedTiles(t,n,i){const s=it(n);s in t||(t[s]={}),t[s][i.getKey()]=!0}manageTilePyramid(t,n,i,s,l,a,r,o,u){const c=it(n);c in t.wantedTiles||(t.wantedTiles[c]={});const h=t.wantedTiles[c],f=t.tileQueue,d=i.getMinZoom(),_=t.viewState.rotation,p=_?rf(t.viewState.center,t.viewState.resolution,_,t.size):void 0;let E=0,m,g,y,v,S,b;for(b=d;b<=r;++b)for(g=i.getTileRangeForExtentAndZ(a,b,g),y=i.getResolution(b),v=g.minX;v<=g.maxX;++v)for(S=g.minY;S<=g.maxY;++S)_&&!i.tileCoordIntersectsViewport([b,v,S],p)||(r-b<=o?(++E,m=n.getTile(b,v,S,s,l),m.getState()==Y.IDLE&&(h[m.getKey()]=!0,f.isKeyQueued(m.getKey())||f.enqueue([m,c,i.getTileCoordCenter(m.tileCoord),y])),u!==void 0&&u(m)):n.useTile(b,v,S,l));n.updateCacheSize(E,l)}}class jC extends OC{constructor(t){super(t)}createRenderer(){return new XC(this)}}class BC{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const i=this.entries_[t];return at(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const n=this.entries_[t];return at(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){at(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}function C_(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function ec(e,t,n){return e+"/"+t+"/"+n}function Wp(e){return ec(e[0],e[1],e[2])}function HC(e){return e.split("/").map(Number)}function ZC(e){return(e[1]<<e[0])+e[2]}function qC(e,t){const n=e[0],i=e[1],s=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const l=t.getFullTileRange(n);return l?l.containsXY(i,s):!0}class Qp extends BC{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),i=HC(t)[0];this.forEach(s=>{s.tileCoord[0]!==i&&(this.remove(Wp(s.tileCoord)),s.release())})}}const ih={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Jp extends mn{constructor(t){super(),this.projection=ln(t.projection),this.attributions_=R_(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=R_(t),this.changed()}setState(t){this.state_=t,this.changed()}}function R_(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const qs=[0,0,0],_i=5;class $p{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,at(pS(this.resolutions_,(s,l)=>l-s),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let s=0,l=this.resolutions_.length-1;s<l;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,at(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Fs(i)),at(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,at(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:xd,at(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((s,l)=>{const a=new Kd(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const r=this.getTileRangeForExtentAndZ(i,l);a.minX=Math.max(r.minX,a.minX),a.maxX=Math.min(r.maxX,a.maxX),a.minY=Math.max(r.minY,a.minY),a.maxY=Math.min(r.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){const s=this.getTileRangeForExtentAndZ(t,n);for(let l=s.minX,a=s.maxX;l<=a;++l)for(let r=s.minY,o=s.maxY;r<=o;++r)i([n,l,r])}forEachTileCoordParentTileRange(t,n,i,s){let l,a,r,o=null,u=t[0]-1;for(this.zoomFactor_===2?(a=t[1],r=t[2]):o=this.getTileCoordExtent(t,s);u>=this.minZoom;){if(a!==void 0&&r!==void 0?(a=Math.floor(a/2),r=Math.floor(r/2),l=Zs(a,a,r,r,i)):l=this.getTileRangeForExtentAndZ(o,u,i),n(u,l))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const l=t[1]*2,a=t[2]*2;return Zs(l,l+1,a,a+1,n)}const s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=t[0],l=t[1],a=t[2];if(n===s)return Zs(l,a,l,a,i);if(this.zoomFactor_){const o=Math.pow(this.zoomFactor_,n-s),u=Math.floor(l*o),c=Math.floor(a*o);if(n<s)return Zs(u,u,c,c,i);const h=Math.floor(o*(l+1))-1,f=Math.floor(o*(a+1))-1;return Zs(u,h,c,f,i)}const r=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,qs);const s=qs[1],l=qs[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,qs);const a=qs[1],r=qs[2];return Zs(s,a,l,r,i)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),s=De(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*s[0]*i,n[1]-(t[2]+.5)*s[1]*i]}getTileCoordExtent(t,n){const i=this.getOrigin(t[0]),s=this.getResolution(t[0]),l=De(this.getTileSize(t[0]),this.tmpSize_),a=i[0]+t[1]*l[0]*s,r=i[1]-(t[2]+1)*l[1]*s,o=a+l[0]*s,u=r+l[1]*s;return Pi(a,r,o,u,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,s,l){const a=this.getZForResolution(i),r=i/this.getResolution(a),o=this.getOrigin(a),u=De(this.getTileSize(a),this.tmpSize_);let c=r*(t-o[0])/i/u[0],h=r*(o[1]-n)/i/u[1];return s?(c=ao(c,_i)-1,h=ao(h,_i)-1):(c=lo(c,_i),h=lo(h,_i)),C_(a,c,h,l)}getTileCoordForXYAndZ_(t,n,i,s,l){const a=this.getOrigin(i),r=this.getResolution(i),o=De(this.getTileSize(i),this.tmpSize_);let u=(t-a[0])/r/o[0],c=(a[1]-n)/r/o[1];return s?(u=ao(u,_i)-1,c=ao(c,_i)-1):(u=lo(u,_i),c=lo(c,_i)),C_(i,u,c,l)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const i=Ed(this.resolutions_,t,n||0);return Yt(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return gp(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(t,s);this.fullTileRanges_=i}}function tv(e){let t=e.getDefaultTileGrid();return t||(t=PC(e),e.setDefaultTileGrid(t)),t}function kC(e,t,n){const i=t[0],s=e.getTileCoordCenter(t),l=Pd(n);if(!jl(l,s)){const a=mt(l),r=Math.ceil((l[0]-s[0])/a);return s[0]+=a*r,e.getTileCoordForCoordAndZ(s,i)}return t}function VC(e,t,n,i){i=i!==void 0?i:"top-left";const s=ev(e,t,n);return new $p({extent:e,origin:GS(e,i),resolutions:s,tileSize:n})}function KC(e){const t=e||{},n=t.extent||ln("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:ev(n,t.maxZoom,t.tileSize,t.maxResolution)};return new $p(i)}function ev(e,t,n,i){t=t!==void 0?t:CS,n=De(n!==void 0?n:xd);const s=ge(e),l=mt(e);i=i>0?i:Math.max(l/n[0],s/n[1]);const a=t+1,r=new Array(a);for(let o=0;o<a;++o)r[o]=i/Math.pow(2,o);return r}function PC(e,t,n,i){const s=Pd(e);return VC(s,t,n,i)}function Pd(e){e=ln(e);let t=e.getExtent();if(!t){const n=180*Td.degrees/e.getMetersPerUnit();t=Pi(-n,-n,n,n)}return t}class WC extends Jp{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&De(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Qp(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,n){const i=this.getTileCacheForProjection(t);i&&i.expireCache(n)}forEachLoadedTile(t,n,i,s){const l=this.getTileCacheForProjection(t);if(!l)return!1;let a=!0,r,o,u;for(let c=i.minX;c<=i.maxX;++c)for(let h=i.minY;h<=i.maxY;++h)o=ec(n,c,h),u=!1,l.containsKey(o)&&(r=l.get(o),u=r.getState()===Y.LOADED,u&&(u=s(r)!==!1)),u||(a=!1);return a}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,s,l){return rt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:tv(t)}getTileCacheForProjection(t){const n=this.getProjection();return at(n===null||Ws(n,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){const s=this.getTileGridForProjection(i),l=this.getTilePixelRatio(n),a=De(s.getTileSize(t),this.tmpSize);return l==1?a:zx(a,l,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=kC(i,t,n)),qC(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,n){const i=this.getTileCacheForProjection(n);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,n,i,s){}}class QC extends wn{constructor(t,n){super(t),this.tile=n}}function JC(e,t){const n=/\{z\}/g,i=/\{x\}/g,s=/\{y\}/g,l=/\{-y\}/g;return function(a,r,o){if(a)return e.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(s,a[2].toString()).replace(l,function(){const u=a[0],c=t.getFullTileRange(u);if(!c)throw new Error("The {-y} placeholder requires a tile grid with extent");return(c.getHeight()-a[2]-1).toString()})}}function $C(e,t){const n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=JC(e[s],t);return tR(i)}function tR(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;const s=ZC(t),l=Cl(s,e.length);return e[l](t,n,i)}}function eR(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let l;for(l=i;l<=s;++l)t.push(e.replace(n[0],String.fromCharCode(l)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}class Wd extends WC{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Wd.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,i=it(n),s=n.getState();let l;s==Y.LOADING?(this.tileLoadingKeys_[i]=!0,l=ih.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],l=s==Y.ERROR?ih.TILELOADERROR:s==Y.LOADED?ih.TILELOADEND:void 0),l!=null&&this.dispatchEvent(new QC(l,n))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=eR(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction($C(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}useTile(t,n,i){const s=ec(t,n,i);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}class nR extends Wd{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:iR,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:Pp,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,n){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?n:{});for(const s in this.tileCacheForProjection){const l=this.tileCacheForProjection[s];l.expireCache(l==i?n:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Ws(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!Ws(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Ws(n,t)))return this.tileGrid;const i=it(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=tv(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||Ws(n,t))return this.tileCache;const i=it(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Qp(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,n,i,s,l,a){const r=[t,n,i],o=this.getTileCoordForTileUrlFunction(r,l),u=o?this.tileUrlFunction(o,s,l):void 0,c=new this.tileClass(r,u!==void 0?Y.IDLE:Y.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener(V.CHANGE,this.handleTileChange.bind(this)),c}getTile(t,n,i,s,l){const a=this.getProjection();if(!a||!l||Ws(a,l))return this.getTileInternal(t,n,i,s,a||l);const r=this.getTileCacheForProjection(l),o=[t,n,i];let u;const c=Wp(o);r.containsKey(c)&&(u=r.get(c));const h=this.getKey();if(u&&u.key==h)return u;const f=this.getTileGridForProjection(a),d=this.getTileGridForProjection(l),_=this.getTileCoordForTileUrlFunction(o,l),p=new _f(a,f,l,d,o,_,this.getTilePixelRatio(s),this.getGutter(),(E,m,g,y)=>this.getTileInternal(E,m,g,y,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=h,u?(p.interimTile=u,p.refreshInterimChain(),r.replace(c,p)):r.set(c,p),p}getTileInternal(t,n,i,s,l){let a=null;const r=ec(t,n,i),o=this.getKey();if(!this.tileCache.containsKey(r))a=this.createTile_(t,n,i,s,l,o),this.tileCache.set(r,a);else if(a=this.tileCache.get(r),a.key!=o){const u=a;a=this.createTile_(t,n,i,s,l,o),u.getState()==Y.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(r,a)}return a}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(t,n){const i=ln(t);if(i){const s=it(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function iR(e,t){e.getImage().src=t}class sR extends nR{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:KC({extent:Pd(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const lR='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class aR extends sR{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[lR];const i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",s=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:s,wrapX:t.wrapX,zDirection:t.zDirection})}}class vr extends mn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new vr(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Tt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=lt(t,V.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?rR(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function rR(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(at(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}function b_(e,t,n,i,s,l,a){let r,o;const u=(n-t)/i;if(u===1)r=t;else if(u===2)r=t,o=s;else if(u!==0){let c=e[t],h=e[t+1],f=0;const d=[0];for(let E=t+i;E<n;E+=i){const m=e[E],g=e[E+1];f+=Math.sqrt((m-c)*(m-c)+(g-h)*(g-h)),d.push(f),c=m,h=g}const _=s*f,p=_S(d,_);p<0?(o=(_-d[-p-2])/(d[-p-1]-d[-p-2]),r=t+(-p-2)*i):r=t+p*i}a=a>1?a:2,l=l||new Array(a);for(let c=0;c<a;++c)l[c]=r===void 0?NaN:o===void 0?e[r+c]:Ke(e[r+c],e[r+i+c],o);return l}function oR(e,t,n,i){let s=e[t],l=e[t+1],a=0;for(let r=t+i;r<n;r+=i){const o=e[r],u=e[r+1];a+=Math.sqrt((o-s)*(o-s)+(u-l)*(u-l)),s=o,l=u}return a}const U={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},mo=[U.FILL],Ni=[U.STROKE],ys=[U.BEGIN_PATH],A_=[U.CLOSE_PATH];class nv{drawCustom(t,n,i,s,l){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}class Yr extends nv{constructor(t,n,i,s){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,l=this.coordinates;let a=l.length;for(let r=0,o=t.length;r<o;r+=n)s[0]=t[r],s[1]=t[r+1],jl(i,s)&&(l[a++]=s[0],l[a++]=s[1]);return a}appendFlatLineCoordinates(t,n,i,s,l,a){const r=this.coordinates;let o=r.length;const u=this.getBufferedMaxExtent();a&&(n+=s);let c=t[n],h=t[n+1];const f=this.tmpCoordinate_;let d=!0,_,p,E;for(_=n+s;_<i;_+=s)f[0]=t[_],f[1]=t[_+1],E=sf(u,f),E!==p?(d&&(r[o++]=c,r[o++]=h,d=!1),r[o++]=f[0],r[o++]=f[1]):E===Ht.INTERSECTING?(r[o++]=f[0],r[o++]=f[1],d=!1):d=!0,c=f[0],h=f[1],p=E;return(l&&d||_===n+s)&&(r[o++]=c,r[o++]=h),o}drawCustomCoordinates_(t,n,i,s,l){for(let a=0,r=i.length;a<r;++a){const o=i[a],u=this.appendFlatLineCoordinates(t,n,o,s,!1,!1);l.push(u),n=o}return n}drawCustom(t,n,i,s,l){this.beginGeometry(t,n,l);const a=t.getType(),r=t.getStride(),o=this.coordinates.length;let u,c,h,f,d;switch(a){case"MultiPolygon":u=t.getOrientedFlatCoordinates(),f=[];const _=t.getEndss();d=0;for(let p=0,E=_.length;p<E;++p){const m=[];d=this.drawCustomCoordinates_(u,d,_[p],r,m),f.push(m)}this.instructions.push([U.CUSTOM,o,f,t,i,Jm,l]),this.hitDetectionInstructions.push([U.CUSTOM,o,f,t,s||i,Jm,l]);break;case"Polygon":case"MultiLineString":h=[],u=a=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(u,0,t.getEnds(),r,h),this.instructions.push([U.CUSTOM,o,h,t,i,fu,l]),this.hitDetectionInstructions.push([U.CUSTOM,o,h,t,s||i,fu,l]);break;case"LineString":case"Circle":u=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(u,0,u.length,r,!1,!1),this.instructions.push([U.CUSTOM,o,c,t,i,gl,l]),this.hitDetectionInstructions.push([U.CUSTOM,o,c,t,s||i,gl,l]);break;case"MultiPoint":u=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(u,r),c>o&&(this.instructions.push([U.CUSTOM,o,c,t,i,gl,l]),this.hitDetectionInstructions.push([U.CUSTOM,o,c,t,s||i,gl,l]));break;case"Point":u=t.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),c=this.coordinates.length,this.instructions.push([U.CUSTOM,o,c,t,i,void 0,l]),this.hitDetectionInstructions.push([U.CUSTOM,o,c,t,s||i,void 0,l]);break}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[U.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[U.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const i=t.length;let s,l,a=-1;for(n=0;n<i;++n)s=t[n],l=s[0],l==U.END_GEOMETRY?a=n:l==U.BEGIN_GEOMETRY&&(s[2]=n,yS(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(t,n){const i=this.state;if(t){const s=t.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=Tn(s||Ee)}else i.fillStyle=void 0;if(n){const s=n.getColor();i.strokeStyle=Tn(s||dr);const l=n.getLineCap();i.lineCap=l!==void 0?l:Bl;const a=n.getLineDash();i.lineDash=a?a.slice():ti;const r=n.getLineDashOffset();i.lineDashOffset=r||ei;const o=n.getLineJoin();i.lineJoin=o!==void 0?o:Hl;const u=n.getWidth();i.lineWidth=u!==void 0?u:mr;const c=n.getMiterLimit();i.miterLimit=c!==void 0?c:fr,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const n=t.fillStyle,i=[U.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[U.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){const i=t.strokeStyle,s=t.lineCap,l=t.lineDash,a=t.lineDashOffset,r=t.lineJoin,o=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=s||l!=t.currentLineDash&&!$i(t.currentLineDash,l)||t.currentLineDashOffset!=a||t.currentLineJoin!=r||t.currentLineWidth!=o||t.currentMiterLimit!=u)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=s,t.currentLineDash=l,t.currentLineDashOffset=a,t.currentLineJoin=r,t.currentLineWidth=o,t.currentMiterLimit=u)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[U.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Z1(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Cd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class uR extends Yr{constructor(t,n,i,s){super(t,n,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!jl(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);const s=t.getFlatCoordinates(),l=t.getStride(),a=this.coordinates.length,r=this.appendFlatPointCoordinates(s,l);this.instructions.push([U.DRAW_IMAGE,a,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,a,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);const s=t.getFlatCoordinates(),l=[];for(let o=0,u=s.length;o<u;o+=t.getStride())(!this.maxExtent||jl(this.maxExtent,s.slice(o,o+2)))&&l.push(s[o],s[o+1]);const a=this.coordinates.length,r=this.appendFlatPointCoordinates(l,2);this.instructions.push([U.DRAW_IMAGE,a,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,a,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const i=t.getAnchor(),s=t.getSize(),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=l[0],this.originY_=l[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class cR extends Yr{constructor(t,n,i,s){super(t,n,i,s)}drawFlatCoordinates_(t,n,i,s){const l=this.coordinates.length,a=this.appendFlatLineCoordinates(t,n,i,s,!1,!1),r=[U.MOVE_TO_LINE_TO,l,a];return this.instructions.push(r),this.hitDetectionInstructions.push(r),i}drawLineString(t,n,i){const s=this.state,l=s.strokeStyle,a=s.lineWidth;if(l===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,ti,ei],ys);const r=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(r,0,r.length,o),this.hitDetectionInstructions.push(Ni),this.endGeometry(n)}drawMultiLineString(t,n,i){const s=this.state,l=s.strokeStyle,a=s.lineWidth;if(l===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,ti,ei],ys);const r=t.getEnds(),o=t.getFlatCoordinates(),u=t.getStride();let c=0;for(let h=0,f=r.length;h<f;++h)c=this.drawFlatCoordinates_(o,c,r[h],u);this.hitDetectionInstructions.push(Ni),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Ni),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Ni),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(ys)}}class M_ extends Yr{constructor(t,n,i,s){super(t,n,i,s)}drawFlatCoordinatess_(t,n,i,s){const l=this.state,a=l.fillStyle!==void 0,r=l.strokeStyle!==void 0,o=i.length;this.instructions.push(ys),this.hitDetectionInstructions.push(ys);for(let u=0;u<o;++u){const c=i[u],h=this.coordinates.length,f=this.appendFlatLineCoordinates(t,n,c,s,!0,!r),d=[U.MOVE_TO_LINE_TO,h,f];this.instructions.push(d),this.hitDetectionInstructions.push(d),r&&(this.instructions.push(A_),this.hitDetectionInstructions.push(A_)),n=c}return a&&(this.instructions.push(mo),this.hitDetectionInstructions.push(mo)),r&&(this.instructions.push(Ni),this.hitDetectionInstructions.push(Ni)),n}drawCircle(t,n,i){const s=this.state,l=s.fillStyle,a=s.strokeStyle;if(l===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Ee]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,ti,ei]);const r=t.getFlatCoordinates(),o=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,o,!1,!1);const c=[U.CIRCLE,u];this.instructions.push(ys,c),this.hitDetectionInstructions.push(ys,c),s.fillStyle!==void 0&&(this.instructions.push(mo),this.hitDetectionInstructions.push(mo)),s.strokeStyle!==void 0&&(this.instructions.push(Ni),this.hitDetectionInstructions.push(Ni)),this.endGeometry(n)}drawPolygon(t,n,i){const s=this.state,l=s.fillStyle,a=s.strokeStyle;if(l===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Ee]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,ti,ei]);const r=t.getEnds(),o=t.getOrientedFlatCoordinates(),u=t.getStride();this.drawFlatCoordinatess_(o,0,r,u),this.endGeometry(n)}drawMultiPolygon(t,n,i){const s=this.state,l=s.fillStyle,a=s.strokeStyle;if(l===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Ee]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,ti,ei]);const r=t.getEndss(),o=t.getOrientedFlatCoordinates(),u=t.getStride();let c=0;for(let h=0,f=r.length;h<f;++h)c=this.drawFlatCoordinatess_(o,c,r[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=fs(n[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function hR(e,t,n,i,s){const l=[];let a=n,r=0,o=t.slice(n,2);for(;r<e&&a+s<i;){const[u,c]=o.slice(-2),h=t[a+s],f=t[a+s+1],d=Math.sqrt((h-u)*(h-u)+(f-c)*(f-c));if(r+=d,r>=e){const _=(e-r+d)/d,p=Ke(u,h,_),E=Ke(c,f,_);o.push(p,E),l.push(o),o=[p,E],r==e&&(a+=s),r=0}else if(r<e)o.push(t[a+s],t[a+s+1]),a+=s;else{const _=d-r,p=Ke(u,h,_/d),E=Ke(c,f,_/d);o.push(p,E),l.push(o),o=[p,E],r=0,a+=s}}return r>0&&l.push(o),l}function fR(e,t,n,i,s){let l=n,a=n,r=0,o=0,u=n,c,h,f,d,_,p,E,m,g,y;for(h=n;h<i;h+=s){const v=t[h],S=t[h+1];_!==void 0&&(g=v-_,y=S-p,d=Math.sqrt(g*g+y*y),E!==void 0&&(o+=f,c=Math.acos((E*g+m*y)/(f*d)),c>e&&(o>r&&(r=o,l=u,a=h),o=0,u=h-s)),f=d,E=g,m=y),_=v,p=S}return o+=d,o>r?[u,h]:[l,a]}const Eu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class dR extends Yr{constructor(t,n,i,s){super(t,n,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ee]={fillStyle:Ee},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){const s=this.textFillState_,l=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!s&&!l)return;const r=this.coordinates;let o=r.length;const u=t.getType();let c=null,h=t.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!Se(this.maxExtent,t.getExtent()))return;let f;if(c=t.getFlatCoordinates(),u=="LineString")f=[c.length];else if(u=="MultiLineString")f=t.getEnds();else if(u=="Polygon")f=t.getEnds().slice(0,1);else if(u=="MultiPolygon"){const E=t.getEndss();f=[];for(let m=0,g=E.length;m<g;++m)f.push(E[m][0])}this.beginGeometry(t,n,i);const d=a.repeat,_=d?void 0:a.textAlign;let p=0;for(let E=0,m=f.length;E<m;++E){let g;d?g=hR(d*this.resolution,c,p,f[E],h):g=[c.slice(p,f[E])];for(let y=0,v=g.length;y<v;++y){const S=g[y];let b=0,x=S.length;if(_==null){const R=fR(a.maxAngle,S,0,S.length,2);b=R[0],x=R[1]}for(let R=b;R<x;R+=h)r.push(S[R],S[R+1]);const C=r.length;p=f[E],this.drawChars_(o,C),o=C}}this.endGeometry(n)}else{let f=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),h=2;break;case"Polygon":c=t.getFlatInteriorPoint(),a.overflow||f.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const g=t.getFlatInteriorPoints();c=[];for(let y=0,v=g.length;y<v;y+=3)a.overflow||f.push(g[y+2]/this.resolution),c.push(g[y],g[y+1]);if(c.length===0)return;h=2;break}const d=this.appendFlatPointCoordinates(c,h);if(d===o)return;if(f&&(d-o)/2!==c.length/h){let g=o/2;f=f.filter((y,v)=>{const S=r[(g+v)*2]===c[v*h]&&r[(g+v)*2+1]===c[v*h+1];return S||--g,S})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n,i);let _=a.padding;if(_!=_s&&(a.scale[0]<0||a.scale[1]<0)){let g=a.padding[0],y=a.padding[1],v=a.padding[2],S=a.padding[3];a.scale[0]<0&&(y=-y,S=-S),a.scale[1]<0&&(g=-g,v=-v),_=[g,y,v,S]}const p=this.pixelRatio;this.instructions.push([U.DRAW_IMAGE,o,d,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,_==_s?_s:_.map(function(g){return g*p}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const E=1/p,m=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=Ee,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([U.DRAW_IMAGE,o,d,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterMode_,this.declutterImageWithText_,_,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ee:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),a.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const l=this.textKey_;l in this.textStates||(this.textStates[l]={font:n.font,textAlign:n.textAlign||gr,justify:n.justify,textBaseline:n.textBaseline||mu,scale:n.scale});const a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))}drawChars_(t,n){const i=this.textStrokeState_,s=this.textState_,l=this.strokeKey_,a=this.textKey_,r=this.fillKey_;this.saveTextStates_();const o=this.pixelRatio,u=Eu[s.textBaseline],c=this.textOffsetY_*o,h=this.text_,f=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([U.DRAW_CHARS,t,n,u,s.overflow,r,s.maxAngle,o,c,l,f*o,h,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([U.DRAW_CHARS,t,n,u,s.overflow,r&&Ee,s.maxAngle,o,c,l,f*o,h,a,1/o,this.declutterMode_])}setTextStyle(t,n){let i,s,l;if(!t)this.text_="";else{const a=t.getFill();a?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=Tn(a.getColor()||Ee)):(s=null,this.textFillState_=s);const r=t.getStroke();if(!r)l=null,this.textStrokeState_=l;else{l=this.textStrokeState_,l||(l={},this.textStrokeState_=l);const _=r.getLineDash(),p=r.getLineDashOffset(),E=r.getWidth(),m=r.getMiterLimit();l.lineCap=r.getLineCap()||Bl,l.lineDash=_?_.slice():ti,l.lineDashOffset=p===void 0?ei:p,l.lineJoin=r.getLineJoin()||Hl,l.lineWidth=E===void 0?mr:E,l.miterLimit=m===void 0?fr:m,l.strokeStyle=Tn(r.getColor()||dr)}i=this.textState_;const o=t.getFont()||bp;eT(o);const u=t.getScaleArray();i.overflow=t.getOverflow(),i.font=o,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||mu,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||_s,i.scale=u===void 0?[1,1]:u;const c=t.getOffsetX(),h=t.getOffsetY(),f=t.getRotateWithView(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this.textRotation_=d===void 0?0:d,this.strokeKey_=l?(typeof l.strokeStyle=="string"?l.strokeStyle:it(l.strokeStyle))+l.lineCap+l.lineDashOffset+"|"+l.lineWidth+l.lineJoin+l.miterLimit+"["+l.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s&&s.fillStyle?typeof s.fillStyle=="string"?s.fillStyle:"|"+it(s.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const gR={Circle:M_,Default:Yr,Image:uR,LineString:cR,Polygon:M_,Text:dR};class mR{constructor(t,n,i,s){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const l=i[s].finish();t[n][s]=l}}return t}getBuilder(t,n){const i=t!==void 0?t.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let l=s[n];if(l===void 0){const a=gR[n];l=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=l}return l}}function _R(e,t,n,i,s,l,a,r,o,u,c,h){let f=e[t],d=e[t+1],_=0,p=0,E=0,m=0;function g(){_=f,p=d,t+=i,f=e[t],d=e[t+1],m+=E,E=Math.sqrt((f-_)*(f-_)+(d-p)*(d-p))}do g();while(t<n-i&&m+E<l);let y=E===0?0:(l-m)/E;const v=Ke(_,f,y),S=Ke(p,d,y),b=t-i,x=m,C=l+r*o(u,s,c);for(;t<n-i&&m+E<C;)g();y=E===0?0:(C-m)/E;const R=Ke(_,f,y),D=Ke(p,d,y);let N;if(h){const T=[v,S,R,D];ap(T,0,4,2,h,T,T),N=T[0]>T[2]}else N=v>R;const I=Math.PI,B=[],j=b+i===t;t=b,E=0,m=x,f=e[t],d=e[t+1];let H;if(j){g(),H=Math.atan2(d-p,f-_),N&&(H+=H>0?-I:I);const T=(R+v)/2,z=(D+S)/2;return B[0]=[T,z,(C-l)/2,H,s],B}s=s.replace(/\n/g," ");for(let T=0,z=s.length;T<z;){g();let L=Math.atan2(d-p,f-_);if(N&&(L+=L>0?-I:I),H!==void 0){let O=L-H;if(O+=O>I?-2*I:O<-I?2*I:0,Math.abs(O)>a)return null}H=L;const Z=T;let G=0;for(;T<z;++T){const O=N?z-T-1:T,zt=r*o(u,s[O],c);if(t+i<n&&m+E<l+G+zt/2)break;G+=zt}if(T===Z)continue;const Q=N?s.substring(z-Z,z-T):s.substring(Z,T);y=E===0?0:(l+G/2-m)/E;const P=Ke(_,f,y),ct=Ke(p,d,y);B.push([P,ct,G/2,L,Q]),l+=G}return B}const ks=sn(),yi=[],Un=[],Yn=[],pi=[];function w_(e){return e[3].declutterBox}const O_=new RegExp("[-----]");function sh(e,t){return t==="start"?t=O_.test(e)?"right":"left":t==="end"&&(t=O_.test(e)?"left":"right"),Eu[t]}function yR(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}class pR{constructor(t,n,i,s,l){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=fn(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=l?new kp:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,s){const l=t+n+i+s;if(this.labels_[l])return this.labels_[l];const a=s?this.strokeStates[s]:null,r=i?this.fillStates[i]:null,o=this.textStates[n],u=this.pixelRatio,c=[o.scale[0]*u,o.scale[1]*u],h=Array.isArray(t),f=o.justify?Eu[o.justify]:sh(Array.isArray(t)?t[0]:t,o.textAlign||gr),d=s&&a.lineWidth?a.lineWidth:0,_=h?t:t.split(`
`).reduce(yR,[]),{width:p,height:E,widths:m,heights:g,lineWidths:y}=iT(o,_),v=p+d,S=[],b=(v+2)*c[0],x=(E+d)*c[1],C={width:b<0?Math.floor(b):Math.ceil(b),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:S};(c[0]!=1||c[1]!=1)&&S.push("scale",c),s&&(S.push("strokeStyle",a.strokeStyle),S.push("lineWidth",d),S.push("lineCap",a.lineCap),S.push("lineJoin",a.lineJoin),S.push("miterLimit",a.miterLimit),S.push("setLineDash",[a.lineDash]),S.push("lineDashOffset",a.lineDashOffset)),i&&S.push("fillStyle",r.fillStyle),S.push("textBaseline","middle"),S.push("textAlign","center");const R=.5-f;let D=f*v+R*d;const N=[],I=[];let B=0,j=0,H=0,T=0,z;for(let L=0,Z=_.length;L<Z;L+=2){const G=_[L];if(G===`
`){j+=B,B=0,D=f*v+R*d,++T;continue}const Q=_[L+1]||o.font;Q!==z&&(s&&N.push("font",Q),i&&I.push("font",Q),z=Q),B=Math.max(B,g[H]);const P=[G,D+R*m[H]+f*(m[H]-y[T]),.5*(d+B)+j];D+=m[H],s&&N.push("strokeText",P),i&&I.push("fillText",P),++H}return Array.prototype.push.apply(S,N),Array.prototype.push.apply(S,I),this.labels_[l]=C,C}replayTextBackground_(t,n,i,s,l,a,r){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,l),t.lineTo.apply(t,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(t)),r&&(this.setStrokeStyle_(t,r),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,s,l,a,r,o,u,c,h,f,d,_,p,E){r*=f[0],o*=f[1];let m=i-r,g=s-o;const y=l+u>t?t-u:l,v=a+c>n?n-c:a,S=_[3]+y*f[0]+_[1],b=_[0]+v*f[1]+_[2],x=m-_[3],C=g-_[0];(p||h!==0)&&(yi[0]=x,pi[0]=x,yi[1]=C,Un[1]=C,Un[0]=x+S,Yn[0]=Un[0],Yn[1]=C+b,pi[1]=Yn[1]);let R;return h!==0?(R=ri(fn(),i,s,1,1,h,-i,-s),Qt(R,yi),Qt(R,Un),Qt(R,Yn),Qt(R,pi),Pi(Math.min(yi[0],Un[0],Yn[0],pi[0]),Math.min(yi[1],Un[1],Yn[1],pi[1]),Math.max(yi[0],Un[0],Yn[0],pi[0]),Math.max(yi[1],Un[1],Yn[1],pi[1]),ks)):Pi(Math.min(x,x+S),Math.min(C,C+b),Math.max(x,x+S),Math.max(C,C+b),ks),d&&(m=Math.round(m),g=Math.round(g)),{drawImageX:m,drawImageY:g,drawImageW:y,drawImageH:v,originX:u,originY:c,declutterBox:{minX:ks[0],minY:ks[1],maxX:ks[2],maxY:ks[3],value:E},canvasTransform:R,scale:f}}replayImageOrLabel_(t,n,i,s,l,a,r){const o=!!(a||r),u=s.declutterBox,c=r?r[2]*s.scale[0]/2:0;return u.minX-c<=n[0]&&u.maxX+c>=0&&u.minY-c<=n[1]&&u.maxY+c>=0&&(o&&this.replayTextBackground_(t,yi,Un,Yn,pi,a,r),sT(t,s.canvasTransform,l,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const i=Qt(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;t.save(),t.translate(i[0]%s,i[1]%s),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,s){const l=this.textStates[n],a=this.createLabel(t,n,s,i),r=this.strokeStates[i],o=this.pixelRatio,u=sh(Array.isArray(t)?t[0]:t,l.textAlign||gr),c=Eu[l.textBaseline||mu],h=r&&r.lineWidth?r.lineWidth:0,f=a.width/o-2*l.scale[0],d=u*f+2*(.5-u)*h,_=c*a.height/o+2*(.5-c)*h;return{label:a,anchorX:d,anchorY:_}}execute_(t,n,i,s,l,a,r,o){const u=this.zIndexContext_;let c;this.pixelCoordinates_&&$i(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Zi(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),tx(this.renderedTransform_,i));let h=0;const f=s.length;let d=0,_,p,E,m,g,y,v,S,b,x,C,R,D,N=0,I=0,B=null,j=null;const H=this.coordinateCache_,T=this.viewRotation_,z=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:T},Z=this.instructions!=s||this.overlaps?0:200;let G,Q,P,ct;for(;h<f;){const O=s[h];switch(O[0]){case U.BEGIN_GEOMETRY:G=O[1],ct=O[3],G.getGeometry()?r!==void 0&&!Se(r,ct.getExtent())?h=O[2]+1:++h:h=O[2],u&&(u.zIndex=O[4]);break;case U.BEGIN_PATH:N>Z&&(this.fill_(t),N=0),I>Z&&(t.stroke(),I=0),!N&&!I&&(t.beginPath(),g=NaN,y=NaN),++h;break;case U.CIRCLE:d=O[1];const ie=c[d],Nt=c[d+1],an=c[d+2],ts=c[d+3],ce=an-ie,Xr=ts-Nt,ia=Math.sqrt(ce*ce+Xr*Xr);t.moveTo(ie+ia,Nt),t.arc(ie,Nt,ia,0,2*Math.PI,!0),++h;break;case U.CLOSE_PATH:t.closePath(),++h;break;case U.CUSTOM:d=O[1],_=O[2];const nc=O[3],ci=O[4],sa=O[5];L.geometry=nc,L.feature=G,h in H||(H[h]=[]);const hi=H[h];sa?sa(c,d,_,2,hi):(hi[0]=c[d],hi[1]=c[d+1],hi.length=2),u&&(u.zIndex=O[6]),ci(hi,L),++h;break;case U.DRAW_IMAGE:d=O[1],_=O[2],b=O[3],p=O[4],E=O[5];let la=O[6];const jr=O[7],ic=O[8],rn=O[9],Ue=O[10];let On=O[11];const es=O[12];let ns=O[13];m=O[14]||"declutter";const fi=O[15];if(!b&&O.length>=20){x=O[19],C=O[20],R=O[21],D=O[22];const Ye=this.drawLabelWithPointPlacement_(x,C,R,D);b=Ye.label,O[3]=b;const ss=O[23];p=(Ye.anchorX-ss)*this.pixelRatio,O[4]=p;const Xe=O[24];E=(Ye.anchorY-Xe)*this.pixelRatio,O[5]=E,la=b.height,O[6]=la,ns=b.width,O[13]=ns}let is;O.length>25&&(is=O[25]);let di,Ys,Pt;O.length>17?(di=O[16],Ys=O[17],Pt=O[18]):(di=_s,Ys=!1,Pt=!1),Ue&&z?On+=T:!Ue&&!z&&(On-=T);let rv=0;for(;d<_;d+=2){if(is&&is[rv++]<ns/this.pixelRatio)continue;const Ye=this.calculateImageOrLabelDimensions_(b.width,b.height,c[d],c[d+1],ns,la,p,E,ic,rn,On,es,l,di,Ys||Pt,G),ss=[t,n,b,Ye,jr,Ys?B:null,Pt?j:null];if(o){let Xe,_n,je;if(fi){const At=_-d;if(!fi[At]){fi[At]={args:ss,declutterMode:m};continue}const he=fi[At];Xe=he.args,_n=he.declutterMode,delete fi[At],je=w_(Xe)}let Dn,Ln;if(Xe&&(_n!=="declutter"||!o.collides(je))&&(Dn=!0),(m!=="declutter"||!o.collides(Ye.declutterBox))&&(Ln=!0),_n==="declutter"&&m==="declutter"){const At=Dn&&Ln;Dn=At,Ln=At}Dn&&(_n!=="none"&&o.insert(je),this.replayImageOrLabel_.apply(this,Xe)),Ln&&(m!=="none"&&o.insert(Ye.declutterBox),this.replayImageOrLabel_.apply(this,ss))}else this.replayImageOrLabel_.apply(this,ss)}++h;break;case U.DRAW_CHARS:const Jd=O[1],$d=O[2],sc=O[3],ov=O[4];D=O[5];const uv=O[6],tg=O[7],eg=O[8];R=O[9];const lc=O[10];x=O[11],C=O[12];const ng=[O[13],O[13]];m=O[14]||"declutter";const ac=this.textStates[C],aa=ac.font,ra=[ac.scale[0]*tg,ac.scale[1]*tg];let oa;aa in this.widths_?oa=this.widths_[aa]:(oa={},this.widths_[aa]=oa);const ig=oR(c,Jd,$d,2),sg=Math.abs(ra[0])*u_(aa,x,oa);if(ov||sg<=ig){const Ye=this.textStates[C].textAlign,ss=(ig-sg)*sh(x,Ye),Xe=_R(c,Jd,$d,2,x,ss,uv,Math.abs(ra[0]),u_,aa,oa,z?0:this.viewRotation_);t:if(Xe){const _n=[];let je,Dn,Ln,At,he;if(R)for(je=0,Dn=Xe.length;je<Dn;++je){he=Xe[je],Ln=he[4],At=this.createLabel(Ln,C,"",R),p=he[2]+(ra[0]<0?-lc:lc),E=sc*At.height+(.5-sc)*2*lc*ra[1]/ra[0]-eg;const zn=this.calculateImageOrLabelDimensions_(At.width,At.height,he[0],he[1],At.width,At.height,p,E,0,0,he[3],ng,!1,_s,!1,G);if(o&&m==="declutter"&&o.collides(zn.declutterBox))break t;_n.push([t,n,At,zn,1,null,null])}if(D)for(je=0,Dn=Xe.length;je<Dn;++je){he=Xe[je],Ln=he[4],At=this.createLabel(Ln,C,D,""),p=he[2],E=sc*At.height-eg;const zn=this.calculateImageOrLabelDimensions_(At.width,At.height,he[0],he[1],At.width,At.height,p,E,0,0,he[3],ng,!1,_s,!1,G);if(o&&m==="declutter"&&o.collides(zn.declutterBox))break t;_n.push([t,n,At,zn,1,null,null])}o&&m!=="none"&&o.load(_n.map(w_));for(let zn=0,cv=_n.length;zn<cv;++zn)this.replayImageOrLabel_.apply(this,_n[zn])}}++h;break;case U.END_GEOMETRY:if(a!==void 0){G=O[1];const Ye=a(G,ct,m);if(Ye)return Ye}++h;break;case U.FILL:Z?N++:this.fill_(t),++h;break;case U.MOVE_TO_LINE_TO:for(d=O[1],_=O[2],Q=c[d],P=c[d+1],t.moveTo(Q,P),g=Q+.5|0,y=P+.5|0,d+=2;d<_;d+=2)Q=c[d],P=c[d+1],v=Q+.5|0,S=P+.5|0,(d==_-2||v!==g||S!==y)&&(t.lineTo(Q,P),g=v,y=S);++h;break;case U.SET_FILL_STYLE:B=O,this.alignAndScaleFill_=O[2],N&&(this.fill_(t),N=0,I&&(t.stroke(),I=0)),t.fillStyle=O[1],++h;break;case U.SET_STROKE_STYLE:j=O,I&&(t.stroke(),I=0),this.setStrokeStyle_(t,O),++h;break;case U.STROKE:Z?I++:t.stroke(),++h;break;default:++h;break}}N&&this.fill_(t),I&&t.stroke()}execute(t,n,i,s,l,a){this.viewRotation_=s,this.execute_(t,n,i,this.instructions,l,void 0,void 0,a)}executeHitDetection(t,n,i,s,l){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,s,l)}}const ml=["Polygon","Circle","LineString","Image","Text","Default"],iv=["Image","Text"],vR=ml.filter(e=>!iv.includes(e));class ER{constructor(t,n,i,s,l,a,r){this.maxExtent_=t,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=fn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(l,r)}clip(t,n){const i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(const i in t){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const l=t[i];for(const a in l){const r=l[a];s[a]=new pR(this.resolution_,this.pixelRatio_,this.overlaps_,r,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,l=t.length;s<l;++s)if(t[s]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,s,l,a){s=Math.round(s);const r=s*2+1,o=ri(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=ne(r,r,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;c.canvas.width!==r||c.canvas.height!==r?(c.canvas.width=r,c.canvas.height=r):u||c.clearRect(0,0,r,r);let h;this.renderBuffer_!==void 0&&(h=sn(),Ha(h,t),Cd(h,n*(this.renderBuffer_+s),h));const f=SR(s);let d;function _(S,b,x){const C=c.getImageData(0,0,r,r).data;for(let R=0,D=f.length;R<D;R++)if(C[f[R]]>0){if(!a||x==="none"||d!=="Image"&&d!=="Text"||a.includes(S)){const N=(f[R]-3)/4,I=s-N%r,B=s-(N/r|0),j=l(S,b,I*I+B*B);if(j)return j}c.clearRect(0,0,r,r);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort($n);let E,m,g,y,v;for(E=p.length-1;E>=0;--E){const S=p[E].toString();for(g=this.executorsByZIndex_[S],m=ml.length-1;m>=0;--m)if(d=ml[m],y=g[d],y!==void 0&&(v=y.executeHitDetection(c,o,i,_,h),v))return v}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],l=n[2],a=n[3],r=[i,s,i,a,l,a,l,s];return Zi(r,0,8,2,t,r),r}isEmpty(){return Xl(this.executorsByZIndex_)}execute(t,n,i,s,l,a,r){const o=Object.keys(this.executorsByZIndex_).map(Number);o.sort($n),a=a||ml;const u=ml.length;let c,h,f,d,_;for(r&&o.reverse(),c=0,h=o.length;c<h;++c){const p=o[c].toString();for(_=this.executorsByZIndex_[p],f=0,d=a.length;f<d;++f){const E=a[f],m=_[E];if(m!==void 0){const g=r===null?void 0:m.getZIndexContext(),y=g?g.getContext():t,v=this.maxExtent_&&E!=="Image"&&E!=="Text";if(v&&(y.save(),this.clip(y,i)),!g||E==="Text"||E==="Image"?m.execute(y,n,i,s,l,r):g.pushFunction(S=>m.execute(S,n,i,s,l,r)),v&&y.restore(),g){g.offset();const S=o[c]*u+f;this.deferredZIndexContexts_[S]||(this.deferredZIndexContexts_[S]=[]),this.deferredZIndexContexts_[S].push(g)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort($n);for(let i=0,s=n.length;i<s;++i)t[n[i]].forEach(l=>{l.draw(this.renderedContext_),l.clear()}),t[n[i]].length=0}}const lh={};function SR(e){if(lh[e]!==void 0)return lh[e];const t=e*2+1,n=e*e,i=new Array(n+1);for(let l=0;l<=e;++l)for(let a=0;a<=e;++a){const r=l*l+a*a;if(r>n)break;let o=i[r];o||(o=[],i[r]=o),o.push(((e+l)*t+(e+a))*4+3),l>0&&o.push(((e-l)*t+(e+a))*4+3),a>0&&(o.push(((e+l)*t+(e-a))*4+3),l>0&&o.push(((e-l)*t+(e-a))*4+3))}const s=[];for(let l=0,a=i.length;l<a;++l)i[l]&&s.push(...i[l]);return lh[e]=s,s}class xR extends nv{constructor(t,n,i,s,l,a,r){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?Sd(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=l,this.squaredTolerance_=a,this.userTransform_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=fn()}drawImages_(t,n,i,s){if(!this.image_)return;const l=Zi(t,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_,r=this.tmpLocalTransform_,o=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=o*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=l.length;c<h;c+=2){const f=l[c]-this.imageAnchorX_,d=l[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const _=f+this.imageAnchorX_,p=d+this.imageAnchorY_;ri(r,_,p,1,1,u,-_,-p),a.save(),a.transform.apply(a,r),a.translate(_,p),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,d,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=o)}drawText_(t,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const l=Zi(t,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_;let r=this.textRotation_;for(this.transformRotation_===0&&(r-=this.viewRotation_),this.textRotateWithView_&&(r+=this.viewRotation_);n<i;n+=s){const o=l[n]+this.textOffsetX_,u=l[n+1]+this.textOffsetY_;r!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(o-this.textOffsetX_,u-this.textOffsetY_),a.rotate(r),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,o,u),this.textFillState_&&a.fillText(this.text_,o,u))}}moveToLineTo_(t,n,i,s,l){const a=this.context_,r=Zi(t,n,i,s,this.transform_,this.pixelCoordinates_);a.moveTo(r[0],r[1]);let o=r.length;l&&(o-=2);for(let u=2;u<o;u+=2)a.lineTo(r[u],r[u+1]);return l&&a.closePath(),i}drawRings_(t,n,i,s){for(let l=0,a=i.length;l<a;++l)n=this.moveToLineTo_(t,n,i[l],s,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Se(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=rx(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],l=Math.sqrt(i*i+s*s),a=this.context_;a.beginPath(),a.arc(n[0],n[1],l,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Se(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Se(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=t.getFlatCoordinates();let l=0;const a=t.getEnds(),r=t.getStride();i.beginPath();for(let o=0,u=a.length;o<u;++o)l=this.moveToLineTo_(s,l,a[o],r,!1);i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Se(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Se(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getOrientedFlatCoordinates();let s=0;const l=t.getEndss(),a=t.getStride();n.beginPath();for(let r=0,o=l.length;r<o;++r){const u=l[r];s=this.drawRings_(i,s,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),$i(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:gr;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=s,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const i=t.getColor();this.fillState_={fillStyle:Tn(i||Ee)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),s=n.getLineCap(),l=n.getLineDash(),a=n.getLineDashOffset(),r=n.getLineJoin(),o=n.getWidth(),u=n.getMiterLimit(),c=l||ti;this.strokeState_={lineCap:s!==void 0?s:Bl,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(a||ei)*this.pixelRatio_,lineJoin:r!==void 0?r:Hl,lineWidth:(o!==void 0?o:mr)*this.pixelRatio_,miterLimit:u!==void 0?u:fr,strokeStyle:Tn(i||dr)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const i=t.getPixelRatio(this.pixelRatio_),s=t.getAnchor(),l=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=l[0],this.imageOriginY_=l[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const a=t.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const d=n.getColor();this.textFillState_={fillStyle:Tn(d||Ee)}}const i=t.getStroke();if(!i)this.textStrokeState_=null;else{const d=i.getColor(),_=i.getLineCap(),p=i.getLineDash(),E=i.getLineDashOffset(),m=i.getLineJoin(),g=i.getWidth(),y=i.getMiterLimit();this.textStrokeState_={lineCap:_!==void 0?_:Bl,lineDash:p||ti,lineDashOffset:E||ei,lineJoin:m!==void 0?m:Hl,lineWidth:g!==void 0?g:mr,miterLimit:y!==void 0?y:fr,strokeStyle:Tn(d||dr)}}const s=t.getFont(),l=t.getOffsetX(),a=t.getOffsetY(),r=t.getRotateWithView(),o=t.getRotation(),u=t.getScaleArray(),c=t.getText(),h=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:s!==void 0?s:bp,textAlign:h!==void 0?h:gr,textBaseline:f!==void 0?f:mu},this.text_=c!==void 0?Array.isArray(c)?c.reduce((d,_,p)=>d+=p%2?" ":_,""):c:"",this.textOffsetX_=l!==void 0?this.pixelRatio_*l:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=r!==void 0?r:!1,this.textRotation_=o!==void 0?o:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const pn=.5;function TR(e,t,n,i,s,l,a,r,o){const u=s,c=e[0]*pn,h=e[1]*pn,f=ne(c,h);f.imageSmoothingEnabled=!1;const d=f.canvas,_=new xR(f,pn,s,null,a,r,null),p=n.length,E=Math.floor((256*256*256-1)/p),m={};for(let y=1;y<=p;++y){const v=n[y-1],S=v.getStyleFunction()||i;if(!S)continue;let b=S(v,l);if(!b)continue;Array.isArray(b)||(b=[b]);const C=(y*E).toString(16).padStart(7,"#00000");for(let R=0,D=b.length;R<D;++R){const N=b[R],I=N.getGeometryFunction()(v);if(!I||!Se(u,I.getExtent()))continue;const B=N.clone(),j=B.getFill();j&&j.setColor(C);const H=B.getStroke();H&&(H.setColor(C),H.setLineDash(null)),B.setText(void 0);const T=N.getImage();if(T){const G=T.getImageSize();if(!G)continue;const Q=ne(G[0],G[1],void 0,{alpha:!1}),P=Q.canvas;Q.fillStyle=C,Q.fillRect(0,0,P.width,P.height),B.setImage(new Gr({img:P,anchor:T.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:T.getOrigin(),opacity:1,size:T.getSize(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}const z=B.getZIndex()||0;let L=m[z];L||(L={},m[z]=L,L.Polygon=[],L.Circle=[],L.LineString=[],L.Point=[]);const Z=I.getType();if(Z==="GeometryCollection"){const G=I.getGeometriesArrayRecursive();for(let Q=0,P=G.length;Q<P;++Q){const ct=G[Q];L[ct.getType().replace("Multi","")].push(ct,B)}}else L[Z.replace("Multi","")].push(I,B)}}const g=Object.keys(m).map(Number).sort($n);for(let y=0,v=g.length;y<v;++y){const S=m[g[y]];for(const b in S){const x=S[b];for(let C=0,R=x.length;C<R;C+=2){_.setStyle(x[C+1]);for(let D=0,N=t.length;D<N;++D)_.setTransform(t[D]),_.drawGeometry(x[C])}}}return f.getImageData(0,0,d.width,d.height)}function CR(e,t,n){const i=[];if(n){const s=Math.floor(Math.round(e[0])*pn),l=Math.floor(Math.round(e[1])*pn),a=(Yt(s,0,n.width-1)+Yt(l,0,n.height-1)*n.width)*4,r=n.data[a],o=n.data[a+1],c=n.data[a+2]+256*(o+256*r),h=Math.floor((256*256*256-1)/t.length);c&&c%h===0&&i.push(t[c/h-1])}return i}const RR=.5,sv={Point:zR,LineString:OR,Polygon:IR,MultiPoint:NR,MultiLineString:DR,MultiPolygon:LR,GeometryCollection:wR,Circle:AR};function bR(e,t){return parseInt(it(e),10)-parseInt(it(t),10)}function D_(e,t){const n=lv(e,t);return n*n}function lv(e,t){return RR*e/t}function AR(e,t,n,i,s){const l=n.getFill(),a=n.getStroke();if(l||a){const o=e.getBuilder(n.getZIndex(),"Circle");o.setFillStrokeStyle(l,a),o.drawCircle(t,i,s)}const r=n.getText();if(r&&r.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(r),o.drawText(t,i)}}function L_(e,t,n,i,s,l,a,r){const o=[],u=n.getImage();if(u){let f=!0;const d=u.getImageState();d==J.LOADED||d==J.ERROR?f=!1:d==J.IDLE&&u.load(),f&&o.push(u.ready())}const c=n.getFill();c&&c.loading()&&o.push(c.ready());const h=o.length>0;return h&&Promise.all(o).then(()=>s(null)),MR(e,t,n,i,l,a,r),h}function MR(e,t,n,i,s,l,a){const r=n.getGeometryFunction()(t);if(!r)return;const o=r.simplifyTransformed(i,s);if(n.getRenderer())av(e,o,n,t,a);else{const c=sv[o.getType()];c(e,o,n,t,a,l)}}function av(e,t,n,i,s){if(t.getType()=="GeometryCollection"){const a=t.getGeometries();for(let r=0,o=a.length;r<o;++r)av(e,a[r],n,i,s);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}function wR(e,t,n,i,s,l){const a=t.getGeometriesArray();let r,o;for(r=0,o=a.length;r<o;++r){const u=sv[a[r].getType()];u(e,a[r],n,i,s,l)}}function OR(e,t,n,i,s){const l=n.getStroke();if(l){const r=e.getBuilder(n.getZIndex(),"LineString");r.setFillStrokeStyle(null,l),r.drawLineString(t,i,s)}const a=n.getText();if(a&&a.getText()){const r=e.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,i,s)}}function DR(e,t,n,i,s){const l=n.getStroke();if(l){const r=e.getBuilder(n.getZIndex(),"LineString");r.setFillStrokeStyle(null,l),r.drawMultiLineString(t,i,s)}const a=n.getText();if(a&&a.getText()){const r=e.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,i,s)}}function LR(e,t,n,i,s){const l=n.getFill(),a=n.getStroke();if(a||l){const o=e.getBuilder(n.getZIndex(),"Polygon");o.setFillStrokeStyle(l,a),o.drawMultiPolygon(t,i,s)}const r=n.getText();if(r&&r.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(r),o.drawText(t,i,s)}}function zR(e,t,n,i,s,l){const a=n.getImage(),r=n.getText(),o=r&&r.getText(),u=l&&a&&o?{}:void 0;if(a){if(a.getImageState()!=J.LOADED)return;const c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,u),c.drawPoint(t,i,s)}if(o){const c=e.getBuilder(n.getZIndex(),"Text");c.setTextStyle(r,u),c.drawText(t,i,s)}}function NR(e,t,n,i,s,l){const a=n.getImage(),r=a&&a.getOpacity()!==0,o=n.getText(),u=o&&o.getText(),c=l&&r&&u?{}:void 0;if(r){if(a.getImageState()!=J.LOADED)return;const h=e.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,c),h.drawMultiPoint(t,i,s)}if(u){const h=e.getBuilder(n.getZIndex(),"Text");h.setTextStyle(o,c),h.drawText(t,i,s)}}function IR(e,t,n,i,s){const l=n.getFill(),a=n.getStroke();if(l||a){const o=e.getBuilder(n.getZIndex(),"Polygon");o.setFillStrokeStyle(l,a),o.drawPolygon(t,i,s)}const r=n.getText();if(r&&r.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(r),o.drawText(t,i,s)}}class GR extends Vp{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=sn(),this.wrappedRenderedExtent_=sn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){const s=n.extent,l=n.viewState,a=l.center,r=l.resolution,o=l.projection,u=l.rotation,c=o.getExtent(),h=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),d=n.pixelRatio,_=n.viewHints,p=!(_[re.ANIMATING]||_[re.INTERACTING]),E=this.context,m=Math.round(mt(s)/r*d),g=Math.round(ge(s)/r*d),y=h.getWrapX()&&o.canWrapX(),v=y?mt(c):null,S=y?Math.ceil((s[2]-c[2])/v)+1:1;let b=y?Math.floor((s[0]-c[0])/v):0;do{let x=this.getRenderTransform(a,r,0,d,m,g,b*v);n.declutter&&(x=x.slice(0)),t.execute(E,[E.canvas.width,E.canvas.height],x,u,p,i===void 0?ml:i?iv:vR,i?f&&n.declutter[f]:void 0)}while(++b<S)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ne(this.context.canvas.width,this.context.canvas.height,E_))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Pu(this.context),E_.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;const s=t.viewState;this.prepareContainer(t,n);const l=this.context,a=this.replayGroup_;let r=a&&!a.isEmpty();if(!r&&!(this.getLayer().hasListener(Je.PRERENDER)||this.getLayer().hasListener(Je.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(l,t),s.projection,this.clipped_=!1,r&&i.extent&&this.clipping){const o=gs(i.extent);r=Se(o,t.extent),this.clipped_=r&&!ds(o,t.extent),this.clipped_&&this.clipUnrotated(l,t,o)}return r&&this.renderWorlds(a,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&l.restore(),this.postRender(l,t),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),s=this.renderedCenter_,l=this.renderedResolution_,a=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*pn,f=i[1]*pn;c.push(this.getRenderTransform(s,l,a,pn,h,f,0).slice());const d=u.getSource(),_=r.getExtent();if(d.getWrapX()&&r.canWrapX()&&!ds(_,o)){let p=o[0];const E=mt(_);let m=0,g;for(;p<_[0];)--m,g=E*m,c.push(this.getRenderTransform(s,l,a,pn,h,f,g).slice()),p+=E;for(m=0,p=o[2];p>_[2];)++m,g=E*m,c.push(this.getRenderTransform(s,l,a,pn,h,f,g).slice()),p-=E}this.hitDetectionImageData_=TR(i,c,this.renderedFeatures_,u.getStyleFunction(),o,l,a,D_(l,this.renderedPixelRatio_))}n(CR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,s,l){if(!this.replayGroup_)return;const a=n.viewState.resolution,r=n.viewState.rotation,o=this.getLayer(),u={},c=function(_,p,E){const m=it(_),g=u[m];if(g){if(g!==!0&&E<g.distanceSq){if(E===0)return u[m]=!0,l.splice(l.lastIndexOf(g),1),s(_,o,p);g.geometry=p,g.distanceSq=E}}else{if(E===0)return u[m]=!0,s(_,o,p);l.push(u[m]={feature:_,layer:o,geometry:p,distanceSq:E,callback:s})}};let h;const f=[this.replayGroup_],d=this.getLayer().getDeclutter();return f.some(_=>h=_.forEachFeatureAtCoordinate(t,a,r,i,c,d&&n.declutter[d]?n.declutter[d].all().map(p=>p.value):null)),h}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=t.viewHints[re.ANIMATING],l=t.viewHints[re.INTERACTING],a=n.getUpdateWhileAnimating(),r=n.getUpdateWhileInteracting();if(this.ready&&!a&&s||!r&&l)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const o=t.extent,u=t.viewState,c=u.projection,h=u.resolution,f=t.pixelRatio,d=n.getRevision(),_=n.getRenderBuffer();let p=n.getRenderOrder();p===void 0&&(p=bR);const E=u.center.slice(),m=Cd(o,_*h),g=m.slice(),y=[m.slice()],v=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!ds(v,t.extent)){const j=mt(v),H=Math.max(mt(m)/2,j);m[0]=v[0]-H,m[2]=v[2]+H,J1(E,c);const T=W1(y[0],c);T[0]<v[0]&&T[2]<v[2]?y.push([T[0]+j,T[1],T[2]+j,T[3]]):T[0]>v[0]&&T[2]>v[2]&&y.push([T[0]-j,T[1],T[2]-j,T[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&ds(this.wrappedRenderedExtent_,m))return $i(this.renderedExtent_,g)||(this.hitDetectionImageData_=null,this.renderedExtent_=g),this.renderedCenter_=E,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const S=new mR(lv(h,f),m,h,f);let b;for(let j=0,H=y.length;j<H;++j)i.loadFeatures(y[j],h,c);const x=D_(h,f);let C=!0;const R=(j,H)=>{let T;const z=j.getStyleFunction()||n.getStyleFunction();if(z&&(T=z(j,h)),T){const L=this.renderFeature(j,x,T,S,b,this.getLayer().getDeclutter(),H);C=C&&!L}},D=ip(m),N=i.getFeaturesInExtent(D);p&&N.sort(p);for(let j=0,H=N.length;j<H;++j)R(N[j],j);this.renderedFeatures_=N,this.ready=C;const I=S.finish(),B=new ER(m,h,f,i.getOverlaps(),I,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=g,this.wrappedRenderedExtent_=m,this.renderedCenter_=E,this.renderedProjection_=c,this.renderedPixelRatio_=f,this.replayGroup_=B,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,s,l,a,r){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)o=L_(s,t,i[u],n,this.boundHandleStyleImageChange_,l,a,r)||o;else o=L_(s,t,i,n,this.boundHandleStyleImageChange_,l,a,r);return o}}class yf extends Fp{constructor(t){super(t)}createRenderer(){return new GR(this)}}class z_{constructor(t){this.rbush_=new _p(t),this.items_={}}insert(t,n){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[it(n)]=i}load(t,n){const i=new Array(n.length);for(let s=0,l=n.length;s<l;s++){const a=t[s],r=n[s],o={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:r};i[s]=o,this.items_[it(r)]=o}this.rbush_.load(i)}remove(t){const n=it(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){const i=this.items_[it(n)],s=[i.minX,i.minY,i.maxX,i.maxY];rr(s,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(s){return s.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let s=0,l=t.length;s<l;s++)if(i=n(t[s]),i)return i;return i}isEmpty(){return Xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Pi(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}function FR(e,t,n,i){const s=[];let l=sn();for(let a=0,r=n.length;a<r;++a){const o=n[a];l=Rd(e,t,o[0],i),s.push((l[0]+l[2])/2,(l[1]+l[3])/2),t=o[o.length-1]}return s}const N_=fn();class Ze{constructor(t,n,i,s,l,a){this.styleFunction,this.extent_,this.id_=a,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=l,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?V1(this.flatCoordinates_):Rd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Os(this.getExtent());this.flatInteriorPoints_=Id(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Sx(this.flatCoordinates_,this.ends_),n=FR(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=_x(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=b_(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,l=i.length;s<l;++s){const a=i[s],r=b_(t,n,a,2,.5);ar(this.flatMidpoints_,r),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=ln(t);const n=t.getExtent(),i=t.getWorldExtent();if(n&&i){const s=ge(i)/ge(n);ri(N_,i[0],i[3],s,-s,0,0,0),Zi(this.flatCoordinates_,0,this.flatCoordinates_.length,2,N_,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Ze(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=j1((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=Nd(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=fx(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,s);break;case"Polygon":s=[],i.length=cp(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,s);break}return s&&(this.simplifiedGeometry_=new Ze(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Ze.prototype.getFlatCoordinates=Ze.prototype.getOrientedFlatCoordinates;const Be={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function UR(e,t){return[[-1/0,-1/0,1/0,1/0]]}let YR=!1;function XR(e,t,n,i,s,l,a){const r=new XMLHttpRequest;r.open("GET",typeof e=="function"?e(n,i,s):e,!0),t.getType()=="arraybuffer"&&(r.responseType="arraybuffer"),r.withCredentials=YR,r.onload=function(o){if(!r.status||r.status>=200&&r.status<300){const u=t.getType();try{let c;u=="text"||u=="json"?c=r.responseText:u=="xml"?c=r.responseXML||r.responseText:u=="arraybuffer"&&(c=r.response),c?l(t.readFeatures(c,{extent:n,featureProjection:s}),t.readProjection(c)):a()}catch{a()}}else a()},r.onerror=a,r.send()}function I_(e,t){return function(n,i,s,l,a){const r=this;XR(e,t,n,i,s,function(o,u){r.addFeatures(o),l!==void 0&&l(o)},a||Yl)}}class vi extends wn{constructor(t,n,i){super(t),this.feature=n,this.features=i}}class jR extends Jp{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Yl,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(at(this.format_,"`format` must be set when `url` is set"),this.loader_=I_(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:UR;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new z_:null,this.loadedExtentsRtree_=new z_,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(t.features)?s=t.features:t.features&&(i=t.features,s=i.getArray()),!n&&i===void 0&&(i=new hn(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=it(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const i=t.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new vi(Be.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Ze||(this.featureChangeKeys_[t]=[lt(n,V.CHANGE,this.handleFeatureChange_,this),lt(n,Ul.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(!(s in this.idIndex_))this.idIndex_[s]=n;else if(n instanceof Ze){const l=this.idIndex_[s];l instanceof Ze?Array.isArray(l)?l.push(n):this.idIndex_[s]=[l,n]:i=!1}else i=!1}return i&&(at(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],i=[],s=[];for(let l=0,a=t.length;l<a;l++){const r=t[l],o=it(r);this.addToIndex_(o,r)&&i.push(r)}for(let l=0,a=i.length;l<a;l++){const r=i[l],o=it(r);this.setupChangeEvents_(o,r);const u=r.getGeometry();if(u){const c=u.getExtent();n.push(c),s.push(r)}else this.nullGeometryFeatures_[o]=r}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(Be.ADDFEATURE))for(let l=0,a=i.length;l<a;l++)this.dispatchEvent(new vi(Be.ADDFEATURE,i[l]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(Be.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(Be.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(Vt.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(Vt.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Tt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(i);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new vi(Be.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(s){const l=s.getGeometry();if(l instanceof Ze||l.intersectsCoordinate(t))return n(s)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){const s=i.getGeometry();if(s instanceof Ze||s.intersectsExtent(t)){const l=n(i);if(l)return l}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Xl(this.nullGeometryFeatures_)||ar(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const s=Q1(t,n);return[].concat(...s.map(l=>this.featuresRtree_.getInExtent(l)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const i=t[0],s=t[1];let l=null;const a=[NaN,NaN];let r=1/0;const o=[-1/0,-1/0,1/0,1/0];return n=n||ws,this.featuresRtree_.forEachInExtent(o,function(u){if(n(u)){const c=u.getGeometry(),h=r;if(r=c instanceof Ze?0:c.closestPointXY(i,s,a,r),r<h){l=u;const f=Math.sqrt(r);o[0]=i-f,o[1]=s-f,o[2]=i+f,o[3]=s+f}}}),l}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,i=it(n),s=n.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const a=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const l=n.getId();if(l!==void 0){const a=l.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new vi(Be.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:it(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Xl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){const s=this.loadedExtentsRtree_,l=this.strategy_(t,n,i);for(let a=0,r=l.length;a<r;++a){const o=l[a];s.forEachInExtent(o,function(c){return ds(c.extent,o)})||(++this.loadingExtentsCount_,this.dispatchEvent(new vi(Be.FEATURESLOADSTART)),this.loader_.call(this,o,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new vi(Be.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new vi(Be.FEATURESLOADERROR))}),s.insert(o,{extent:o.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(t,function(s){if(rr(s.extent,t))return i=s,!0}),i&&n.remove(i)}removeFeatures(t){const n=[];for(let i=0,s=t.length;i<s;++i){const l=t[i],a=this.removeFeatureInternal(l);a&&n.push(a)}n.length>0&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=it(t);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[n];i==null||i.forEach(Tt),delete this.featureChangeKeys_[n];const s=t.getId();if(s!==void 0){const l=s.toString(),a=this.idIndex_[l];a===t?delete this.idIndex_[l]:Array.isArray(a)&&(a.splice(a.indexOf(t),1),a.length===1&&(this.idIndex_[l]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Be.REMOVEFEATURE)&&this.dispatchEvent(new vi(Be.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let n=!1;for(const i in this.idIndex_){const s=this.idIndex_[i];if(t instanceof Ze&&Array.isArray(s)&&s.includes(t))s.splice(s.indexOf(t),1);else if(this.idIndex_[i]===t){delete this.idIndex_[i],n=!0;break}}return n}setLoader(t){this.loader_=t}setUrl(t){at(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(I_(t,this.format_))}}const se={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class BR extends mn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+$x,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(se.ELEMENT,this.handleElementChanged),this.addChangeListener(se.MAP,this.handleMapChanged),this.addChangeListener(se.OFFSET,this.handleOffsetChanged),this.addChangeListener(se.POSITION,this.handlePositionChanged),this.addChangeListener(se.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(se.ELEMENT)}getId(){return this.id}getMap(){return this.get(se.MAP)||null}getOffset(){return this.get(se.OFFSET)}getPosition(){return this.get(se.POSITION)}getPositioning(){return this.get(se.POSITIONING)}handleElementChanged(){Cp(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(gu(this.element),Tt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=lt(t,Hn.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(se.ELEMENT,t)}setMap(t){this.set(se.MAP,t)}setOffset(t){this.set(se.OFFSET,t)}setPosition(t){this.set(se.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(se.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),s=this.getElement(),l=this.getRect(s,[Zx(s),qx(s)]);t=t||{};const a=t.margin===void 0?20:t.margin;if(!ds(i,l)){const r=l[0]-i[0],o=i[2]-l[2],u=l[1]-i[1],c=i[3]-l[3],h=[0,0];if(r<0?h[0]=r-a:o<0&&(h[0]=Math.abs(o)+a),u<0?h[1]=u-a:c<0&&(h[1]=Math.abs(c)+a),h[0]!==0||h[1]!==0){const f=n.getView().getCenterInternal(),d=n.getPixelFromCoordinateInternal(f);if(!d)return;const _=[d[0]+h[0],d[1]+h[1]],p=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(_),duration:p.duration,easing:p.easing})}}}getRect(t,n){const i=t.getBoundingClientRect(),s=i.left+window.pageXOffset,l=i.top+window.pageYOffset;return[s,l,s+n[0],l+n[1]]}setPositioning(t){this.set(se.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const i=t.getPixelFromCoordinate(n),s=t.getSize();this.updateRenderedPosition(i,s)}updateRenderedPosition(t,n){const i=this.element.style,s=this.getOffset(),l=this.getPositioning();this.setVisible(!0);const a=Math.round(t[0]+s[0])+"px",r=Math.round(t[1]+s[1])+"px";let o="0%",u="0%";l=="bottom-right"||l=="center-right"||l=="top-right"?o="-100%":(l=="bottom-center"||l=="center-center"||l=="top-center")&&(o="-50%"),l=="bottom-left"||l=="bottom-center"||l=="bottom-right"?u="-100%":(l=="center-left"||l=="center-center"||l=="center-right")&&(u="-50%");const c=`translate(${o}, ${u}) translate(${a}, ${r})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const HR={SELECT:"select"};class ZR extends wn{constructor(t,n,i,s){super(t),this.selected=n,this.deselected=i,this.mapBrowserEvent=s}}const _o={};class Qd extends na{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:dC,this.addCondition_=t.addCondition?t.addCondition:v_,this.removeCondition_=t.removeCondition?t.removeCondition:v_,this.toggleCondition_=t.toggleCondition?t.toggleCondition:Bp,this.multi_=t.multi?t.multi:!1,this.filter_=t.filter?t.filter:ws,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=t.style!==void 0?t.style:qR(),this.features_=t.features||new hn;let n;if(t.layers)if(typeof t.layers=="function")n=t.layers;else{const i=t.layers;n=function(s){return i.includes(s)}}else n=ws;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,n){this.featureLayerAssociation_[it(t)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[it(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(Vt.ADD,this.boundAddFeature_),this.features_.addEventListener(Vt.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Vt.ADD,this.boundAddFeature_),this.features_.removeEventListener(Vt.REMOVE,this.boundRemoveFeature_))}addFeature_(t){const n=t.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const i=this.getMap().getAllLayers().find(function(s){if(s instanceof yf&&s.getSource()&&s.getSource().hasFeature(n))return s});i&&this.addFeatureLayerAssociation_(n,i)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){const n=it(t);n in _o||(_o[n]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){const n=this.getMap().getInteractions().getArray();for(let s=n.length-1;s>=0;--s){const l=n[s];if(l!==this&&l instanceof Qd&&l.getStyle()&&l.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(l.getStyle());return}}const i=it(t);t.setStyle(_o[i]),delete _o[i]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[it(t)]}handleEvent(t){if(!this.condition_(t))return!0;const n=this.addCondition_(t),i=this.removeCondition_(t),s=this.toggleCondition_(t),l=!n&&!i&&!s,a=t.map,r=this.getFeatures(),o=[],u=[];if(l){Jl(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,(c,h)=>{if(!(!(c instanceof vr)||!this.filter_(c,h)))return this.addFeatureLayerAssociation_(c,h),u.push(c),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=r.getLength()-1;c>=0;--c){const h=r.item(c),f=u.indexOf(h);f>-1?u.splice(f,1):(r.remove(h),o.push(h))}u.length!==0&&r.extend(u)}else{a.forEachFeatureAtPixel(t.pixel,(c,h)=>{if(!(!(c instanceof vr)||!this.filter_(c,h)))return(n||s)&&!r.getArray().includes(c)?(this.addFeatureLayerAssociation_(c,h),u.push(c)):(i||s)&&r.getArray().includes(c)&&(o.push(c),this.removeFeatureLayerAssociation_(c)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=o.length-1;c>=0;--c)r.remove(o[c]);r.extend(u)}return(u.length>0||o.length>0)&&this.dispatchEvent(new ZR(HR.SELECT,u,o,t)),!0}}function qR(){const e=rT();return ar(e.Polygon,e.LineString),ar(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}function kR(){const[e,t]=Xt.useState([]),[n,i]=Xt.useState({}),s=Xt.useRef(null),l=Xt.useRef(null),a=Xt.useRef(null);Xt.useEffect(()=>{async function o(){try{const c=await(await fetch("https://raw.githubusercontent.com/Gabriel-Jagueneau/weatherPod/refs/heads/main/storage/data/competitiveLeaderboard.json")).json();t(c)}catch(u){console.error("Erreur lors du chargement des comptiteurs :",u)}}o()},[]),Xt.useEffect(()=>{if(e.length===0)return;const o={};e.forEach(u=>{u.lat&&u.lon&&(o[u.name]={lat:u.lat,lon:u.lon,address:u.localisation})}),i(o)},[e]),Xt.useEffect(()=>{if(!s.current)return;a.current=new jR;const o=new yf({source:a.current,style:new $e({image:new Gr({src:"https://cdn-icons-png.flaticon.com/512/684/684908.png",scale:.05})})});return l.current=new MC({target:s.current,layers:[new jC({source:new aR}),o],view:new yn({center:Zm([2,46]),zoom:5})}),()=>{var u;return(u=l.current)==null?void 0:u.setTarget(null)}},[]),Xt.useEffect(()=>{if(!l.current||!a.current)return;a.current.clear();const o=l.current.getLayers().getArray().find(f=>f instanceof yf);if(!o)return;Object.entries(n).forEach(([f,d])=>{if(!d.lat||!d.lon)return;const _=1e-4*Math.random(),p=e.find(m=>m.name===f),E=new vr({geometry:new ku(Zm([d.lon+_,d.lat+_])),name:p==null?void 0:p.name,score:(p==null?void 0:p.score)||0,system:(p==null?void 0:p.system)||{}});a.current.addFeature(E)});let u=document.getElementById("minimap-popup");if(!u)return;u.style.display="block";const c=new BR({element:u,positioning:"bottom-center",stopEvent:!1,offset:[0,-10]});l.current.addOverlay(c);const h=new Qd({condition:fC,layers:[o]});return l.current.addInteraction(h),h.on("select",f=>{const d=f.selected[0];if(d){const _=d.getGeometry().getCoordinates();c.setPosition(_);const p=d.get("name"),E=d.get("score"),m=d.get("system")||{},g=m.capteurs?m.capteurs.length:0,y=m.Station?"Yes":"No";c.getElement().innerHTML=`<strong>${p}</strong><br/>Score: ${E}<br/>quipement: ${g} capteur(s), Station: ${y}`}else c.setPosition(void 0)}),()=>{l.current.removeOverlay(c),l.current.removeInteraction(h)}},[n,e]);const r=[{key:"verified",label:"Verified",color:"currentColor",d:"m346-60-76-130-151-31 17-147-96-112 96-111-17-147 151-31 76-131 134 62 134-62 77 131 150 31-17 147 96 111-96 112 17 147-150 31-77 130-134-62-134 62Zm27-79 107-45 110 45 67-100 117-30-12-119 81-92-81-94 12-119-117-28-69-100-108 45-110-45-67 100-117 28 12 119-81 94 81 92-12 121 117 28 70 100Zm107-341Zm-43 133 227-225-45-41-182 180-95-99-46 45 141 140Z"},{key:"owner",label:"Owner",color:"currentColor",d:"M203-160v-60h554v60H203Zm-1-144-53-334q-5 2-9.5 2.5t-9.5.5q-21 0-35.5-14.5T80-685q0-21 14.5-36t35.5-15q21 0 36 15t15 36q0 8-2.5 16t-7.5 14l148 66 141-194q-14-6-22.5-18.5T429-830q0-21 15-35.5t36-14.5q21 0 36 14.5t15 35.5q0 16-8.5 28.5T500-783l141 194 148-66q-5-6-7.5-14t-2.5-16q0-21 15-36t35-15q21 0 36 15t15 36q0 21-15 35.5T829-635q-5 0-9-1t-9-3l-53 335H202Zm51-60h454l32-203-118 53-141-195-141 195-118-53 32 203Zm227 0Z"},{key:"new",label:"New",color:"currentColor",d:"M100-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h760q24.75 0 42.38 18Q920-764 920-740v520q0 24-17.62 42-17.63 18-42.38 18H100Zm0-60h760v-520H100v520Zm30-137h45v-170l116 170h43v-246h-45v170L175-603h-45v246Zm249 0h157v-45H429v-54h107v-45H429v-56h107v-46H379v246Zm248 0h170q14.45 0 24.22-9.49Q831-375.98 831-390v-213h-45v196h-53v-155h-45v155h-49v-196h-45v213q0 14.02 9.49 23.51Q612.97-357 627-357ZM100-220v-520 520Z"},{key:"feedback",label:"Feedback",color:"currentColor",d:"M482-80 123-433l197-240h323l198 240L482-80ZM173-701l-72-70 43-44 71 72-42 42Zm279-78v-101h60v101h-60Zm336 78-42-42 72-72 42 44-72 70ZM482-164l246-242H236l246 242ZM349-613 228-466h508L615-613H349Z"},{key:"energy",label:"Energy",color:"currentColor",d:"M460-290q70.83 0 120.42-49.58Q630-389.17 630-460v-170H460q-70.83 0-120.42 49.58Q290-530.83 290-460q0 26.35 8.5 50.68Q307-385 321-363l-22 22q-9 9-9 21t9 21q9 9 21 9t21-9l22-22q22 14 46.32 22.5Q433.65-290 460-290Zm0-60q-14 0-27-4t-27-9l95-96q9-9 9-21t-9-21q-9-9-21-9t-21 9l-96 95q-5-14-9-27t-4-27q0-46.2 31.9-78.1Q413.8-570 460-570h110v110q0 46.2-31.9 78.1Q506.2-350 460-350Zm20 310L342-148l-173-21-21-173L40-480l108-138 21-173 173-21 138-108 138 108 173 21 21 173 108 138-108 138-21 173-173 21L480-40Zm0-77 113.84-88.07 143.91-18.25 17.18-142.84L843-480l-88.07-113.84-18.25-142.84-142.84-18.25L480-843l-113.84 88.07-143.91 18.25-17.18 142.84L117-480l88.07 113.84 18.25 143.91 142.84 17.18L480-117Zm0-363Zm0 0Z"},{key:"bughunter",label:"Bug Hunter",color:"currentColor",d:"M480-180q72 0 123-50.5T654-353v-167q0-72-51-122.5T480-693q-72 0-123 50.5T306-520v167q0 72 51 122.5T480-180Zm-80-140h160v-60H400v60Zm0-173h160v-60H400v60Zm80 57h.5-.5.5-.5.5-.5.5-.5Zm0 316q-65 0-121-31t-83-89H160v-60h92q-7-26-7-52.5V-406h-85v-60h85q0-29 .5-57.5T254-580h-94v-60h120q14-28 37-49t51-35l-77-76 40-40 94 94q28-10 56.5-10t56.5 10l94-94 40 40-76 76q28 14 49.5 35.5T683-640h117v60h-94q9 28 8.5 56.5T714-466h86v60h-86q0 27 .5 53.5T708-300h92v60H685q-26 59-82.5 89.5T480-120Z"},{key:"betatester",label:"Beta Tester",color:"currentColor",d:"M480-80q-155 0-268.53-102.14Q97.94-284.28 83-437h60q15.93 128.35 112.05 212.67Q351.17-140 479.68-140 622-140 721-238.81q99-98.82 99-241.19 0-142.38-98.81-241.19T480-820q-96.33 0-178.67 51Q219-718 177-633h127v60H91q32-136 140.5-221.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm115-243L450-467.98V-674h60v182l127 127-42 42Z"}];return w.jsxs("div",{className:"page history",children:[w.jsx("h1",{children:"Voici la page Comptitive"}),w.jsx("p",{children:"Cette page  pour but de rpertorier chaque capteur et faire un classement des ces dernier par utilisateurs volontaires."}),w.jsx("br",{}),w.jsx("h2",{children:"Classement des Joueurs"}),w.jsx("p",{children:"Toutes les informations montres ici, sont  tout moment supprimables par l'utilisateur en question et/ou des administrateurs."}),w.jsxs("div",{className:"leaderboard",children:[w.jsx("div",{className:"minimap",children:w.jsx("div",{ref:s,style:{height:"100%",width:"100%"}})}),w.jsx("div",{id:"minimap-popup"}),w.jsx("div",{className:"leaderboard-list",children:e.sort((o,u)=>u.score-o.score).map((o,u)=>{var c,h;return w.jsxs("div",{className:"leaderboard-card",children:[w.jsxs("div",{className:"rank",children:["#",u+1]}),w.jsxs("div",{className:"info",children:[w.jsxs("div",{className:"player-name",children:[o.icon&&o.icon.length>0?w.jsx("img",{className:"competitor-icon",src:`https://raw.githubusercontent.com/Gabriel-Jagueneau/weatherPod/refs/heads/main/${o.icon}`,alt:o.name}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor",className:"placeholder-icon",children:w.jsx("path",{d:"M24 24c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0 4c-5.333 0-16 2.667-16 8v4h32v-4c0-5.333-10.667-8-16-8z"})}),w.jsx("span",{children:o.name})]}),w.jsxs("div",{className:"description",children:[w.jsxs("div",{className:"essential",children:[w.jsxs("div",{className:"score",children:[o.score," pts"]}),w.jsx("div",{className:"badges",children:o.badges&&o.badges.map(f=>{const d=r.find(_=>_.key===f);return d?w.jsx("span",{className:"badge",title:d.label,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:d.color,children:w.jsx("path",{d:d.d})})},d.key):null})})]}),w.jsxs("div",{className:"equipment",children:[w.jsx("strong",{children:"quipement:"})," ",(c=o.system)!=null&&c.capteurs?o.system.capteurs:0," capteur(s), Station: ",(h=o.system)!=null&&h.Station?"Oui":"Non"]})]})]})]},o.name)})})]})]})}function VR(){return w.jsxs("div",{className:"page contact",children:[w.jsx("h1",{children:"Voici la page pour nous contacter"}),w.jsx("p",{children:"Cette page sera utilise pour offrir la possiblit de nous contacter pour toute demande d'information ou de support."})]})}function KR(){const[e,t]=Xt.useState(""),[n,i]=Xt.useState(""),[s,l]=Xt.useState(""),a=JSON.parse(localStorage.getItem("usersDB")||"{}"),r=u=>{u.preventDefault(),a[e]&&a[e]===n?(l("Connexion russie !"),a[e+"_lastLogin"]=new Date().toISOString(),localStorage.setItem("usersDB",JSON.stringify(a))):l("Nom d'utilisateur ou mot de passe incorrect.")},o=()=>{if(!e||!n){l("Veuillez remplir tous les champs.");return}if(a[e]){l("Utilisateur dj existant.");return}a[e]=n,a[e+"_lastLogin"]=new Date().toISOString(),localStorage.setItem("usersDB",JSON.stringify(a)),l("Utilisateur cr et connect !")};return w.jsxs("div",{className:"page connect",children:[w.jsxs("div",{className:"connect-card",children:[w.jsx("h1",{children:"Se Connecter"}),w.jsx("p",{children:"Connectez-vous pour accder au programme de comptition."}),w.jsxs("form",{onSubmit:r,children:[w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"text",placeholder:" ",value:e,id:"username",onChange:u=>t(u.target.value)}),w.jsx("label",{id:"username",children:"Nom d'utilisateur"}),e&&w.jsx("button",{type:"button",className:"clear-btn",onClick:()=>t(""),children:"Effacer"})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"password",placeholder:" ",value:n,id:"password",onChange:u=>i(u.target.value)}),w.jsx("label",{id:"password",children:"Mot de passe"}),n&&w.jsx("button",{type:"button",className:"clear-btn",onClick:()=>i(""),children:"Effacer"})]}),w.jsxs("div",{className:"buttons",children:[w.jsx("button",{type:"submit",children:"Se connecter"}),w.jsx("button",{type:"button",onClick:o,children:"S'inscrire"})]})]})]}),s&&w.jsx("div",{className:"message-bubble",children:s})]})}function PR(){const[e,t]=Xt.useState(()=>localStorage.getItem("theme")||"default"),[n,i]=Xt.useState(()=>window.location.hash.replace("#","")||"home");Xt.useEffect(()=>{fS(),t(localStorage.getItem("theme")||"default");const r=()=>{const o=window.location.hash.replace("#","");o&&i(o)};return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const s=r=>{const o=r.target.value;o==="toggle"?(toggleTheme(),t(localStorage.getItem("theme")||"default")):(dS(o),t(o))},l=r=>{i(r),window.location.hash=r},a=()=>{switch(n){case"connect":return w.jsx(KR,{});case"products":return w.jsx(mS,{});case"history":return w.jsx(kR,{});case"contact":return w.jsx(VR,{});case"home":default:return w.jsx(gS,{})}};return w.jsxs("section",{id:"app",children:[w.jsxs("header",{children:[w.jsx("div",{className:"logo",children:w.jsx("img",{src:"",alt:"weatherPod"})}),w.jsxs("nav",{className:"pages","aria-label":"Main navigation",children:[w.jsx("div",{onClick:()=>l("home"),children:"Maison"}),w.jsx("div",{onClick:()=>l("products"),children:"Produits"}),w.jsx("div",{onClick:()=>l("history"),children:"Competitions"}),w.jsx("div",{onClick:()=>l("contact"),children:"Contact"})]}),w.jsxs("div",{className:"more",children:[w.jsx("div",{className:"connexions",children:w.jsx("div",{"aria-label":"login",className:"logo",onClick:()=>l("connect"),children:"person"})}),w.jsx("div",{className:"settings",children:w.jsx("div",{className:"theme",children:w.jsx("select",{id:"theme-select",value:e,onChange:s,children:Y1.map(r=>w.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})})})]})]}),w.jsx("main",{id:"main",children:a()}),w.jsxs("footer",{children:[w.jsx("p",{children:"WeatherPod - 2025"}),w.jsx("p",{children:"Gabriel, Ewenn, Jean & Zachari"}),w.jsx("br",{}),w.jsxs("div",{className:"link",onClick:()=>window.open("https://data.inpi.fr/search?advancedSearch=%257B%257D&filter=%257B%257D&nbResultsPerPage=20&order=asc&page=1&q=weatherPod&sort=relevance&type=brands","_blank"),children:[w.jsx("div",{className:"logo",children:"open_in_new"}),w.jsx("div",{className:"text",children:"https://data.inpi.fr"})]})]})]})}const WR=hS.createRoot(document.getElementById("root"));WR.render(w.jsx(PR,{}));
